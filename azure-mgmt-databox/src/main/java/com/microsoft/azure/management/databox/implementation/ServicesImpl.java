/**
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License. See License.txt in the project root for
 * license information.
 *
 * Code generated by Microsoft (R) AutoRest Code Generator.
 * abc
 */

package com.microsoft.azure.management.databox.implementation;

import com.microsoft.azure.arm.model.implementation.WrapperImpl;
import com.microsoft.azure.management.databox.Services;
import rx.functions.Func1;
import rx.Observable;
import com.microsoft.azure.Page;
import com.microsoft.azure.management.databox.SkuInformation;
import com.microsoft.azure.management.databox.AddressValidationOutput;
import com.microsoft.azure.management.databox.ValidationResponse;
import com.microsoft.azure.management.databox.RegionConfigurationResponse;
import com.microsoft.azure.management.databox.AvailableSkuRequest;
import com.microsoft.azure.management.databox.ValidateAddress;
import com.microsoft.azure.management.databox.ValidationRequest;
import com.microsoft.azure.management.databox.RegionConfigurationRequest;

class ServicesImpl extends WrapperImpl<ServicesInner> implements Services {
    private final DataBoxManager manager;

    ServicesImpl(DataBoxManager manager) {
        super(manager.inner().services());
        this.manager = manager;
    }

    public DataBoxManager manager() {
        return this.manager;
    }

    @Override
    public Observable<SkuInformation> listAvailableSkusByResourceGroupAsync(final String resourceGroupName, final String location, final AvailableSkuRequest availableSkuRequest) {
        ServicesInner client = this.inner();
        return client.listAvailableSkusByResourceGroupAsync(resourceGroupName, location, availableSkuRequest)
        .flatMapIterable(new Func1<Page<SkuInformationInner>, Iterable<SkuInformationInner>>() {
            @Override
            public Iterable<SkuInformationInner> call(Page<SkuInformationInner> page) {
                return page.items();
            }
        })
        .map(new Func1<SkuInformationInner, SkuInformation>() {
            @Override
            public SkuInformation call(SkuInformationInner inner) {
                return new SkuInformationImpl(inner, manager());
            }
        });
    }

    @Override
    public Observable<AddressValidationOutput> validateAddressMethodAsync(String location, ValidateAddress validateAddress) {
        ServicesInner client = this.inner();
        return client.validateAddressMethodAsync(location, validateAddress)
        .map(new Func1<AddressValidationOutputInner, AddressValidationOutput>() {
            @Override
            public AddressValidationOutput call(AddressValidationOutputInner inner) {
                return new AddressValidationOutputImpl(inner, manager());
            }
        });
    }

    @Override
    public Observable<ValidationResponse> validateInputsByResourceGroupAsync(String resourceGroupName, String location, ValidationRequest validationRequest) {
        ServicesInner client = this.inner();
        return client.validateInputsByResourceGroupAsync(resourceGroupName, location, validationRequest)
        .map(new Func1<ValidationResponseInner, ValidationResponse>() {
            @Override
            public ValidationResponse call(ValidationResponseInner inner) {
                return new ValidationResponseImpl(inner, manager());
            }
        });
    }

    @Override
    public Observable<ValidationResponse> validateInputsAsync(String location, ValidationRequest validationRequest) {
        ServicesInner client = this.inner();
        return client.validateInputsAsync(location, validationRequest)
        .map(new Func1<ValidationResponseInner, ValidationResponse>() {
            @Override
            public ValidationResponse call(ValidationResponseInner inner) {
                return new ValidationResponseImpl(inner, manager());
            }
        });
    }

    @Override
    public Observable<RegionConfigurationResponse> regionConfigurationAsync(String location, RegionConfigurationRequest regionConfigurationRequest) {
        ServicesInner client = this.inner();
        return client.regionConfigurationAsync(location, regionConfigurationRequest)
        .map(new Func1<RegionConfigurationResponseInner, RegionConfigurationResponse>() {
            @Override
            public RegionConfigurationResponse call(RegionConfigurationResponseInner inner) {
                return new RegionConfigurationResponseImpl(inner, manager());
            }
        });
    }

    @Override
    public Observable<RegionConfigurationResponse> regionConfigurationByResourceGroupAsync(String resourceGroupName, String location, RegionConfigurationRequest regionConfigurationRequest) {
        ServicesInner client = this.inner();
        return client.regionConfigurationByResourceGroupAsync(resourceGroupName, location, regionConfigurationRequest)
        .map(new Func1<RegionConfigurationResponseInner, RegionConfigurationResponse>() {
            @Override
            public RegionConfigurationResponse call(RegionConfigurationResponseInner inner) {
                return new RegionConfigurationResponseImpl(inner, manager());
            }
        });
    }

}
