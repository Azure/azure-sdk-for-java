trigger: none

jobs:

  # When migrating change path to ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml
  # - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests-pre-sdk.yml
  #   parameters:
  #     # When migrating use ServiceDirectory
  #     PomFilePath: './keyvault/data-plane/pom.xml'
  #     EnvVars:
  #       AZURE_TEST_MODE: RECORD
  #       ARM_CLIENTID: $(java-keyvault-test-arm-client-id)
  #       ARM_CLIENTKEY: $(java-keyvault-test-arm-client-key)

  - template: ../eng/pipelines/templates/jobs/archetype-sdk-tests-pre-sdk-track2.yml
    parameters:
      # When migrating use ServiceDirectory
      JobName: 'Keyvault_Client_Live_Test'
      PomFilePath: './keyvault/client/pom.xml'
      EnvVars:
        AZURE_TEST_MODE: RECORD
        AZURE_CLIENT_ID: $(java-keyvault-test-arm-client-id)
        AZURE_CLIENT_SECRET: $(java-keyvault-test-arm-client-key)
        AZURE_TENANT_ID: $(microsoft-active-directory-tenant-id)
        AZURE_KEYVAULT_ENDPOINT: $(java-azure-keyvault-sdk-endpoint)