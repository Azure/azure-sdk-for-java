// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

package com.azure.core.amqp;

import com.azure.core.util.logging.ClientLogger;

/**
 * Handles exceptions generated by AMQP connections, sessions, and/or links.
 */
public abstract class AmqpExceptionHandler {
    private final ClientLogger logger = new ClientLogger(AmqpExceptionHandler.class);

    /**
     * Creates a new instance of the exception handler.
     */
    protected AmqpExceptionHandler() {
    }

    /**
     * Notifies the exception handler of an exception.
     *
     * @param exception The exception that caused the connection error.
     */
    public void onConnectionError(Throwable exception) {
        logger.asWarning().log("Connection exception encountered: " + exception.toString(), exception);
    }

    /**
     * Notifies the exception handler that a shutdown signal occurred.
     *
     * @param shutdownSignal The shutdown signal that was received.
     */
    public void onConnectionShutdown(AmqpShutdownSignal shutdownSignal) {
        logger.asInfo().log("Shutdown received: {}", shutdownSignal);
    }
}
