steps:
  # Non-standard JDK versions are only supported in Linux.
  # Make the assumption here Linux is being used, if it's not it's a configuration issue that needs to be fixed there.
  - task: Cache@2
    inputs:
      key: 'jdk | "$(JavaBuildVersion)" | "$(CacheSalt)" | "$(Agent.OS)"'
      path: $(Agent.BuildDirectory)/OpenJDK18U-jdk_x64_linux_hotspot_18.0.2.1_1.tar.gz
    displayName: 'Cache Latest JDK'
    condition: eq(variables['LatestJdkVersion'], variables['JavaTestVersion'])

  - task: PowerShell@2
    displayName: 'Install Latest JDK'
    inputs:
      pwsh: true
      workingDirectory: $(Agent.BuildDirectory)
      filePath: eng/scripts/Install-Latest-JDK.ps1
    condition: eq(variables['LatestJdkVersion'], variables['JavaTestVersion'])
