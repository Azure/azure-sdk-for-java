# Template for authenticating with Azure Artifacts Maven feeds
# This should be included before any Maven task that needs to download dependencies
# from the central Azure Artifacts feed.
#
# IMPORTANT: The job that includes this template must have SYSTEM_ACCESSTOKEN variable set:
#   variables:
#     SYSTEM_ACCESSTOKEN: $(System.AccessToken)
#
# This ensures eng/settings.xml (which uses ${env.SYSTEM_ACCESSTOKEN}) can authenticate.

parameters:
  - name: ArtifactsFeeds
    type: string
    default: 'central'

steps:
  - task: MavenAuthenticate@0
    displayName: 'Authenticate with Azure Artifacts'
    inputs:
      artifactsFeeds: ${{ parameters.ArtifactsFeeds }}
