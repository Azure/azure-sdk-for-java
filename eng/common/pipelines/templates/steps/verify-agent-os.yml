parameters:
  - name: ScriptDirectory
    type: string
    default: 'eng/common/scripts'
  - name: AgentPool
    type: string
  - name: AgentImage
    type: string

steps:
  - task: PowerShell@2
    displayName: Verify agent OS
    inputs:
      pwsh: true
      workingDirectory: $(System.DefaultWorkingDirectory)
      filePath: ${{ parameters.ScriptDirectory }}/Verify-AgentOS.ps1
      arguments: >
        -AgentPool ${{ parameters.AgentPool }}
        -AgentImage ${{ parameters.AgentImage }}