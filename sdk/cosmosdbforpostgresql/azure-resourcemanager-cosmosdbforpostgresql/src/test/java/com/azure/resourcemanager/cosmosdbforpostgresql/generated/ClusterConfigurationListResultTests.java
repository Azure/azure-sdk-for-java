// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.cosmosdbforpostgresql.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.cosmosdbforpostgresql.fluent.models.ConfigurationInner;
import com.azure.resourcemanager.cosmosdbforpostgresql.models.ClusterConfigurationListResult;
import com.azure.resourcemanager.cosmosdbforpostgresql.models.ServerRole;
import com.azure.resourcemanager.cosmosdbforpostgresql.models.ServerRoleGroupConfiguration;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ClusterConfigurationListResultTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ClusterConfigurationListResult model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"description\":\"ajzyul\",\"dataType\":\"Boolean\",\"allowedValues\":\"jkrlkhbzhfepg\",\"requiresRestart\":false,\"serverRoleGroupConfigurations\":[{\"role\":\"Worker\",\"value\":\"zloc\",\"defaultValue\":\"c\",\"source\":\"ierhhbcsglummaj\"}],\"provisioningState\":\"Canceled\"},\"id\":\"dxob\",\"name\":\"bdxkqpxokaj\",\"type\":\"onpimexgstxg\"},{\"properties\":{\"description\":\"dg\",\"dataType\":\"Enumeration\",\"allowedValues\":\"r\",\"requiresRestart\":false,\"serverRoleGroupConfigurations\":[{\"role\":\"Worker\",\"value\":\"zrlovmclwhijcoej\",\"defaultValue\":\"bzaqsqsycbkbfk\",\"source\":\"kdkexxp\"},{\"role\":\"Coordinator\",\"value\":\"fmxa\",\"defaultValue\":\"fjpgddtocjjxhvp\",\"source\":\"uexhdzx\"}],\"provisioningState\":\"Failed\"},\"id\":\"ojnxqbzvdd\",\"name\":\"t\",\"type\":\"ndei\"},{\"properties\":{\"description\":\"w\",\"dataType\":\"Boolean\",\"allowedValues\":\"oqvuhr\",\"requiresRestart\":false,\"serverRoleGroupConfigurations\":[{\"role\":\"Worker\",\"value\":\"yd\",\"defaultValue\":\"lmjthjq\",\"source\":\"pyeicxm\"},{\"role\":\"Coordinator\",\"value\":\"iwqvhkh\",\"defaultValue\":\"uigdtopbobjog\",\"source\":\"e\"}],\"provisioningState\":\"Succeeded\"},\"id\":\"a\",\"name\":\"hrzayvvtpgvdf\",\"type\":\"iotkftutqxl\"},{\"properties\":{\"description\":\"lefgugnxk\",\"dataType\":\"Numeric\",\"allowedValues\":\"mi\",\"requiresRestart\":false,\"serverRoleGroupConfigurations\":[{\"role\":\"Coordinator\",\"value\":\"rvqdra\",\"defaultValue\":\"jybige\",\"source\":\"qfbow\"},{\"role\":\"Worker\",\"value\":\"anyktzlcuiywg\",\"defaultValue\":\"wgndrvynhzgpp\",\"source\":\"cgyncocpecf\"}],\"provisioningState\":\"Succeeded\"},\"id\":\"oo\",\"name\":\"sxlzevgbmqj\",\"type\":\"abcypmivk\"}],\"nextLink\":\"zuvccfwnfnbacfio\"}")
            .toObject(ClusterConfigurationListResult.class);
        Assertions.assertEquals(false, model.value().get(0).requiresRestart());
        Assertions.assertEquals(ServerRole.WORKER, model.value().get(0).serverRoleGroupConfigurations().get(0).role());
        Assertions.assertEquals("zloc", model.value().get(0).serverRoleGroupConfigurations().get(0).value());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ClusterConfigurationListResult model
            = new ClusterConfigurationListResult()
                .withValue(
                    Arrays.asList(
                        new ConfigurationInner()
                            .withRequiresRestart(false)
                            .withServerRoleGroupConfigurations(Arrays.asList(
                                new ServerRoleGroupConfiguration().withRole(ServerRole.WORKER).withValue("zloc"))),
                        new ConfigurationInner().withRequiresRestart(false)
                            .withServerRoleGroupConfigurations(Arrays.asList(
                                new ServerRoleGroupConfiguration().withRole(ServerRole.WORKER)
                                    .withValue("zrlovmclwhijcoej"),
                                new ServerRoleGroupConfiguration().withRole(ServerRole.COORDINATOR).withValue("fmxa"))),
                        new ConfigurationInner().withRequiresRestart(false)
                            .withServerRoleGroupConfigurations(Arrays.asList(
                                new ServerRoleGroupConfiguration().withRole(ServerRole.WORKER).withValue("yd"),
                                new ServerRoleGroupConfiguration()
                                    .withRole(ServerRole.COORDINATOR)
                                    .withValue("iwqvhkh"))),
                        new ConfigurationInner().withRequiresRestart(false)
                            .withServerRoleGroupConfigurations(Arrays.asList(
                                new ServerRoleGroupConfiguration().withRole(ServerRole.COORDINATOR).withValue("rvqdra"),
                                new ServerRoleGroupConfiguration().withRole(ServerRole.WORKER)
                                    .withValue("anyktzlcuiywg")))));
        model = BinaryData.fromObject(model).toObject(ClusterConfigurationListResult.class);
        Assertions.assertEquals(false, model.value().get(0).requiresRestart());
        Assertions.assertEquals(ServerRole.WORKER, model.value().get(0).serverRoleGroupConfigurations().get(0).role());
        Assertions.assertEquals("zloc", model.value().get(0).serverRoleGroupConfigurations().get(0).value());
    }
}
