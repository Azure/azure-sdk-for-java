// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.customerinsights.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.customerinsights.CustomerInsightsManager;
import com.azure.resourcemanager.customerinsights.models.PredictionTrainingResults;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class PredictionsGetTrainingResultsWithResponseMockTests {
    @Test
    public void testGetTrainingResultsWithResponse() throws Exception {
        String responseStr
            = "{\"tenantId\":\"gjvxlhmpmhe\",\"scoreName\":\"yaphqeofytlsnlo\",\"predictionDistribution\":{\"totalPositives\":5999865182093687477,\"totalNegatives\":7914815008528252485,\"distributions\":[{\"scoreThreshold\":830001642,\"positives\":8649609726667996589,\"negatives\":3512159331801062995,\"positivesAboveThreshold\":1135867051348018555,\"negativesAboveThreshold\":9121396588511809056},{\"scoreThreshold\":1164130100,\"positives\":6137315607109904151,\"negatives\":3566889987953452366,\"positivesAboveThreshold\":8819425315209116851,\"negativesAboveThreshold\":2298135046068944560},{\"scoreThreshold\":1887536848,\"positives\":4355810509153897712,\"negatives\":8559473593809619801,\"positivesAboveThreshold\":8445149910025425254,\"negativesAboveThreshold\":3794548180901668533},{\"scoreThreshold\":415368250,\"positives\":5682867490503254669,\"negatives\":4680888463251362416,\"positivesAboveThreshold\":1871782564718292804,\"negativesAboveThreshold\":5823288041121210294}]},\"canonicalProfiles\":[{\"canonicalProfileId\":1044663364,\"properties\":[{\"profileName\":\"xxrwqfmdqecvtamq\",\"profilePropertyName\":\"mnobfeww\",\"rank\":1417971865,\"type\":\"DerivedCategorical\",\"value\":\"vuqoqjrkblndyc\"},{\"profileName\":\"gy\",\"profilePropertyName\":\"tqnzjcyqqzhem\",\"rank\":898130466,\"type\":\"Categorical\",\"value\":\"lbadp\"},{\"profileName\":\"jdleajvmvvlooubs\",\"profilePropertyName\":\"ipjeo\",\"rank\":1199695417,\"type\":\"Categorical\",\"value\":\"jomlupfazus\"},{\"profileName\":\"dhuslgdwz\",\"profilePropertyName\":\"dqyxajclgr\",\"rank\":527846308,\"type\":\"Categorical\",\"value\":\"yzoqzkmqcwwsjnk\"}]},{\"canonicalProfileId\":2053619636,\"properties\":[{\"profileName\":\"n\",\"profilePropertyName\":\"qww\",\"rank\":275805178,\"type\":\"DerivedCategorical\",\"value\":\"ilefej\"},{\"profileName\":\"wrznequ\",\"profilePropertyName\":\"nttwk\",\"rank\":1353297778,\"type\":\"Numeric\",\"value\":\"bsyogjmqjhgcyd\"},{\"profileName\":\"nm\",\"profilePropertyName\":\"jbssfcri\",\"rank\":1196526338,\"type\":\"DerivedNumeric\",\"value\":\"dlxwmvc\"}]},{\"canonicalProfileId\":118238012,\"properties\":[{\"profileName\":\"py\",\"profilePropertyName\":\"rwrgorogeuvm\",\"rank\":1658204091,\"type\":\"Numeric\",\"value\":\"sjsem\"},{\"profileName\":\"ofrsnq\",\"profilePropertyName\":\"jp\",\"rank\":1756987323,\"type\":\"DerivedNumeric\",\"value\":\"ikelpmwgr\"}]}],\"primaryProfileInstanceCount\":3508704160548847771}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        CustomerInsightsManager manager = CustomerInsightsManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        PredictionTrainingResults response = manager.predictions()
            .getTrainingResultsWithResponse("pinowrerjp", "ptchdwyq", "idqimlgbbfj", com.azure.core.util.Context.NONE)
            .getValue();

    }
}
