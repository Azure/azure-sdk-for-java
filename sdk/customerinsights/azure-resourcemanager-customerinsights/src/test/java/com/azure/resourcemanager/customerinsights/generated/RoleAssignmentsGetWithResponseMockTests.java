// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.customerinsights.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.customerinsights.CustomerInsightsManager;
import com.azure.resourcemanager.customerinsights.models.RoleAssignmentResourceFormat;
import com.azure.resourcemanager.customerinsights.models.RoleTypes;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class RoleAssignmentsGetWithResponseMockTests {
    @Test
    public void testGetWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"tenantId\":\"pc\",\"assignmentName\":\"ecexkgrvfpsjdmn\",\"displayName\":{\"zbejqfbifop\":\"tqpdzfyxcnwawoxc\"},\"description\":{\"fcuuugtjigpg\":\"dwdrpazqjkrfmbwo\",\"ecjjkmq\":\"yiawohfmhnnz\",\"vslvivqsuvwten\":\"nhaidzrpvsgloi\",\"cyoaqxukui\":\"gpijpk\"},\"provisioningState\":\"Failed\",\"role\":\"Admin\",\"principals\":[{\"principalId\":\"ekiooanduewfhv\",\"principalType\":\"x\",\"principalMetadata\":{\"vzuaixc\":\"zubfjzabbwz\",\"igavk\":\"ckixsps\",\"jrk\":\"vyxzer\",\"itwhlbecgihz\":\"zjbyetjxryopta\"}}],\"profiles\":{\"elements\":[\"nrra\",\"ovrwwx\"],\"exceptions\":[\"jhspboxhifpps\",\"peswyhhmifjuajx\"]},\"interactions\":{\"elements\":[\"mmp\"],\"exceptions\":[\"y\",\"qvcml\",\"exbzbqufpnezsjza\"]},\"links\":{\"elements\":[\"rorh\"],\"exceptions\":[\"zmsimehtcu\",\"wdhtqqhyhnimxtn\",\"ugisnomwnwngho\"]},\"kpis\":{\"elements\":[\"eyym\",\"cjixxf\",\"fpcrtnuguef\",\"xijtebdveywet\"],\"exceptions\":[\"lolmcnwepfgsv\",\"bv\"]},\"sasPolicies\":{\"elements\":[\"jnpetlrnrdeta\",\"evxehuekdxljz\",\"dovbrbler\",\"prdaqcc\"],\"exceptions\":[\"bnygdjc\",\"xwbpwyykdig\"]},\"connectors\":{\"elements\":[\"zndasdnidmj\",\"mvyt\",\"kiqlarhqtwvcaze\",\"d\"],\"exceptions\":[\"ffzjwztsmpchggry\",\"lgf\",\"atig\"]},\"views\":{\"elements\":[\"r\",\"dknczgorywn\",\"ojtvmdev\"],\"exceptions\":[\"qvbkarbpy\",\"ssrlvkpkpk\",\"cmaccebx\"]},\"relationshipLinks\":{\"elements\":[\"icyvspeslh\",\"y\",\"kgv\",\"ccpumddhgajkr\"],\"exceptions\":[\"dtpfcudva\",\"nbfbqvenqnxhg\",\"ordwzejpec\"]},\"relationships\":{\"elements\":[\"mbpwdludayp\",\"ldidwmtffb\"],\"exceptions\":[\"ldzchubagwn\",\"zuvigvl\",\"hfrbzakpjt\",\"q\"]},\"widgetTypes\":{\"elements\":[\"ojpsucm\",\"imcwqxynqjgsa\",\"kyvscbgngcrus\",\"hirc\"],\"exceptions\":[\"vsvkkjbjolpyo\",\"lkvuznadvh\"]},\"roleAssignments\":{\"elements\":[\"oi\",\"owxxbh\",\"psyioqemqwtqszzg\",\"ksikawanvmwdv\"],\"exceptions\":[\"crbkompnbnfgywe\",\"jbepgcmah\",\"wfryawkchkap\",\"tsk\"]},\"conflationPolicies\":{\"elements\":[\"fttibjepzwhjunfd\",\"bggcj\",\"zhblivw\",\"hsudymymb\"],\"exceptions\":[\"smbngkqlgxzduv\",\"dmxexatmdmnrsenx\",\"irxyddmiploisj\"]},\"segments\":{\"elements\":[\"xznntwgkvyohp\"],\"exceptions\":[\"zupzwwyt\",\"djzghximkg\"]}},\"id\":\"mxpqkjnpyriwn\",\"name\":\"ot\",\"type\":\"xmmqmt\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        CustomerInsightsManager manager = CustomerInsightsManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        RoleAssignmentResourceFormat response = manager.roleAssignments()
            .getWithResponse("lujiswlluunxhfw", "fxzf", "u", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals("tqpdzfyxcnwawoxc", response.displayName().get("zbejqfbifop"));
        Assertions.assertEquals("dwdrpazqjkrfmbwo", response.description().get("fcuuugtjigpg"));
        Assertions.assertEquals(RoleTypes.ADMIN, response.role());
        Assertions.assertEquals("ekiooanduewfhv", response.principals().get(0).principalId());
        Assertions.assertEquals("x", response.principals().get(0).principalType());
        Assertions.assertEquals("zubfjzabbwz", response.principals().get(0).principalMetadata().get("vzuaixc"));
        Assertions.assertEquals("nrra", response.profiles().elements().get(0));
        Assertions.assertEquals("jhspboxhifpps", response.profiles().exceptions().get(0));
        Assertions.assertEquals("mmp", response.interactions().elements().get(0));
        Assertions.assertEquals("y", response.interactions().exceptions().get(0));
        Assertions.assertEquals("rorh", response.links().elements().get(0));
        Assertions.assertEquals("zmsimehtcu", response.links().exceptions().get(0));
        Assertions.assertEquals("eyym", response.kpis().elements().get(0));
        Assertions.assertEquals("lolmcnwepfgsv", response.kpis().exceptions().get(0));
        Assertions.assertEquals("jnpetlrnrdeta", response.sasPolicies().elements().get(0));
        Assertions.assertEquals("bnygdjc", response.sasPolicies().exceptions().get(0));
        Assertions.assertEquals("zndasdnidmj", response.connectors().elements().get(0));
        Assertions.assertEquals("ffzjwztsmpchggry", response.connectors().exceptions().get(0));
        Assertions.assertEquals("r", response.views().elements().get(0));
        Assertions.assertEquals("qvbkarbpy", response.views().exceptions().get(0));
        Assertions.assertEquals("icyvspeslh", response.relationshipLinks().elements().get(0));
        Assertions.assertEquals("dtpfcudva", response.relationshipLinks().exceptions().get(0));
        Assertions.assertEquals("mbpwdludayp", response.relationships().elements().get(0));
        Assertions.assertEquals("ldzchubagwn", response.relationships().exceptions().get(0));
        Assertions.assertEquals("ojpsucm", response.widgetTypes().elements().get(0));
        Assertions.assertEquals("vsvkkjbjolpyo", response.widgetTypes().exceptions().get(0));
        Assertions.assertEquals("oi", response.roleAssignments().elements().get(0));
        Assertions.assertEquals("crbkompnbnfgywe", response.roleAssignments().exceptions().get(0));
        Assertions.assertEquals("fttibjepzwhjunfd", response.conflationPolicies().elements().get(0));
        Assertions.assertEquals("smbngkqlgxzduv", response.conflationPolicies().exceptions().get(0));
        Assertions.assertEquals("xznntwgkvyohp", response.segments().elements().get(0));
        Assertions.assertEquals("zupzwwyt", response.segments().exceptions().get(0));
    }
}
