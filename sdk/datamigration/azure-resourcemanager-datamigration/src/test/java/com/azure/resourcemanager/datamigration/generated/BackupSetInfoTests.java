// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.datamigration.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.datamigration.models.BackupFileInfo;
import com.azure.resourcemanager.datamigration.models.BackupFileStatus;
import com.azure.resourcemanager.datamigration.models.BackupSetInfo;
import com.azure.resourcemanager.datamigration.models.BackupType;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class BackupSetInfoTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        BackupSetInfo model = BinaryData.fromString(
            "{\"backupSetId\":\"y\",\"firstLsn\":\"svexcsonpclhoco\",\"lastLsn\":\"lkevle\",\"lastModifiedTime\":\"2021-02-17T22:26:44Z\",\"backupType\":\"Partial\",\"listOfBackupFiles\":[{\"fileLocation\":\"mvfaxkffeiith\",\"familySequenceNumber\":63986979,\"status\":\"Restored\"},{\"fileLocation\":\"v\",\"familySequenceNumber\":516508763,\"status\":\"Restoring\"},{\"fileLocation\":\"bbzoggig\",\"familySequenceNumber\":2011180934,\"status\":\"Queued\"}],\"databaseName\":\"vjxxjnsp\",\"backupStartDate\":\"2021-07-31T00:27:15Z\",\"backupFinishedDate\":\"2021-09-23T06:50:39Z\",\"isBackupRestored\":true}")
            .toObject(BackupSetInfo.class);
        Assertions.assertEquals("y", model.backupSetId());
        Assertions.assertEquals("svexcsonpclhoco", model.firstLsn());
        Assertions.assertEquals("lkevle", model.lastLsn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-17T22:26:44Z"), model.lastModifiedTime());
        Assertions.assertEquals(BackupType.PARTIAL, model.backupType());
        Assertions.assertEquals("mvfaxkffeiith", model.listOfBackupFiles().get(0).fileLocation());
        Assertions.assertEquals(63986979, model.listOfBackupFiles().get(0).familySequenceNumber());
        Assertions.assertEquals(BackupFileStatus.RESTORED, model.listOfBackupFiles().get(0).status());
        Assertions.assertEquals("vjxxjnsp", model.databaseName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-31T00:27:15Z"), model.backupStartDate());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-23T06:50:39Z"), model.backupFinishedDate());
        Assertions.assertEquals(true, model.isBackupRestored());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        BackupSetInfo model = new BackupSetInfo().withBackupSetId("y")
            .withFirstLsn("svexcsonpclhoco")
            .withLastLsn("lkevle")
            .withLastModifiedTime(OffsetDateTime.parse("2021-02-17T22:26:44Z"))
            .withBackupType(BackupType.PARTIAL)
            .withListOfBackupFiles(Arrays.asList(
                new BackupFileInfo().withFileLocation("mvfaxkffeiith")
                    .withFamilySequenceNumber(63986979)
                    .withStatus(BackupFileStatus.RESTORED),
                new BackupFileInfo().withFileLocation("v")
                    .withFamilySequenceNumber(516508763)
                    .withStatus(BackupFileStatus.RESTORING),
                new BackupFileInfo().withFileLocation("bbzoggig")
                    .withFamilySequenceNumber(2011180934)
                    .withStatus(BackupFileStatus.QUEUED)))
            .withDatabaseName("vjxxjnsp")
            .withBackupStartDate(OffsetDateTime.parse("2021-07-31T00:27:15Z"))
            .withBackupFinishedDate(OffsetDateTime.parse("2021-09-23T06:50:39Z"))
            .withIsBackupRestored(true);
        model = BinaryData.fromObject(model).toObject(BackupSetInfo.class);
        Assertions.assertEquals("y", model.backupSetId());
        Assertions.assertEquals("svexcsonpclhoco", model.firstLsn());
        Assertions.assertEquals("lkevle", model.lastLsn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-17T22:26:44Z"), model.lastModifiedTime());
        Assertions.assertEquals(BackupType.PARTIAL, model.backupType());
        Assertions.assertEquals("mvfaxkffeiith", model.listOfBackupFiles().get(0).fileLocation());
        Assertions.assertEquals(63986979, model.listOfBackupFiles().get(0).familySequenceNumber());
        Assertions.assertEquals(BackupFileStatus.RESTORED, model.listOfBackupFiles().get(0).status());
        Assertions.assertEquals("vjxxjnsp", model.databaseName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-31T00:27:15Z"), model.backupStartDate());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-23T06:50:39Z"), model.backupFinishedDate());
        Assertions.assertEquals(true, model.isBackupRestored());
    }
}
