// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.datamigration.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.datamigration.models.BackupFileInfo;
import com.azure.resourcemanager.datamigration.models.BackupFileStatus;
import com.azure.resourcemanager.datamigration.models.BackupSetInfo;
import com.azure.resourcemanager.datamigration.models.BackupType;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class BackupSetInfoTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        BackupSetInfo model = BinaryData.fromString(
            "{\"backupSetId\":\"lmywwtkgkxnyed\",\"firstLsn\":\"gyvudtjuewbc\",\"lastLsn\":\"xuuwhcj\",\"lastModifiedTime\":\"2021-05-11T16:18:11Z\",\"backupType\":\"Partial\",\"listOfBackupFiles\":[{\"fileLocation\":\"ayakkudzpx\",\"familySequenceNumber\":431593989,\"status\":\"Cancelled\"},{\"fileLocation\":\"agst\",\"familySequenceNumber\":1840695765,\"status\":\"Queued\"},{\"fileLocation\":\"kyrk\",\"familySequenceNumber\":293927715,\"status\":\"Queued\"}],\"databaseName\":\"gsj\",\"backupStartDate\":\"2021-04-30T17:49:14Z\",\"backupFinishedDate\":\"2021-11-19T04:56:42Z\",\"isBackupRestored\":true}")
            .toObject(BackupSetInfo.class);
        Assertions.assertEquals("lmywwtkgkxnyed", model.backupSetId());
        Assertions.assertEquals("gyvudtjuewbc", model.firstLsn());
        Assertions.assertEquals("xuuwhcj", model.lastLsn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-11T16:18:11Z"), model.lastModifiedTime());
        Assertions.assertEquals(BackupType.PARTIAL, model.backupType());
        Assertions.assertEquals("ayakkudzpx", model.listOfBackupFiles().get(0).fileLocation());
        Assertions.assertEquals(431593989, model.listOfBackupFiles().get(0).familySequenceNumber());
        Assertions.assertEquals(BackupFileStatus.CANCELLED, model.listOfBackupFiles().get(0).status());
        Assertions.assertEquals("gsj", model.databaseName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-30T17:49:14Z"), model.backupStartDate());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-19T04:56:42Z"), model.backupFinishedDate());
        Assertions.assertTrue(model.isBackupRestored());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        BackupSetInfo model = new BackupSetInfo().withBackupSetId("lmywwtkgkxnyed")
            .withFirstLsn("gyvudtjuewbc")
            .withLastLsn("xuuwhcj")
            .withLastModifiedTime(OffsetDateTime.parse("2021-05-11T16:18:11Z"))
            .withBackupType(BackupType.PARTIAL)
            .withListOfBackupFiles(Arrays.asList(
                new BackupFileInfo().withFileLocation("ayakkudzpx")
                    .withFamilySequenceNumber(431593989)
                    .withStatus(BackupFileStatus.CANCELLED),
                new BackupFileInfo().withFileLocation("agst")
                    .withFamilySequenceNumber(1840695765)
                    .withStatus(BackupFileStatus.QUEUED),
                new BackupFileInfo().withFileLocation("kyrk")
                    .withFamilySequenceNumber(293927715)
                    .withStatus(BackupFileStatus.QUEUED)))
            .withDatabaseName("gsj")
            .withBackupStartDate(OffsetDateTime.parse("2021-04-30T17:49:14Z"))
            .withBackupFinishedDate(OffsetDateTime.parse("2021-11-19T04:56:42Z"))
            .withIsBackupRestored(true);
        model = BinaryData.fromObject(model).toObject(BackupSetInfo.class);
        Assertions.assertEquals("lmywwtkgkxnyed", model.backupSetId());
        Assertions.assertEquals("gyvudtjuewbc", model.firstLsn());
        Assertions.assertEquals("xuuwhcj", model.lastLsn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-11T16:18:11Z"), model.lastModifiedTime());
        Assertions.assertEquals(BackupType.PARTIAL, model.backupType());
        Assertions.assertEquals("ayakkudzpx", model.listOfBackupFiles().get(0).fileLocation());
        Assertions.assertEquals(431593989, model.listOfBackupFiles().get(0).familySequenceNumber());
        Assertions.assertEquals(BackupFileStatus.CANCELLED, model.listOfBackupFiles().get(0).status());
        Assertions.assertEquals("gsj", model.databaseName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-30T17:49:14Z"), model.backupStartDate());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-19T04:56:42Z"), model.backupFinishedDate());
        Assertions.assertTrue(model.isBackupRestored());
    }
}
