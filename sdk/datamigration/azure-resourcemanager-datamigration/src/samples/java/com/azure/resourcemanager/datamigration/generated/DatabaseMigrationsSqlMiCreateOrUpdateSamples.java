// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.datamigration.generated;

import com.azure.resourcemanager.datamigration.models.BackupConfiguration;
import com.azure.resourcemanager.datamigration.models.DatabaseMigrationPropertiesSqlMi;
import com.azure.resourcemanager.datamigration.models.OfflineConfiguration;
import com.azure.resourcemanager.datamigration.models.SourceLocation;
import com.azure.resourcemanager.datamigration.models.SqlConnectionInformation;
import com.azure.resourcemanager.datamigration.models.SqlFileShare;
import com.azure.resourcemanager.datamigration.models.TargetLocation;

/** Samples for DatabaseMigrationsSqlMi CreateOrUpdate. */
public final class DatabaseMigrationsSqlMiCreateOrUpdateSamples {
    /*
     * x-ms-original-file: specification/datamigration/resource-manager/Microsoft.DataMigration/preview/2022-03-30-preview/examples/SqlMiCreateOrUpdateDatabaseMigrationMAX.json
     */
    /**
     * Sample code: Create or Update Database Migration resource with Maximum parameters.
     *
     * @param manager Entry point to DataMigrationManager.
     */
    public static void createOrUpdateDatabaseMigrationResourceWithMaximumParameters(
        com.azure.resourcemanager.datamigration.DataMigrationManager manager) {
        manager
            .databaseMigrationsSqlMis()
            .define("db1")
            .withExistingManagedInstance("testrg", "managedInstance1")
            .withProperties(
                new DatabaseMigrationPropertiesSqlMi()
                    .withScope(
                        "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.Sql/managedInstances/instance")
                    .withSourceSqlConnection(
                        new SqlConnectionInformation()
                            .withDataSource("aaa")
                            .withAuthentication("WindowsAuthentication")
                            .withUsername("bbb")
                            .withPassword("placeholder")
                            .withEncryptConnection(true)
                            .withTrustServerCertificate(true))
                    .withSourceDatabaseName("aaa")
                    .withMigrationService(
                        "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.DataMigration/sqlMigrationServices/testagent")
                    .withBackupConfiguration(
                        new BackupConfiguration()
                            .withSourceLocation(
                                new SourceLocation()
                                    .withFileShare(
                                        new SqlFileShare()
                                            .withPath("C:\\aaa\\bbb\\ccc")
                                            .withUsername("name")
                                            .withPassword("placeholder")))
                            .withTargetLocation(
                                new TargetLocation()
                                    .withStorageAccountResourceId("account.database.windows.net")
                                    .withAccountKey("abcd")))
                    .withOfflineConfiguration(
                        new OfflineConfiguration().withOffline(true).withLastBackupName("last_backup_file_name")))
            .create();
    }

    /*
     * x-ms-original-file: specification/datamigration/resource-manager/Microsoft.DataMigration/preview/2022-03-30-preview/examples/SqlMiCreateOrUpdateDatabaseMigrationMIN.json
     */
    /**
     * Sample code: Create or Update Database Migration resource with Minimum parameters.
     *
     * @param manager Entry point to DataMigrationManager.
     */
    public static void createOrUpdateDatabaseMigrationResourceWithMinimumParameters(
        com.azure.resourcemanager.datamigration.DataMigrationManager manager) {
        manager
            .databaseMigrationsSqlMis()
            .define("db1")
            .withExistingManagedInstance("testrg", "managedInstance1")
            .withProperties(
                new DatabaseMigrationPropertiesSqlMi()
                    .withScope(
                        "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.Sql/managedInstances/instance")
                    .withSourceSqlConnection(
                        new SqlConnectionInformation()
                            .withDataSource("aaa")
                            .withAuthentication("WindowsAuthentication")
                            .withUsername("bbb")
                            .withPassword("placeholder")
                            .withEncryptConnection(true)
                            .withTrustServerCertificate(true))
                    .withSourceDatabaseName("aaa")
                    .withMigrationService(
                        "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.DataMigration/sqlMigrationServices/testagent")
                    .withBackupConfiguration(
                        new BackupConfiguration()
                            .withSourceLocation(
                                new SourceLocation()
                                    .withFileShare(
                                        new SqlFileShare()
                                            .withPath("C:\\aaa\\bbb\\ccc")
                                            .withUsername("name")
                                            .withPassword("placeholder")))
                            .withTargetLocation(
                                new TargetLocation()
                                    .withStorageAccountResourceId("account.database.windows.net")
                                    .withAccountKey("abcd"))))
            .create();
    }
}
