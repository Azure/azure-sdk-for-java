// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservices.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservices.fluent.models.VaultUsageInner;
import com.azure.resourcemanager.recoveryservices.models.NameInfo;
import com.azure.resourcemanager.recoveryservices.models.UsagesUnit;
import com.azure.resourcemanager.recoveryservices.models.VaultUsageList;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class VaultUsageListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VaultUsageList model =
            BinaryData
                .fromString(
                    "{\"value\":[{\"unit\":\"Seconds\",\"quotaPeriod\":\"bglaocqxtccm\",\"nextResetTime\":\"2021-02-03T02:36:14Z\",\"currentValue\":1870734551716664166,\"limit\":6169817169504749618,\"name\":{\"value\":\"rxv\",\"localizedValue\":\"u\"}},{\"unit\":\"CountPerSecond\",\"quotaPeriod\":\"ntxhdzhlrqjbhck\",\"nextResetTime\":\"2021-01-01T22:28:55Z\",\"currentValue\":8781176229641624570,\"limit\":5275318016138914703,\"name\":{\"value\":\"pycanuzbpz\",\"localizedValue\":\"fkuwbcrnwbmehhse\"}}]}")
                .toObject(VaultUsageList.class);
        Assertions.assertEquals(UsagesUnit.SECONDS, model.value().get(0).unit());
        Assertions.assertEquals("bglaocqxtccm", model.value().get(0).quotaPeriod());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-03T02:36:14Z"), model.value().get(0).nextResetTime());
        Assertions.assertEquals(1870734551716664166L, model.value().get(0).currentValue());
        Assertions.assertEquals(6169817169504749618L, model.value().get(0).limit());
        Assertions.assertEquals("rxv", model.value().get(0).name().value());
        Assertions.assertEquals("u", model.value().get(0).name().localizedValue());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VaultUsageList model =
            new VaultUsageList()
                .withValue(
                    Arrays
                        .asList(
                            new VaultUsageInner()
                                .withUnit(UsagesUnit.SECONDS)
                                .withQuotaPeriod("bglaocqxtccm")
                                .withNextResetTime(OffsetDateTime.parse("2021-02-03T02:36:14Z"))
                                .withCurrentValue(1870734551716664166L)
                                .withLimit(6169817169504749618L)
                                .withName(new NameInfo().withValue("rxv").withLocalizedValue("u")),
                            new VaultUsageInner()
                                .withUnit(UsagesUnit.COUNT_PER_SECOND)
                                .withQuotaPeriod("ntxhdzhlrqjbhck")
                                .withNextResetTime(OffsetDateTime.parse("2021-01-01T22:28:55Z"))
                                .withCurrentValue(8781176229641624570L)
                                .withLimit(5275318016138914703L)
                                .withName(
                                    new NameInfo().withValue("pycanuzbpz").withLocalizedValue("fkuwbcrnwbmehhse"))));
        model = BinaryData.fromObject(model).toObject(VaultUsageList.class);
        Assertions.assertEquals(UsagesUnit.SECONDS, model.value().get(0).unit());
        Assertions.assertEquals("bglaocqxtccm", model.value().get(0).quotaPeriod());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-03T02:36:14Z"), model.value().get(0).nextResetTime());
        Assertions.assertEquals(1870734551716664166L, model.value().get(0).currentValue());
        Assertions.assertEquals(6169817169504749618L, model.value().get(0).limit());
        Assertions.assertEquals("rxv", model.value().get(0).name().value());
        Assertions.assertEquals("u", model.value().get(0).name().localizedValue());
    }
}
