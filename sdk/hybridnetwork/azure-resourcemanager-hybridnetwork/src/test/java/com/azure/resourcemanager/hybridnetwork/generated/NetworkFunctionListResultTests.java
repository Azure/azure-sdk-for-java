// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.hybridnetwork.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.hybridnetwork.fluent.models.NetworkFunctionInner;
import com.azure.resourcemanager.hybridnetwork.models.DeploymentResourceIdReference;
import com.azure.resourcemanager.hybridnetwork.models.ManagedServiceIdentity;
import com.azure.resourcemanager.hybridnetwork.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.hybridnetwork.models.NetworkFunctionListResult;
import com.azure.resourcemanager.hybridnetwork.models.NetworkFunctionPropertiesFormat;
import com.azure.resourcemanager.hybridnetwork.models.NfviType;
import com.azure.resourcemanager.hybridnetwork.models.UserAssignedIdentity;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class NetworkFunctionListResultTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NetworkFunctionListResult model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"configurationType\":\"NetworkFunctionPropertiesFormat\",\"provisioningState\":\"Unknown\",\"publisherName\":\"pzaoqvuhr\",\"publisherScope\":\"Unknown\",\"networkFunctionDefinitionGroupName\":\"cyddglmjthjqk\",\"networkFunctionDefinitionVersion\":\"yeicxmqciwqvhk\",\"networkFunctionDefinitionOfferingLocation\":\"xuigdtopbobj\",\"networkFunctionDefinitionVersionResourceReference\":{\"idType\":\"DeploymentResourceIdReference\"},\"nfviType\":\"Unknown\",\"nfviId\":\"w\",\"allowSoftwareUpdate\":false,\"roleOverrideValues\":[\"hrzayvvtpgvdf\",\"iotkftutqxl\",\"gxlefgugnxkrxd\"]},\"etag\":\"i\",\"identity\":{\"principalId\":\"55e71839-4a16-4332-a601-ffc9cf7aea90\",\"tenantId\":\"f916e433-604e-4183-9ada-7245c3c6b133\",\"type\":\"SystemAssigned\",\"userAssignedIdentities\":{\"rabhjybigeho\":{\"principalId\":\"41047bfe-d13c-47df-bc09-9ed9f5ac615d\",\"clientId\":\"13bc84f1-56a1-47d0-b122-30931d21f8a6\"},\"owskanyktz\":{\"principalId\":\"cb3e88fa-0511-4d92-8ba0-5202069a5038\",\"clientId\":\"5810753d-5dc7-426b-8041-58f86172d4f8\"}}},\"location\":\"u\",\"tags\":{\"nhzgpphrcgyn\":\"gqywgndrv\",\"fsxlzevgbmqjqa\":\"ocpecfvmmco\"},\"id\":\"c\",\"name\":\"pmivkwlzu\",\"type\":\"ccfwnfnbacfion\"},{\"properties\":{\"configurationType\":\"NetworkFunctionPropertiesFormat\",\"provisioningState\":\"Unknown\",\"publisherName\":\"tqgtzxdpnqbqq\",\"publisherScope\":\"Private\",\"networkFunctionDefinitionGroupName\":\"feallnwsu\",\"networkFunctionDefinitionVersion\":\"snjampmng\",\"networkFunctionDefinitionOfferingLocation\":\"scxaq\",\"networkFunctionDefinitionVersionResourceReference\":{\"idType\":\"DeploymentResourceIdReference\"},\"nfviType\":\"AzureOperatorNexus\",\"nfviId\":\"cbonqvpk\",\"allowSoftwareUpdate\":true,\"roleOverrideValues\":[\"jease\",\"pheoflokeyy\",\"enjbdlwtgrhp\",\"jp\"]},\"etag\":\"masxazjpqyegu\",\"identity\":{\"principalId\":\"34d5a6cf-debe-46cf-be6f-8505beb2b278\",\"tenantId\":\"e3fb7fef-73c5-49e8-a762-afd4c658fa5e\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"jzzvdud\":{\"principalId\":\"8016a057-fdae-48e3-ad03-19079b9a733b\",\"clientId\":\"310113ef-b21c-4584-9a49-8612c2262010\"},\"slfhotwm\":{\"principalId\":\"d2eb2b67-6ab4-4371-8697-3e3c890dbee1\",\"clientId\":\"caa4f5fe-7fc8-47b4-87c7-8e96be2b8446\"}}},\"location\":\"npwlbjnpg\",\"tags\":{\"suesnzw\":\"tadehxnltyfsopp\",\"avo\":\"ej\",\"vudwx\":\"xzdmohctb\",\"gujjugwdkcglh\":\"ndnvo\"},\"id\":\"lazjdyggdtjixhbk\",\"name\":\"ofqweykhmenevfye\",\"type\":\"fwhybcibvy\"},{\"properties\":{\"configurationType\":\"NetworkFunctionPropertiesFormat\",\"provisioningState\":\"Succeeded\",\"publisherName\":\"tynnaamdectehfi\",\"publisherScope\":\"Unknown\",\"networkFunctionDefinitionGroupName\":\"eypvhezrkg\",\"networkFunctionDefinitionVersion\":\"c\",\"networkFunctionDefinitionOfferingLocation\":\"efovgmk\",\"networkFunctionDefinitionVersionResourceReference\":{\"idType\":\"DeploymentResourceIdReference\"},\"nfviType\":\"AzureOperatorNexus\",\"nfviId\":\"yvxyqjp\",\"allowSoftwareUpdate\":true,\"roleOverrideValues\":[\"pngjcrcczsqpjhvm\",\"ajvnysounqe\",\"a\",\"oaeupfhyhltrpmo\"]},\"etag\":\"mcmatuokthfuiu\",\"identity\":{\"principalId\":\"ab44fbb2-384e-475d-aa8c-07a1c67aa4ac\",\"tenantId\":\"e0666def-01d7-4ee4-ad8c-bd455ea25aae\",\"type\":\"None\",\"userAssignedIdentities\":{\"xodpuozmyzydagfu\":{\"principalId\":\"d57519ce-2b68-4d79-ad62-43fc9f8f9837\",\"clientId\":\"63a2d8cc-a6e7-4b79-b8b9-5f791a7d8466\"}}},\"location\":\"bezy\",\"tags\":{\"ywqsmbsurexim\":\"kktwhrdxw\",\"stkiiuxhqyud\":\"ryocfsfksymdd\",\"rq\":\"o\"},\"id\":\"b\",\"name\":\"oczvy\",\"type\":\"fqrvkdvjsllrmvvd\"},{\"properties\":{\"configurationType\":\"NetworkFunctionPropertiesFormat\",\"provisioningState\":\"Unknown\",\"publisherName\":\"pnpulexxbczwtru\",\"publisherScope\":\"Private\",\"networkFunctionDefinitionGroupName\":\"bq\",\"networkFunctionDefinitionVersion\":\"sovmyokacspkwl\",\"networkFunctionDefinitionOfferingLocation\":\"dobpxjmflbvvn\",\"networkFunctionDefinitionVersionResourceReference\":{\"idType\":\"DeploymentResourceIdReference\"},\"nfviType\":\"AzureOperatorNexus\",\"nfviId\":\"ciwwzjuqkhr\",\"allowSoftwareUpdate\":true,\"roleOverrideValues\":[\"ku\",\"foskghsauuimj\",\"vxieduugidyj\",\"rfbyaosvexcso\"]},\"etag\":\"clhocohsl\",\"identity\":{\"principalId\":\"be934886-e158-412e-a3c5-8226c8a2634e\",\"tenantId\":\"320f3be1-666e-4aa9-bb24-a7e2b09166e7\",\"type\":\"SystemAssigned\",\"userAssignedIdentities\":{\"buhfmvfaxkffeiit\":{\"principalId\":\"82f07607-3624-40cc-aff8-3b85ace18798\",\"clientId\":\"13e8c317-1ef0-45c8-b5d7-90d0ab621135\"}}},\"location\":\"vmezy\",\"tags\":{\"grxwbu\":\"xmzsbbzogg\",\"dptkoenkouk\":\"vjxxjnsp\",\"pocipazyxoegu\":\"vudwtiukbldng\",\"npiucgygevqznty\":\"g\"},\"id\":\"mrbpizcdrqj\",\"name\":\"dpydn\",\"type\":\"yhxdeoejzicwi\"}],\"nextLink\":\"jttgzf\"}")
            .toObject(NetworkFunctionListResult.class);
        Assertions.assertEquals("u", model.value().get(0).location());
        Assertions.assertEquals("gqywgndrv", model.value().get(0).tags().get("nhzgpphrcgyn"));
        Assertions.assertEquals(NfviType.UNKNOWN, model.value().get(0).properties().nfviType());
        Assertions.assertEquals("w", model.value().get(0).properties().nfviId());
        Assertions.assertEquals(false, model.value().get(0).properties().allowSoftwareUpdate());
        Assertions.assertEquals("hrzayvvtpgvdf", model.value().get(0).properties().roleOverrideValues().get(0));
        Assertions.assertEquals("i", model.value().get(0).etag());
        Assertions.assertEquals(ManagedServiceIdentityType.SYSTEM_ASSIGNED, model.value().get(0).identity().type());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NetworkFunctionListResult model
            = new NetworkFunctionListResult()
                .withValue(
                    Arrays
                        .asList(
                            new NetworkFunctionInner().withLocation("u")
                                .withTags(mapOf("nhzgpphrcgyn", "gqywgndrv", "fsxlzevgbmqjqa", "ocpecfvmmco"))
                                .withProperties(new NetworkFunctionPropertiesFormat()
                                    .withNetworkFunctionDefinitionVersionResourceReference(
                                        new DeploymentResourceIdReference())
                                    .withNfviType(NfviType.UNKNOWN).withNfviId("w").withAllowSoftwareUpdate(false)
                                    .withRoleOverrideValues(
                                        Arrays.asList("hrzayvvtpgvdf", "iotkftutqxl", "gxlefgugnxkrxd")))
                                .withEtag("i")
                                .withIdentity(new ManagedServiceIdentity()
                                    .withType(ManagedServiceIdentityType.SYSTEM_ASSIGNED)
                                    .withUserAssignedIdentities(
                                        mapOf(
                                            "rabhjybigeho", new UserAssignedIdentity(), "owskanyktz",
                                            new UserAssignedIdentity()))),
                            new NetworkFunctionInner().withLocation("npwlbjnpg")
                                .withTags(mapOf("suesnzw", "tadehxnltyfsopp", "avo", "ej", "vudwx", "xzdmohctb",
                                    "gujjugwdkcglh", "ndnvo"))
                                .withProperties(new NetworkFunctionPropertiesFormat()
                                    .withNetworkFunctionDefinitionVersionResourceReference(
                                        new DeploymentResourceIdReference())
                                    .withNfviType(NfviType.AZURE_OPERATOR_NEXUS).withNfviId("cbonqvpk")
                                    .withAllowSoftwareUpdate(true).withRoleOverrideValues(
                                        Arrays.asList("jease", "pheoflokeyy", "enjbdlwtgrhp", "jp")))
                                .withEtag("masxazjpqyegu").withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.USER_ASSIGNED)
                                        .withUserAssignedIdentities(
                                            mapOf(
                                                "jzzvdud", new UserAssignedIdentity(), "slfhotwm",
                                                new UserAssignedIdentity()))),
                            new NetworkFunctionInner().withLocation("bezy")
                                .withTags(
                                    mapOf("ywqsmbsurexim", "kktwhrdxw", "stkiiuxhqyud", "ryocfsfksymdd", "rq", "o"))
                                .withProperties(new NetworkFunctionPropertiesFormat()
                                    .withNetworkFunctionDefinitionVersionResourceReference(
                                        new DeploymentResourceIdReference())
                                    .withNfviType(NfviType.AZURE_OPERATOR_NEXUS).withNfviId("yvxyqjp")
                                    .withAllowSoftwareUpdate(true).withRoleOverrideValues(
                                        Arrays.asList("pngjcrcczsqpjhvm", "ajvnysounqe", "a", "oaeupfhyhltrpmo")))
                                .withEtag("mcmatuokthfuiu")
                                .withIdentity(new ManagedServiceIdentity()
                                    .withType(ManagedServiceIdentityType.NONE)
                                    .withUserAssignedIdentities(mapOf("xodpuozmyzydagfu", new UserAssignedIdentity()))),
                            new NetworkFunctionInner().withLocation("vmezy")
                                .withTags(mapOf("grxwbu", "xmzsbbzogg", "dptkoenkouk", "vjxxjnsp", "pocipazyxoegu",
                                    "vudwtiukbldng", "npiucgygevqznty", "g"))
                                .withProperties(new NetworkFunctionPropertiesFormat()
                                    .withNetworkFunctionDefinitionVersionResourceReference(
                                        new DeploymentResourceIdReference())
                                    .withNfviType(NfviType.AZURE_OPERATOR_NEXUS).withNfviId("ciwwzjuqkhr")
                                    .withAllowSoftwareUpdate(true).withRoleOverrideValues(
                                        Arrays.asList("ku", "foskghsauuimj", "vxieduugidyj", "rfbyaosvexcso")))
                                .withEtag("clhocohsl")
                                .withIdentity(new ManagedServiceIdentity()
                                    .withType(ManagedServiceIdentityType.SYSTEM_ASSIGNED).withUserAssignedIdentities(
                                        mapOf("buhfmvfaxkffeiit", new UserAssignedIdentity())))));
        model = BinaryData.fromObject(model).toObject(NetworkFunctionListResult.class);
        Assertions.assertEquals("u", model.value().get(0).location());
        Assertions.assertEquals("gqywgndrv", model.value().get(0).tags().get("nhzgpphrcgyn"));
        Assertions.assertEquals(NfviType.UNKNOWN, model.value().get(0).properties().nfviType());
        Assertions.assertEquals("w", model.value().get(0).properties().nfviId());
        Assertions.assertEquals(false, model.value().get(0).properties().allowSoftwareUpdate());
        Assertions.assertEquals("hrzayvvtpgvdf", model.value().get(0).properties().roleOverrideValues().get(0));
        Assertions.assertEquals("i", model.value().get(0).etag());
        Assertions.assertEquals(ManagedServiceIdentityType.SYSTEM_ASSIGNED, model.value().get(0).identity().type());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
