// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.hybridnetwork.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.hybridnetwork.fluent.models.SiteNetworkServiceInner;
import com.azure.resourcemanager.hybridnetwork.models.DeploymentResourceIdReference;
import com.azure.resourcemanager.hybridnetwork.models.ManagedResourceGroupConfiguration;
import com.azure.resourcemanager.hybridnetwork.models.ManagedServiceIdentity;
import com.azure.resourcemanager.hybridnetwork.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.hybridnetwork.models.ReferencedResource;
import com.azure.resourcemanager.hybridnetwork.models.SiteNetworkServicePropertiesFormat;
import com.azure.resourcemanager.hybridnetwork.models.Sku;
import com.azure.resourcemanager.hybridnetwork.models.SkuName;
import com.azure.resourcemanager.hybridnetwork.models.UserAssignedIdentity;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class SiteNetworkServiceInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        SiteNetworkServiceInner model = BinaryData.fromString(
            "{\"properties\":{\"provisioningState\":\"Accepted\",\"managedResourceGroupConfiguration\":{\"name\":\"itmmqtgqqqxh\",\"location\":\"xrxc\"},\"siteReference\":{\"id\":\"isavok\"},\"publisherName\":\"zfvazi\",\"publisherScope\":\"Unknown\",\"networkServiceDesignGroupName\":\"rqttbajlkatnw\",\"networkServiceDesignVersionName\":\"iopid\",\"networkServiceDesignVersionOfferingLocation\":\"qfkuvscxkdmli\",\"networkServiceDesignVersionResourceReference\":{\"idType\":\"DeploymentResourceIdReference\"},\"desiredStateConfigurationGroupValueReferences\":{\"goorbteo\":{\"id\":\"rxkpmloazuruoc\"},\"ordilmywwtkgkxny\":{\"id\":\"fhjxakvvjgs\"}},\"lastStateNetworkServiceDesignVersionName\":\"abgyvudt\",\"lastStateConfigurationGroupValueReferences\":{\"yxccyb\":{\"id\":\"bcihxuuwhc\"},\"wjplma\":{\"id\":\"ayakkudzpx\"},\"bdgiogsjk\":{\"id\":\"tcyohpfkyrk\"}}},\"identity\":{\"principalId\":\"9cde1045-5ee0-4961-a052-062bf985a639\",\"tenantId\":\"520c6e13-774a-453d-ab48-bbe8182da383\",\"type\":\"SystemAssigned\",\"userAssignedIdentities\":{\"iyhddvi\":{\"principalId\":\"782e6ed4-2127-4216-9b09-c3764df2668f\",\"clientId\":\"3b1bf0cb-5b2f-4cd9-81f6-5184548e5106\"},\"gfnmntfpmvmemfnc\":{\"principalId\":\"bfb83d7b-3330-42b8-8d3f-fdeadbd7e20f\",\"clientId\":\"0e158bdc-b5b1-45a9-80e5-d9cb3ea2bfe2\"},\"vvbalx\":{\"principalId\":\"db027ee7-58b8-4a43-95ee-a9b2b9e3707f\",\"clientId\":\"9cfc332a-7e14-444c-a435-57320e10fb6f\"},\"chp\":{\"principalId\":\"00254a51-253b-4305-909e-453e6080b51e\",\"clientId\":\"dac054a7-2174-465d-8c20-80ad6cd2079e\"}}},\"sku\":{\"name\":\"Basic\",\"tier\":\"Standard\"},\"location\":\"wrd\",\"tags\":{\"jcswsmys\":\"ukuv\",\"lerchpq\":\"uluqypfc\",\"dfc\":\"mfpjbabw\",\"qddrihpfhoqcaae\":\"sspuunnoxyhkx\"},\"id\":\"dao\",\"name\":\"djvlpj\",\"type\":\"xkzb\"}")
            .toObject(SiteNetworkServiceInner.class);
        Assertions.assertEquals("wrd", model.location());
        Assertions.assertEquals("ukuv", model.tags().get("jcswsmys"));
        Assertions.assertEquals("itmmqtgqqqxh", model.properties().managedResourceGroupConfiguration().name());
        Assertions.assertEquals("xrxc", model.properties().managedResourceGroupConfiguration().location());
        Assertions.assertEquals("isavok", model.properties().siteReference().id());
        Assertions.assertEquals("rxkpmloazuruoc",
            model.properties().desiredStateConfigurationGroupValueReferences().get("goorbteo").id());
        Assertions.assertEquals(ManagedServiceIdentityType.SYSTEM_ASSIGNED, model.identity().type());
        Assertions.assertEquals(SkuName.BASIC, model.sku().name());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        SiteNetworkServiceInner model = new SiteNetworkServiceInner().withLocation("wrd")
            .withTags(
                mapOf("jcswsmys", "ukuv", "lerchpq", "uluqypfc", "dfc", "mfpjbabw", "qddrihpfhoqcaae", "sspuunnoxyhkx"))
            .withProperties(new SiteNetworkServicePropertiesFormat()
                .withManagedResourceGroupConfiguration(
                    new ManagedResourceGroupConfiguration().withName("itmmqtgqqqxh").withLocation("xrxc"))
                .withSiteReference(new ReferencedResource().withId("isavok"))
                .withNetworkServiceDesignVersionResourceReference(new DeploymentResourceIdReference())
                .withDesiredStateConfigurationGroupValueReferences(
                    mapOf("goorbteo", new ReferencedResource().withId("rxkpmloazuruoc"), "ordilmywwtkgkxny",
                        new ReferencedResource().withId("fhjxakvvjgs"))))
            .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.SYSTEM_ASSIGNED)
                .withUserAssignedIdentities(
                    mapOf("iyhddvi", new UserAssignedIdentity(), "gfnmntfpmvmemfnc", new UserAssignedIdentity(),
                        "vvbalx", new UserAssignedIdentity(), "chp", new UserAssignedIdentity())))
            .withSku(new Sku().withName(SkuName.BASIC));
        model = BinaryData.fromObject(model).toObject(SiteNetworkServiceInner.class);
        Assertions.assertEquals("wrd", model.location());
        Assertions.assertEquals("ukuv", model.tags().get("jcswsmys"));
        Assertions.assertEquals("itmmqtgqqqxh", model.properties().managedResourceGroupConfiguration().name());
        Assertions.assertEquals("xrxc", model.properties().managedResourceGroupConfiguration().location());
        Assertions.assertEquals("isavok", model.properties().siteReference().id());
        Assertions.assertEquals("rxkpmloazuruoc",
            model.properties().desiredStateConfigurationGroupValueReferences().get("goorbteo").id());
        Assertions.assertEquals(ManagedServiceIdentityType.SYSTEM_ASSIGNED, model.identity().type());
        Assertions.assertEquals(SkuName.BASIC, model.sku().name());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
