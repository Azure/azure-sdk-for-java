// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.search.documents.generated;

import com.azure.search.documents.indexes.models.DataChangeDetectionPolicy;
import com.azure.search.documents.indexes.models.DataDeletionDetectionPolicy;
import com.azure.search.documents.indexes.models.DataSourceCredentials;
import com.azure.search.documents.indexes.models.IndexerPermissionOption;
import com.azure.search.documents.indexes.models.SearchIndexerDataContainer;
import com.azure.search.documents.indexes.models.SearchIndexerDataSourceConnection;
import com.azure.search.documents.indexes.models.SearchIndexerDataSourceType;
import java.util.List;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

@Disabled
public final class SearchServiceGetDataSourceTests extends SearchClientTestBase {
    @Test
    @Disabled
    public void testSearchServiceGetDataSourceTests() {
        // method invocation
        SearchIndexerDataSourceConnection response = searchIndexerClient.getDataSourceConnection("mydocdbdatasource");

        // response assertion
        Assertions.assertNotNull(response);
        // verify property "name"
        Assertions.assertEquals("mydocdbdatasource", response.getName());
        // verify property "description"
        Assertions.assertEquals("My Azure Adls Gen2 data source with ACLs.", response.getDescription());
        // verify property "type"
        Assertions.assertEquals(SearchIndexerDataSourceType.ADLS_GEN2, response.getType());
        // verify property "credentials"
        DataSourceCredentials responseCredentials = response.getCredentials();
        Assertions.assertNotNull(responseCredentials);
        Assertions.assertEquals(
            "DefaultEndpointsProtocol=https;AccountName=myAccountName;AccountKey=myAccountKey;EndpointSuffix=core.windows.net ",
            responseCredentials.getConnectionString());
        // verify property "container"
        SearchIndexerDataContainer responseContainer = response.getContainer();
        Assertions.assertNotNull(responseContainer);
        Assertions.assertEquals("adls-gen2-doc-extraction-acl", responseContainer.getName());
        Assertions.assertEquals("folder_has_final_acl", responseContainer.getQuery());
        // verify property "indexerPermissionOptions"
        List<IndexerPermissionOption> responseIndexerPermissionOptions = response.getIndexerPermissionOptions();
        Assertions.assertEquals(IndexerPermissionOption.USER_IDS, responseIndexerPermissionOptions.iterator().next());
        // verify property "dataChangeDetectionPolicy"
        DataChangeDetectionPolicy responseDataChangeDetectionPolicy = response.getDataChangeDetectionPolicy();
        Assertions.assertNotNull(responseDataChangeDetectionPolicy);
        Assertions.assertEquals("#Microsoft.Azure.Search.HighWaterMarkChangeDetectionPolicy",
            responseDataChangeDetectionPolicy.getOdataType());
        // verify property "dataDeletionDetectionPolicy"
        DataDeletionDetectionPolicy responseDataDeletionDetectionPolicy = response.getDataDeletionDetectionPolicy();
        Assertions.assertNotNull(responseDataDeletionDetectionPolicy);
        Assertions.assertEquals("#Microsoft.Azure.Search.SoftDeleteColumnDeletionDetectionPolicy",
            responseDataDeletionDetectionPolicy.getOdataType());
        // verify property "eTag"
        Assertions.assertEquals("0x1234568AE7E58A1", response.getETag());
    }
}
