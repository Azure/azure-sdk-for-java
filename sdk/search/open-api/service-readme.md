# SearchServiceClient

This is the AutoRest configuration file for SearchServiceClient

## Building the SDK

1. Install [AutoRest](https://github.com/Azure/autorest/blob/master/README.md#installing-autorest)
2. Execute  autorest in this folder. It will use this readme file as the configuration:

```bash
autorest ./service-readme.md
```

## Configuration

```yaml
title: SearchServiceRestClient
input-file: ./2019-05-06/service/searchservice.json
output-folder: ../azure-search
namespace: com.azure.search
java: true
sync-methods: none
add-context-parameter: true
generate-client-interfaces: false
license-header: |-
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the MIT License.
  Code generated by Microsoft (R) AutoRest Code Generator.
  Changes may cause incorrect behavior and will be lost if the code is regenerated.

require: ./autorest-custom-directives.md

vararg-properties: >-
  CorsOptions.allowedOrigins

directive:

- rename-custom-property:
    path: "$.parameters.ClientRequestIdParameter['x-ms-parameter-grouping']"
    from: "search-request-options"
    to: "request-options"

# Add missing data types to DataType
- from: swagger-document
  where: $.definitions.DataType.enum
  transform: |
    if (!$.includes("Collection(Edm.String)")) {
      $.push("Collection(Edm.String)",
        "Collection(Edm.Int32)",
        "Collection(Edm.Int64)",
        "Collection(Edm.Double)",
        "Collection(Edm.Boolean)",
        "Collection(Edm.DateTimeOffset)",
        "Collection(Edm.GeographyPoint)",
        "Collection(Edm.ComplexType)"
      );
    }

# Workaround to fix bad host path parameters
- from: 
  - SkillsetsImpl.java
  - DatasetsImpl.java
  - DataSourcesImpl.java
  - IndexersImpl.java
  - IndexesImpl.java
  - SynonymMapsImpl.java
  where: $
  transform: >-
    return $
    .replace(/(this.getSearchServiceName)/g, "this.client.getSearchServiceName")
    .replace(/(this.getSearchDnsSuffix)/g, "this.client.getSearchDnsSuffix")

# Replace VoidResponse with SimpleResponse<Void>
- from:
  - SkillsetsImpl.java
  - DatasetsImpl.java
  - DataSourcesImpl.java
  - IndexersImpl.java
  - IndexesImpl.java
  - SynonymMapsImpl.java
  where: $
  transform: >-
    return $
    .replace(/(import com.azure.core.http.rest.VoidResponse;\n)/g, "")
    .replace(/(VoidResponse)/g, "SimpleResponse<Void>")
```
