// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.databoxedge.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.databoxedge.fluent.models.DeviceCapacityInfoInner;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class DeviceCapacityInfoInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DeviceCapacityInfoInner model = BinaryData.fromString(
            "{\"properties\":{\"timeStamp\":\"2021-11-27T21:02:17Z\",\"clusterStorageCapacityInfo\":{\"clusterTotalStorageMb\":89.34209584899135,\"clusterFreeStorageMb\":12.210910986805724},\"clusterComputeCapacityInfo\":{\"fqdn\":\"rvqqaatj\",\"gpuCapacity\":{\"gpuType\":\"vgoup\",\"gpuUsedUnitsCount\":1624473251,\"gpuFreeUnitsCount\":781426249,\"gpuReservedForFailoverUnitsCount\":121941130,\"gpuTotalUnitsCount\":366208637},\"memoryCapacity\":{\"clusterFreeMemoryMb\":29.085261501197678,\"clusterUsedMemoryMb\":60.87162878665412,\"clusterFailoverMemoryMb\":34.54433088697856,\"clusterFragmentationMemoryMb\":25.223623232433802,\"clusterHypervReserveMemoryMb\":94.3298441589831,\"clusterInfraVmMemoryMb\":93.13111838664105,\"clusterTotalMemoryMb\":59.87106682567109,\"clusterNonFailoverVmMb\":82.47209279338217,\"clusterMemoryUsedByVmsMb\":62.14330743366697},\"lastRefreshedTime\":\"2021-04-03T14:41:24Z\",\"totalProvisionedNonHpnCores\":593391508400046676},\"nodeCapacityInfos\":{\"tsgumhj\":{\"hostName\":\"xvvy\",\"effectiveAvailableMemoryMbOnHost\":446367325585574216,\"availableGpuCount\":2121939227,\"vmUsedMemory\":{\"uvwzfbnh\":{\"startupMemoryMB\":659192510788744677,\"currentMemoryUsageMB\":754056912237486709},\"ngitvgbmhrixkwm\":{\"startupMemoryMB\":3789735815889216025,\"currentMemoryUsageMB\":108821458018204147},\"grhbpn\":{\"startupMemoryMB\":6850014408973535187,\"currentMemoryUsageMB\":2442018790284134331}},\"gpuType\":\"xexccbdreaxhcexd\",\"numaNodesData\":[{\"numaNodeIndex\":1241067704,\"totalMemoryInMb\":4457997011490580036,\"logicalCoreCountPerCore\":1584778168,\"effectiveAvailableMemoryInMb\":7920652979146329739,\"freeVCpuIndexesForHpn\":[1376056830,205565987],\"vCpuIndexesForHpn\":[441495179,1624043548,3385554,175357143],\"vCpuIndexesForRoot\":[146536566]},{\"numaNodeIndex\":1220802910,\"totalMemoryInMb\":6720131909300742836,\"logicalCoreCountPerCore\":1432039149,\"effectiveAvailableMemoryInMb\":53764048985760155,\"freeVCpuIndexesForHpn\":[1542323889,312657559],\"vCpuIndexesForHpn\":[101961110,1846844477,213302833,768184156],\"vCpuIndexesForRoot\":[666805077]},{\"numaNodeIndex\":1176849986,\"totalMemoryInMb\":3679866876785700659,\"logicalCoreCountPerCore\":539949394,\"effectiveAvailableMemoryInMb\":5835759219159413438,\"freeVCpuIndexesForHpn\":[402574636,367987412,2130942717,115360224],\"vCpuIndexesForHpn\":[1031668557,26130374],\"vCpuIndexesForRoot\":[1968525947,1897122560,1616110653,339219254]}]},\"ihyeozphvw\":{\"hostName\":\"ikkx\",\"effectiveAvailableMemoryMbOnHost\":1166139203085958586,\"availableGpuCount\":528411335,\"vmUsedMemory\":{\"felfktg\":{\"startupMemoryMB\":3771772000949709201,\"currentMemoryUsageMB\":783231880648747545},\"xeznoi\":{\"startupMemoryMB\":4113846236467073097,\"currentMemoryUsageMB\":3279748412571600137}},\"gpuType\":\"rnjwmw\",\"numaNodesData\":[{\"numaNodeIndex\":650056423,\"totalMemoryInMb\":7370979287660011871,\"logicalCoreCountPerCore\":552544194,\"effectiveAvailableMemoryInMb\":12239624100997197,\"freeVCpuIndexesForHpn\":[424496113,959686247,1304843814,1162521892],\"vCpuIndexesForHpn\":[1620323863,1479780432,1430478832],\"vCpuIndexesForRoot\":[1620389391,1895390850,288495023]},{\"numaNodeIndex\":1224578213,\"totalMemoryInMb\":5751621871906983666,\"logicalCoreCountPerCore\":159219307,\"effectiveAvailableMemoryInMb\":2168581473521013439,\"freeVCpuIndexesForHpn\":[190576653,403586815],\"vCpuIndexesForHpn\":[1784311457,1899473333],\"vCpuIndexesForRoot\":[1886433502,1870026194,1615411821,382713114]},{\"numaNodeIndex\":1149694160,\"totalMemoryInMb\":4613907741169030057,\"logicalCoreCountPerCore\":1629176755,\"effectiveAvailableMemoryInMb\":2438040067593069072,\"freeVCpuIndexesForHpn\":[360748020,34950484,206948970,1101477177],\"vCpuIndexesForHpn\":[1662544736,1659920378],\"vCpuIndexesForRoot\":[1782265251,648427507]},{\"numaNodeIndex\":1501575035,\"totalMemoryInMb\":6158670602245383291,\"logicalCoreCountPerCore\":848458323,\"effectiveAvailableMemoryInMb\":3086933290402300840,\"freeVCpuIndexesForHpn\":[882438810,658417740],\"vCpuIndexesForHpn\":[1381182102,147103484],\"vCpuIndexesForRoot\":[1028485886,610682904,997938264]}]},\"bfpncurdo\":{\"hostName\":\"y\",\"effectiveAvailableMemoryMbOnHost\":364088888984952408,\"availableGpuCount\":367245568,\"vmUsedMemory\":{\"cwxqu\":{\"startupMemoryMB\":8692265151582287969,\"currentMemoryUsageMB\":5440469387098013843}},\"gpuType\":\"vzhfstotxhoj\",\"numaNodesData\":[{\"numaNodeIndex\":1872993536,\"totalMemoryInMb\":686052529791158175,\"logicalCoreCountPerCore\":912797424,\"effectiveAvailableMemoryInMb\":3948715464774709243,\"freeVCpuIndexesForHpn\":[1882216522],\"vCpuIndexesForHpn\":[269819417,12838706],\"vCpuIndexesForRoot\":[1015582593]},{\"numaNodeIndex\":1461211866,\"totalMemoryInMb\":880079432937074833,\"logicalCoreCountPerCore\":1926666832,\"effectiveAvailableMemoryInMb\":634490199641305059,\"freeVCpuIndexesForHpn\":[1214974585],\"vCpuIndexesForHpn\":[287041746,189493826,1202424668,647346434],\"vCpuIndexesForRoot\":[429689436,1368964811,90585391,209065244]}]},\"czhonnxkr\":{\"hostName\":\"iithtywu\",\"effectiveAvailableMemoryMbOnHost\":7718798958168735300,\"availableGpuCount\":40609312,\"vmUsedMemory\":{\"wjchrdg\":{\"startupMemoryMB\":3527058341546339239,\"currentMemoryUsageMB\":6534046956232130142},\"ctondz\":{\"startupMemoryMB\":3937799018867892667,\"currentMemoryUsageMB\":7107037042754238104}},\"gpuType\":\"uu\",\"numaNodesData\":[{\"numaNodeIndex\":1077343695,\"totalMemoryInMb\":1441267877176887045,\"logicalCoreCountPerCore\":407564287,\"effectiveAvailableMemoryInMb\":2673024793432025368,\"freeVCpuIndexesForHpn\":[1346692611],\"vCpuIndexesForHpn\":[10157721,1304318948],\"vCpuIndexesForRoot\":[800109726,1079630013,405729519]},{\"numaNodeIndex\":1568035160,\"totalMemoryInMb\":3636581995811123220,\"logicalCoreCountPerCore\":757625911,\"effectiveAvailableMemoryInMb\":8788016992255989866,\"freeVCpuIndexesForHpn\":[2032405708,2020364194,1701752170],\"vCpuIndexesForHpn\":[1651925529,1355731077,880287317,1901745406],\"vCpuIndexesForRoot\":[573321643,584179057,1105957042,2032190732]},{\"numaNodeIndex\":266606002,\"totalMemoryInMb\":1010490358854257374,\"logicalCoreCountPerCore\":285792006,\"effectiveAvailableMemoryInMb\":3158942446322112835,\"freeVCpuIndexesForHpn\":[329518875,1047026822],\"vCpuIndexesForHpn\":[1333681706,249986530],\"vCpuIndexesForRoot\":[957353101]},{\"numaNodeIndex\":2015224761,\"totalMemoryInMb\":611637503072689170,\"logicalCoreCountPerCore\":1624157938,\"effectiveAvailableMemoryInMb\":1499717509379744462,\"freeVCpuIndexesForHpn\":[1489812778,351015732,1206467391,1553856312],\"vCpuIndexesForHpn\":[26724739,441985867,105161174],\"vCpuIndexesForRoot\":[1977365948,1159690624,286111828]}]}}},\"id\":\"nyhmossxkkgthr\",\"name\":\"gh\",\"type\":\"jbdhqxvc\"}")
            .toObject(DeviceCapacityInfoInner.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-27T21:02:17Z"), model.timeStamp());
        Assertions.assertEquals(89.34209584899135D, model.clusterStorageCapacityInfo().clusterTotalStorageMb());
        Assertions.assertEquals(12.210910986805724D, model.clusterStorageCapacityInfo().clusterFreeStorageMb());
        Assertions.assertEquals("rvqqaatj", model.clusterComputeCapacityInfo().fqdn());
        Assertions.assertEquals("vgoup", model.clusterComputeCapacityInfo().gpuCapacity().gpuType());
        Assertions.assertEquals(1624473251, model.clusterComputeCapacityInfo().gpuCapacity().gpuUsedUnitsCount());
        Assertions.assertEquals(781426249, model.clusterComputeCapacityInfo().gpuCapacity().gpuFreeUnitsCount());
        Assertions.assertEquals(121941130,
            model.clusterComputeCapacityInfo().gpuCapacity().gpuReservedForFailoverUnitsCount());
        Assertions.assertEquals(366208637, model.clusterComputeCapacityInfo().gpuCapacity().gpuTotalUnitsCount());
        Assertions.assertEquals(29.085261501197678D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterFreeMemoryMb());
        Assertions.assertEquals(60.87162878665412D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterUsedMemoryMb());
        Assertions.assertEquals(34.54433088697856D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterFailoverMemoryMb());
        Assertions.assertEquals(25.223623232433802D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterFragmentationMemoryMb());
        Assertions.assertEquals(94.3298441589831D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterHypervReserveMemoryMb());
        Assertions.assertEquals(93.13111838664105D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterInfraVmMemoryMb());
        Assertions.assertEquals(59.87106682567109D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterTotalMemoryMb());
        Assertions.assertEquals(82.47209279338217D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterNonFailoverVmMb());
        Assertions.assertEquals(62.14330743366697D,
            model.clusterComputeCapacityInfo().memoryCapacity().clusterMemoryUsedByVmsMb());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-03T14:41:24Z"),
            model.clusterComputeCapacityInfo().lastRefreshedTime());
        Assertions.assertEquals(593391508400046676L, model.clusterComputeCapacityInfo().totalProvisionedNonHpnCores());
        Assertions.assertEquals("xvvy", model.nodeCapacityInfos().get("tsgumhj").hostName());
        Assertions.assertEquals(446367325585574216L,
            model.nodeCapacityInfos().get("tsgumhj").effectiveAvailableMemoryMbOnHost());
        Assertions.assertEquals(2121939227, model.nodeCapacityInfos().get("tsgumhj").availableGpuCount());
        Assertions.assertEquals(659192510788744677L,
            model.nodeCapacityInfos().get("tsgumhj").vmUsedMemory().get("uvwzfbnh").startupMemoryMB());
        Assertions.assertEquals(754056912237486709L,
            model.nodeCapacityInfos().get("tsgumhj").vmUsedMemory().get("uvwzfbnh").currentMemoryUsageMB());
        Assertions.assertEquals("xexccbdreaxhcexd", model.nodeCapacityInfos().get("tsgumhj").gpuType());
        Assertions.assertEquals(1241067704,
            model.nodeCapacityInfos().get("tsgumhj").numaNodesData().get(0).numaNodeIndex());
        Assertions.assertEquals(4457997011490580036L,
            model.nodeCapacityInfos().get("tsgumhj").numaNodesData().get(0).totalMemoryInMb());
        Assertions.assertEquals(1584778168,
            model.nodeCapacityInfos().get("tsgumhj").numaNodesData().get(0).logicalCoreCountPerCore());
        Assertions.assertEquals(7920652979146329739L,
            model.nodeCapacityInfos().get("tsgumhj").numaNodesData().get(0).effectiveAvailableMemoryInMb());
        Assertions.assertEquals(1376056830,
            model.nodeCapacityInfos().get("tsgumhj").numaNodesData().get(0).freeVCpuIndexesForHpn().get(0));
        Assertions.assertEquals(441495179,
            model.nodeCapacityInfos().get("tsgumhj").numaNodesData().get(0).vCpuIndexesForHpn().get(0));
        Assertions.assertEquals(146536566,
            model.nodeCapacityInfos().get("tsgumhj").numaNodesData().get(0).vCpuIndexesForRoot().get(0));
    }
}
