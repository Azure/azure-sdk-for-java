// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.databoxedge.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.databoxedge.models.HostCapacity;
import org.junit.jupiter.api.Assertions;

public final class HostCapacityTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        HostCapacity model = BinaryData.fromString(
            "{\"hostName\":\"rc\",\"effectiveAvailableMemoryMbOnHost\":9142905180798271400,\"availableGpuCount\":2090411231,\"vmUsedMemory\":{\"ruud\":{\"startupMemoryMB\":4913712923770278840,\"currentMemoryUsageMB\":8108316197592893882},\"ostgkts\":{\"startupMemoryMB\":4363837680117938418,\"currentMemoryUsageMB\":5694550210789779799}},\"gpuType\":\"dxeclzedqbcvh\",\"numaNodesData\":[{\"numaNodeIndex\":1149174942,\"totalMemoryInMb\":3227026724061709231,\"logicalCoreCountPerCore\":1140864864,\"effectiveAvailableMemoryInMb\":6839901350584080017,\"freeVCpuIndexesForHpn\":[551279051,144699831],\"vCpuIndexesForHpn\":[1133428371],\"vCpuIndexesForRoot\":[1934168431,983643035,2123873865]}]}")
            .toObject(HostCapacity.class);
        Assertions.assertEquals("rc", model.hostName());
        Assertions.assertEquals(9142905180798271400L, model.effectiveAvailableMemoryMbOnHost());
        Assertions.assertEquals(2090411231, model.availableGpuCount());
        Assertions.assertEquals(4913712923770278840L, model.vmUsedMemory().get("ruud").startupMemoryMB());
        Assertions.assertEquals(8108316197592893882L, model.vmUsedMemory().get("ruud").currentMemoryUsageMB());
        Assertions.assertEquals("dxeclzedqbcvh", model.gpuType());
        Assertions.assertEquals(1149174942, model.numaNodesData().get(0).numaNodeIndex());
        Assertions.assertEquals(3227026724061709231L, model.numaNodesData().get(0).totalMemoryInMb());
        Assertions.assertEquals(1140864864, model.numaNodesData().get(0).logicalCoreCountPerCore());
        Assertions.assertEquals(6839901350584080017L, model.numaNodesData().get(0).effectiveAvailableMemoryInMb());
        Assertions.assertEquals(551279051, model.numaNodesData().get(0).freeVCpuIndexesForHpn().get(0));
        Assertions.assertEquals(1133428371, model.numaNodesData().get(0).vCpuIndexesForHpn().get(0));
        Assertions.assertEquals(1934168431, model.numaNodesData().get(0).vCpuIndexesForRoot().get(0));
    }
}
