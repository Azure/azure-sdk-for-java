// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.servicebus.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.servicebus.fluent.models.SBTopicProperties;
import com.azure.resourcemanager.servicebus.models.EntityStatus;
import java.time.Duration;
import org.junit.jupiter.api.Assertions;

public final class SBTopicPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        SBTopicProperties model = BinaryData.fromString(
            "{\"sizeInBytes\":7458924632572162672,\"createdAt\":\"2021-06-12T13:13:31Z\",\"updatedAt\":\"2021-09-28T22:54:32Z\",\"accessedAt\":\"2021-09-27T10:54:05Z\",\"subscriptionCount\":1581174340,\"countDetails\":{\"activeMessageCount\":5933346331608386156,\"deadLetterMessageCount\":1513122452620362373,\"scheduledMessageCount\":3195061276740681034,\"transferMessageCount\":1621536950042326571,\"transferDeadLetterMessageCount\":6465747161331232367},\"defaultMessageTimeToLive\":\"PT127H30S\",\"maxSizeInMegabytes\":27408111,\"maxMessageSizeInKilobytes\":7860487098364913435,\"requiresDuplicateDetection\":true,\"duplicateDetectionHistoryTimeWindow\":\"PT239H36M37S\",\"enableBatchedOperations\":false,\"status\":\"ReceiveDisabled\",\"supportOrdering\":true,\"autoDeleteOnIdle\":\"PT41H40M12S\",\"enablePartitioning\":false,\"enableExpress\":false,\"userMetadata\":\"erhhbcsglumm\"}")
            .toObject(SBTopicProperties.class);
        Assertions.assertEquals(Duration.parse("PT127H30S"), model.defaultMessageTimeToLive());
        Assertions.assertEquals(27408111, model.maxSizeInMegabytes());
        Assertions.assertEquals(7860487098364913435L, model.maxMessageSizeInKilobytes());
        Assertions.assertTrue(model.requiresDuplicateDetection());
        Assertions.assertEquals(Duration.parse("PT239H36M37S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertFalse(model.enableBatchedOperations());
        Assertions.assertEquals(EntityStatus.RECEIVE_DISABLED, model.status());
        Assertions.assertTrue(model.supportOrdering());
        Assertions.assertEquals(Duration.parse("PT41H40M12S"), model.autoDeleteOnIdle());
        Assertions.assertFalse(model.enablePartitioning());
        Assertions.assertFalse(model.enableExpress());
        Assertions.assertEquals("erhhbcsglumm", model.userMetadata());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        SBTopicProperties model = new SBTopicProperties().withDefaultMessageTimeToLive(Duration.parse("PT127H30S"))
            .withMaxSizeInMegabytes(27408111)
            .withMaxMessageSizeInKilobytes(7860487098364913435L)
            .withRequiresDuplicateDetection(true)
            .withDuplicateDetectionHistoryTimeWindow(Duration.parse("PT239H36M37S"))
            .withEnableBatchedOperations(false)
            .withStatus(EntityStatus.RECEIVE_DISABLED)
            .withSupportOrdering(true)
            .withAutoDeleteOnIdle(Duration.parse("PT41H40M12S"))
            .withEnablePartitioning(false)
            .withEnableExpress(false)
            .withUserMetadata("erhhbcsglumm");
        model = BinaryData.fromObject(model).toObject(SBTopicProperties.class);
        Assertions.assertEquals(Duration.parse("PT127H30S"), model.defaultMessageTimeToLive());
        Assertions.assertEquals(27408111, model.maxSizeInMegabytes());
        Assertions.assertEquals(7860487098364913435L, model.maxMessageSizeInKilobytes());
        Assertions.assertTrue(model.requiresDuplicateDetection());
        Assertions.assertEquals(Duration.parse("PT239H36M37S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertFalse(model.enableBatchedOperations());
        Assertions.assertEquals(EntityStatus.RECEIVE_DISABLED, model.status());
        Assertions.assertTrue(model.supportOrdering());
        Assertions.assertEquals(Duration.parse("PT41H40M12S"), model.autoDeleteOnIdle());
        Assertions.assertFalse(model.enablePartitioning());
        Assertions.assertFalse(model.enableExpress());
        Assertions.assertEquals("erhhbcsglumm", model.userMetadata());
    }
}
