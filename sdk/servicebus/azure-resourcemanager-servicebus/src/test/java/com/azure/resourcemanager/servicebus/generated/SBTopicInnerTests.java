// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.servicebus.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.servicebus.fluent.models.SBTopicInner;
import com.azure.resourcemanager.servicebus.models.EntityStatus;
import java.time.Duration;
import org.junit.jupiter.api.Assertions;

public final class SBTopicInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        SBTopicInner model = BinaryData.fromString(
            "{\"properties\":{\"sizeInBytes\":682298333179970136,\"createdAt\":\"2021-07-06T02:31:11Z\",\"updatedAt\":\"2021-04-24T02:10:51Z\",\"accessedAt\":\"2021-03-03T09:41:38Z\",\"subscriptionCount\":1265522776,\"countDetails\":{\"activeMessageCount\":661111027301241875,\"deadLetterMessageCount\":2421996670238280312,\"scheduledMessageCount\":1898861931840204238,\"transferMessageCount\":7706383625926000656,\"transferDeadLetterMessageCount\":2637424156793324533},\"defaultMessageTimeToLive\":\"PT27H53M41S\",\"maxSizeInMegabytes\":1921161938,\"maxMessageSizeInKilobytes\":286612532150478312,\"requiresDuplicateDetection\":false,\"duplicateDetectionHistoryTimeWindow\":\"PT151H57M25S\",\"enableBatchedOperations\":true,\"status\":\"SendDisabled\",\"supportOrdering\":true,\"autoDeleteOnIdle\":\"PT20H26M35S\",\"enablePartitioning\":false,\"enableExpress\":true,\"userMetadata\":\"qabnmoc\"},\"location\":\"ysh\",\"id\":\"zafb\",\"name\":\"jjgpb\",\"type\":\"oq\"}")
            .toObject(SBTopicInner.class);
        Assertions.assertEquals(Duration.parse("PT27H53M41S"), model.defaultMessageTimeToLive());
        Assertions.assertEquals(1921161938, model.maxSizeInMegabytes());
        Assertions.assertEquals(286612532150478312L, model.maxMessageSizeInKilobytes());
        Assertions.assertFalse(model.requiresDuplicateDetection());
        Assertions.assertEquals(Duration.parse("PT151H57M25S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertTrue(model.enableBatchedOperations());
        Assertions.assertEquals(EntityStatus.SEND_DISABLED, model.status());
        Assertions.assertTrue(model.supportOrdering());
        Assertions.assertEquals(Duration.parse("PT20H26M35S"), model.autoDeleteOnIdle());
        Assertions.assertFalse(model.enablePartitioning());
        Assertions.assertTrue(model.enableExpress());
        Assertions.assertEquals("qabnmoc", model.userMetadata());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        SBTopicInner model = new SBTopicInner().withDefaultMessageTimeToLive(Duration.parse("PT27H53M41S"))
            .withMaxSizeInMegabytes(1921161938)
            .withMaxMessageSizeInKilobytes(286612532150478312L)
            .withRequiresDuplicateDetection(false)
            .withDuplicateDetectionHistoryTimeWindow(Duration.parse("PT151H57M25S"))
            .withEnableBatchedOperations(true)
            .withStatus(EntityStatus.SEND_DISABLED)
            .withSupportOrdering(true)
            .withAutoDeleteOnIdle(Duration.parse("PT20H26M35S"))
            .withEnablePartitioning(false)
            .withEnableExpress(true)
            .withUserMetadata("qabnmoc");
        model = BinaryData.fromObject(model).toObject(SBTopicInner.class);
        Assertions.assertEquals(Duration.parse("PT27H53M41S"), model.defaultMessageTimeToLive());
        Assertions.assertEquals(1921161938, model.maxSizeInMegabytes());
        Assertions.assertEquals(286612532150478312L, model.maxMessageSizeInKilobytes());
        Assertions.assertFalse(model.requiresDuplicateDetection());
        Assertions.assertEquals(Duration.parse("PT151H57M25S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertTrue(model.enableBatchedOperations());
        Assertions.assertEquals(EntityStatus.SEND_DISABLED, model.status());
        Assertions.assertTrue(model.supportOrdering());
        Assertions.assertEquals(Duration.parse("PT20H26M35S"), model.autoDeleteOnIdle());
        Assertions.assertFalse(model.enablePartitioning());
        Assertions.assertTrue(model.enableExpress());
        Assertions.assertEquals("qabnmoc", model.userMetadata());
    }
}
