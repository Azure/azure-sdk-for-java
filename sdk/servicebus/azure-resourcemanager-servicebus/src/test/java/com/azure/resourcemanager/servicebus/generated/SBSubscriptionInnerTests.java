// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.servicebus.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.servicebus.fluent.models.SBSubscriptionInner;
import com.azure.resourcemanager.servicebus.models.EntityStatus;
import com.azure.resourcemanager.servicebus.models.SBClientAffineProperties;
import java.time.Duration;
import org.junit.jupiter.api.Assertions;

public final class SBSubscriptionInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        SBSubscriptionInner model = BinaryData.fromString(
            "{\"properties\":{\"messageCount\":7235552413935457839,\"createdAt\":\"2021-11-11T18:52:55Z\",\"accessedAt\":\"2021-10-09T01:53:13Z\",\"updatedAt\":\"2021-03-29T09:04:43Z\",\"countDetails\":{\"activeMessageCount\":1664396973547622224,\"deadLetterMessageCount\":4825751811993692044,\"scheduledMessageCount\":3260661609689361022,\"transferMessageCount\":5675818129522047029,\"transferDeadLetterMessageCount\":9095187098736304822},\"lockDuration\":\"PT92H30M6S\",\"requiresSession\":false,\"defaultMessageTimeToLive\":\"PT2H40M53S\",\"deadLetteringOnFilterEvaluationExceptions\":true,\"deadLetteringOnMessageExpiration\":true,\"duplicateDetectionHistoryTimeWindow\":\"PT37H20M36S\",\"maxDeliveryCount\":1249979629,\"status\":\"Active\",\"enableBatchedOperations\":false,\"autoDeleteOnIdle\":\"PT41H46M18S\",\"forwardTo\":\"shrnsvbuswdvz\",\"forwardDeadLetteredMessagesTo\":\"bycnunvjsrtkf\",\"isClientAffine\":true,\"userMetadata\":\"pqgik\",\"clientAffineProperties\":{\"clientId\":\"rtxdyuxzejnt\",\"isDurable\":true,\"isShared\":false}},\"location\":\"oi\",\"id\":\"ukry\",\"name\":\"xtqmieoxor\",\"type\":\"gufhyaomtbg\"}")
            .toObject(SBSubscriptionInner.class);
        Assertions.assertEquals(Duration.parse("PT92H30M6S"), model.lockDuration());
        Assertions.assertFalse(model.requiresSession());
        Assertions.assertEquals(Duration.parse("PT2H40M53S"), model.defaultMessageTimeToLive());
        Assertions.assertTrue(model.deadLetteringOnFilterEvaluationExceptions());
        Assertions.assertTrue(model.deadLetteringOnMessageExpiration());
        Assertions.assertEquals(Duration.parse("PT37H20M36S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertEquals(1249979629, model.maxDeliveryCount());
        Assertions.assertEquals(EntityStatus.ACTIVE, model.status());
        Assertions.assertFalse(model.enableBatchedOperations());
        Assertions.assertEquals(Duration.parse("PT41H46M18S"), model.autoDeleteOnIdle());
        Assertions.assertEquals("shrnsvbuswdvz", model.forwardTo());
        Assertions.assertEquals("bycnunvjsrtkf", model.forwardDeadLetteredMessagesTo());
        Assertions.assertTrue(model.isClientAffine());
        Assertions.assertEquals("pqgik", model.userMetadata());
        Assertions.assertEquals("rtxdyuxzejnt", model.clientAffineProperties().clientId());
        Assertions.assertTrue(model.clientAffineProperties().isDurable());
        Assertions.assertFalse(model.clientAffineProperties().isShared());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        SBSubscriptionInner model = new SBSubscriptionInner().withLockDuration(Duration.parse("PT92H30M6S"))
            .withRequiresSession(false)
            .withDefaultMessageTimeToLive(Duration.parse("PT2H40M53S"))
            .withDeadLetteringOnFilterEvaluationExceptions(true)
            .withDeadLetteringOnMessageExpiration(true)
            .withDuplicateDetectionHistoryTimeWindow(Duration.parse("PT37H20M36S"))
            .withMaxDeliveryCount(1249979629)
            .withStatus(EntityStatus.ACTIVE)
            .withEnableBatchedOperations(false)
            .withAutoDeleteOnIdle(Duration.parse("PT41H46M18S"))
            .withForwardTo("shrnsvbuswdvz")
            .withForwardDeadLetteredMessagesTo("bycnunvjsrtkf")
            .withIsClientAffine(true)
            .withUserMetadata("pqgik")
            .withClientAffineProperties(
                new SBClientAffineProperties().withClientId("rtxdyuxzejnt").withIsDurable(true).withIsShared(false));
        model = BinaryData.fromObject(model).toObject(SBSubscriptionInner.class);
        Assertions.assertEquals(Duration.parse("PT92H30M6S"), model.lockDuration());
        Assertions.assertFalse(model.requiresSession());
        Assertions.assertEquals(Duration.parse("PT2H40M53S"), model.defaultMessageTimeToLive());
        Assertions.assertTrue(model.deadLetteringOnFilterEvaluationExceptions());
        Assertions.assertTrue(model.deadLetteringOnMessageExpiration());
        Assertions.assertEquals(Duration.parse("PT37H20M36S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertEquals(1249979629, model.maxDeliveryCount());
        Assertions.assertEquals(EntityStatus.ACTIVE, model.status());
        Assertions.assertFalse(model.enableBatchedOperations());
        Assertions.assertEquals(Duration.parse("PT41H46M18S"), model.autoDeleteOnIdle());
        Assertions.assertEquals("shrnsvbuswdvz", model.forwardTo());
        Assertions.assertEquals("bycnunvjsrtkf", model.forwardDeadLetteredMessagesTo());
        Assertions.assertTrue(model.isClientAffine());
        Assertions.assertEquals("pqgik", model.userMetadata());
        Assertions.assertEquals("rtxdyuxzejnt", model.clientAffineProperties().clientId());
        Assertions.assertTrue(model.clientAffineProperties().isDurable());
        Assertions.assertFalse(model.clientAffineProperties().isShared());
    }
}
