// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.servicebus.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.servicebus.fluent.models.SBQueueProperties;
import com.azure.resourcemanager.servicebus.models.EntityStatus;
import java.time.Duration;
import org.junit.jupiter.api.Assertions;

public final class SBQueuePropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        SBQueueProperties model = BinaryData.fromString(
            "{\"countDetails\":{\"activeMessageCount\":6101750029331136264,\"deadLetterMessageCount\":1068443864260527278,\"scheduledMessageCount\":7896167028870238519,\"transferMessageCount\":4325339278505434319,\"transferDeadLetterMessageCount\":9219597413354298914},\"createdAt\":\"2021-05-11T13:05:51Z\",\"updatedAt\":\"2021-02-05T05:14:14Z\",\"accessedAt\":\"2021-09-01T19:00:58Z\",\"sizeInBytes\":5579537665296255842,\"messageCount\":1076268923335791776,\"lockDuration\":\"PT46H30M16S\",\"maxSizeInMegabytes\":835826608,\"maxMessageSizeInKilobytes\":3834014588009600234,\"requiresDuplicateDetection\":false,\"requiresSession\":true,\"defaultMessageTimeToLive\":\"PT182H34M51S\",\"deadLetteringOnMessageExpiration\":true,\"duplicateDetectionHistoryTimeWindow\":\"PT63H26M52S\",\"maxDeliveryCount\":1093417192,\"status\":\"Restoring\",\"enableBatchedOperations\":false,\"autoDeleteOnIdle\":\"PT214H16M8S\",\"enablePartitioning\":true,\"enableExpress\":false,\"forwardTo\":\"bciqfouflm\",\"forwardDeadLetteredMessagesTo\":\"kzsmodm\",\"userMetadata\":\"ougpbkwt\"}")
            .toObject(SBQueueProperties.class);
        Assertions.assertEquals(Duration.parse("PT46H30M16S"), model.lockDuration());
        Assertions.assertEquals(835826608, model.maxSizeInMegabytes());
        Assertions.assertEquals(3834014588009600234L, model.maxMessageSizeInKilobytes());
        Assertions.assertFalse(model.requiresDuplicateDetection());
        Assertions.assertTrue(model.requiresSession());
        Assertions.assertEquals(Duration.parse("PT182H34M51S"), model.defaultMessageTimeToLive());
        Assertions.assertTrue(model.deadLetteringOnMessageExpiration());
        Assertions.assertEquals(Duration.parse("PT63H26M52S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertEquals(1093417192, model.maxDeliveryCount());
        Assertions.assertEquals(EntityStatus.RESTORING, model.status());
        Assertions.assertFalse(model.enableBatchedOperations());
        Assertions.assertEquals(Duration.parse("PT214H16M8S"), model.autoDeleteOnIdle());
        Assertions.assertTrue(model.enablePartitioning());
        Assertions.assertFalse(model.enableExpress());
        Assertions.assertEquals("bciqfouflm", model.forwardTo());
        Assertions.assertEquals("kzsmodm", model.forwardDeadLetteredMessagesTo());
        Assertions.assertEquals("ougpbkwt", model.userMetadata());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        SBQueueProperties model = new SBQueueProperties().withLockDuration(Duration.parse("PT46H30M16S"))
            .withMaxSizeInMegabytes(835826608)
            .withMaxMessageSizeInKilobytes(3834014588009600234L)
            .withRequiresDuplicateDetection(false)
            .withRequiresSession(true)
            .withDefaultMessageTimeToLive(Duration.parse("PT182H34M51S"))
            .withDeadLetteringOnMessageExpiration(true)
            .withDuplicateDetectionHistoryTimeWindow(Duration.parse("PT63H26M52S"))
            .withMaxDeliveryCount(1093417192)
            .withStatus(EntityStatus.RESTORING)
            .withEnableBatchedOperations(false)
            .withAutoDeleteOnIdle(Duration.parse("PT214H16M8S"))
            .withEnablePartitioning(true)
            .withEnableExpress(false)
            .withForwardTo("bciqfouflm")
            .withForwardDeadLetteredMessagesTo("kzsmodm")
            .withUserMetadata("ougpbkwt");
        model = BinaryData.fromObject(model).toObject(SBQueueProperties.class);
        Assertions.assertEquals(Duration.parse("PT46H30M16S"), model.lockDuration());
        Assertions.assertEquals(835826608, model.maxSizeInMegabytes());
        Assertions.assertEquals(3834014588009600234L, model.maxMessageSizeInKilobytes());
        Assertions.assertFalse(model.requiresDuplicateDetection());
        Assertions.assertTrue(model.requiresSession());
        Assertions.assertEquals(Duration.parse("PT182H34M51S"), model.defaultMessageTimeToLive());
        Assertions.assertTrue(model.deadLetteringOnMessageExpiration());
        Assertions.assertEquals(Duration.parse("PT63H26M52S"), model.duplicateDetectionHistoryTimeWindow());
        Assertions.assertEquals(1093417192, model.maxDeliveryCount());
        Assertions.assertEquals(EntityStatus.RESTORING, model.status());
        Assertions.assertFalse(model.enableBatchedOperations());
        Assertions.assertEquals(Duration.parse("PT214H16M8S"), model.autoDeleteOnIdle());
        Assertions.assertTrue(model.enablePartitioning());
        Assertions.assertFalse(model.enableExpress());
        Assertions.assertEquals("bciqfouflm", model.forwardTo());
        Assertions.assertEquals("kzsmodm", model.forwardDeadLetteredMessagesTo());
        Assertions.assertEquals("ougpbkwt", model.userMetadata());
    }
}
