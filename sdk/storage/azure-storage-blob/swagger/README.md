# Azure Blob Storage for Java

> see https://aka.ms/autorest

### Setup

> see https://github.com/Azure/autorest.java

### Generation
> see https://github.com/Azure/autorest.java/releases for the latest version of autorest
```ps
cd <swagger-folder>
mvn install
autorest --java --use:@autorest/java@4.0.x
```

### Code generation settings
``` yaml
input-file: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/storage-dataplane-preview/specification/storage/data-plane/Microsoft.BlobStorage/preview/2020-12-06/blob.json
java: true
output-folder: ../
namespace: com.azure.storage.blob
enable-xml: true
generate-client-as-impl: true
generate-client-interfaces: false
service-interface-as-public: true
sync-methods: none
license-header: MICROSOFT_MIT_SMALL
context-client-method-parameter: true
optional-constant-as-enum: true
models-subpackage: implementation.models
custom-types: BlobAccessPolicy,AccessTier,AccountKind,ArchiveStatus,BlobHttpHeaders,BlobContainerItem,BlobContainerItemProperties,BlobContainerEncryptionScope,BlobServiceProperties,BlobType,Block,BlockList,BlockListType,BlockLookupList,BlobPrefix,ClearRange,CopyStatusType,BlobCorsRule,CpkInfo,CustomerProvidedKeyInfo,DeleteSnapshotsOptionType,EncryptionAlgorithmType,FilterBlobsItem,GeoReplication,GeoReplicationStatusType,KeyInfo,LeaseDurationType,LeaseStateType,LeaseStatusType,ListBlobContainersIncludeType,ListBlobsIncludeItem,BlobAnalyticsLogging,BlobMetrics,PageList,PageRange,PathRenameMode,PublicAccessType,RehydratePriority,BlobRetentionPolicy,SequenceNumberActionType,BlobSignedIdentifier,SkuName,StaticWebsite,BlobErrorCode,BlobServiceStatistics,SyncCopyStatusType,UserDelegationKey,BlobQueryHeaders,GeoReplicationStatus,BlobImmutabilityPolicyMode
custom-types-subpackage: models
customization-jar-path: target/azure-storage-blob-customization-1.0.0-beta.1.jar
customization-class: com.azure.storage.blob.customization.BlobStorageCustomization
```

### /{containerName}/{blob}
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}"]
  transform: >
    $.get.description = "The Download operation reads or downloads a blob from the system, including its metadata and properties. You can also call Download to read a snapshot or version.";
    $.delete.description = "If the storage account's soft delete feature is disabled then, when a blob is deleted, it is permanently removed from the storage account. If the storage account's soft delete feature is enabled, then, when a blob is deleted, it is marked for deletion and becomes inaccessible immediately. However, the blob service retains the blob or snapshot for the number of days specified by the DeleteRetentionPolicy section of [Storage service properties] (Set-Blob-Service-Properties.md). After the specified number of days has passed, the blob's data is permanently removed from the storage account. Note that you continue to be charged for the soft-deleted blob's storage until it is permanently removed. Use the List Blobs API and specify the \"include=deleted\" query parameter to discover which blobs and snapshots have been soft deleted. You can then use the Undelete Blob API to restore a soft-deleted blob. All other operations on a soft-deleted blob or snapshot causes the service to return an HTTP status code of 404 (ResourceNotFound). If the storage account's automatic snapshot feature is enabled, then, when a blob is deleted, an automatic snapshot is created. The blob becomes inaccessible immediately. All other operations on the blob causes the service to return an HTTP status code of 404 (ResourceNotFound). You can access automatic snapshot using snapshot timestamp or version id. You can restore the blob by calling Put or Copy Blob API with automatic snapshot as source. Deleting automatic snapshot requires shared key or special SAS/RBAC permissions.";
    $.get.responses["200"].headers["Content-MD5"]["x-ms-client-name"] = "contentMd5";
    $.get.responses["206"].headers["Content-MD5"]["x-ms-client-name"] = "contentMd5";
```


### /{containerName}/{blob}?comp=appendblock
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=appendblock"]
  transform: >
    $.put.consumes = ["application/octet-stream"];
```

### /{containerName}/{blob}?comp=copy
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=copy"]
  transform: >
     $.put.responses["202"].headers["x-ms-version-id"] = {
        "x-ms-client-name": "VersionId",
        "type": "string",
        "description": "UTC date/time value generated by the service that identifies the version of the blob. This header is returned for requests made against version 2018-11-09 and above."
     };
    
```

### /{containerName}/{blob}?comp=copy&sync
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=copy&sync"]
  transform: >
     $.put.responses["202"].headers["x-ms-version-id"] = {
        "x-ms-client-name": "VersionId",
        "type": "string",
        "description": "UTC date/time value generated by the service that identifies the version of the blob. This header is returned for requests made against version 2018-11-09 and above."
     };
```

### /{containerName}/{blob}?comp=pagelist
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=pagelist"]
  transform: >
     $.get.description = "The Get Page Ranges operation returns the list of valid page ranges for a page blob, version or snapshot of a page blob";
```

### /{containerName}/{blob}?comp=pagelist&diff
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=pagelist&diff"]
  transform: >
    $.get.description = "[Update] The Get Page Ranges Diff operation returns the list of valid page ranges for a page blob that were changed between target blob and previous snapshot or version.";
```

### BlobItemInternal
``` yaml
directive:
- from: swagger-document
  where: $.definitions.BlobItemInternal
  transform: >
    if (!$.required.includes("VersionId")) {
      $.required.push("VersionId");
      $.properties.Metadata.type = "object";
      $.properties.Metadata.additionalProperties = { "type": "string" };
      delete $.properties.Metadata.$ref;
      $.properties.VersionId = { "type": "string" };
    }
    $.properties.IsPrefix = { "type": "boolean" };
```

### BlobItemPropertiesInternal and ContainerItemProperties
``` yaml
directive:
- from: swagger-document
  where: $.definitions
  transform: >
    if (!$.BlobContainerItemProperties) {
        $.BlobContainerItemProperties = $.ContainerProperties;
        delete $.ContainerProperties;
        //
        const etag = $.BlobContainerItemProperties.properties.Etag;
        if (etag && !etag["x-ms-client-name"]) {
            etag["x-ms-client-name"] = "eTag";
            $.BlobContainerItemProperties.properties.Etag = etag;
        }
        $.BlobContainerItemProperties.properties.DenyEncryptionScopeOverride["x-ms-client-name"] = "EncryptionScopeOverridePrevented";
    }
    if (!$.BlobContainerItem) {
        $.BlobContainerItem = $.ContainerItem;
        const path = $.BlobContainerItem.properties.Properties.$ref.replace(/[#].*$/, "#/definitions/BlobContainerItemProperties");
        $.BlobContainerItem.properties.Properties.$ref = path;
        delete $.ContainerItem;
    }
    if (!$.BlobItemPropertiesInternal) {
        $.BlobItemPropertiesInternal = $.BlobPropertiesInternal;
        delete $.BlobPropertiesInternal;
        $.BlobItemPropertiesInternal.properties.CustomerProvidedKeySha256 = { "type": "string" }
        $.BlobItemPropertiesInternal.properties["Content-MD5"]["x-ms-client-name"] = "contentMd5";
        const etag = $.BlobItemPropertiesInternal.properties.Etag;
        if (etag && !etag["x-ms-client-name"]) {
            etag["x-ms-client-name"] = "eTag";
            $.BlobItemPropertiesInternal.properties.Etag = etag;
        }
    }
    if ($.BlobItemInternal) {
        const path = $.BlobItemInternal.properties.Properties.$ref.replace(/[#].*$/, "#/definitions/BlobItemPropertiesInternal");
        $.BlobItemInternal.properties.Properties.$ref = path;
    }
```

### BlobMetadata
Deleting out Encryption until https://github.com/Azure/azure-sdk-for-java/issues/5000 is determined.
``` yaml
directive:
- from: swagger-document
  where: $.definitions.BlobMetadata
  transform: >
    delete $.properties
```

### ListBlobsFlatSegmentResponse
``` yaml
directive:
- from: swagger-document
  where: $.definitions.ListBlobsFlatSegmentResponse
  transform: >
    if (!$.required.includes("Prefix")) {
      $.required.push("Prefix");
      $.required.push("Marker");
      $.required.push("MaxResults");
      $.required.push("Delimiter");
      $.required.push("NextMarker");
    }
```

### ListBlobsHierarchySegmentResponse
``` yaml
directive:
- from: swagger-document
  where: $.definitions.ListBlobsHierarchySegmentResponse
  transform: >
    if (!$.required.includes("Prefix")) {
      $.required.push("Prefix");
      $.required.push("Marker");
      $.required.push("MaxResults");
      $.required.push("Delimiter");
      $.required.push("NextMarker");
    }
```

### KeyInfo
``` yaml
directive:
- from: swagger-document
  where: $.parameters.KeyInfo
  transform: >
    if ($["x-ms-parameter-location"]) {
      delete $["x-ms-parameter-location"];
    }
```

### Extra parameters
``` yaml
directive:
- from: swagger-document
  where: $.parameters
  transform: >
    if (!$.CacheControl) {
      $.CacheControl = {
        "name": "Cache-Control",
        "x-ms-client-name": "cacheControl",
        "in": "header",
        "required": false,
        "type": "string",
        "x-ms-parameter-location": "method",
        "description": "Cache control for given resource"
      };
    }
```

### Add EncryptionKeySha256 to PageBlobUploadPagesFromURLHeaders
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=page&update&fromUrl"].put.responses["201"].headers
  transform: >
    if (!$["x-ms-encryption-key-sha256"]) {
      $["x-ms-encryption-key-sha256"] = {
        "x-ms-client-name": "EncryptionKeySha256",
        "type": "string",
        "description": "The SHA-256 hash of the encryption key used to encrypt the pages. This header is only returned when the pages were encrypted with a customer-provided key."
      };
    }
```

### Add IsServerEncrypted to AppendBlobAppendBlockFromUrlHeaders
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=appendblock&fromUrl"].put.responses["201"].headers
  transform: >
    if (!$["x-ms-request-server-encrypted"]) {
      $["x-ms-request-server-encrypted"] = {
        "x-ms-client-name": "IsServerEncrypted",
        "type": "boolean",
        "description": "The value of this header is set to true if the contents of the request are successfully encrypted using the specified algorithm, and false otherwise."
      };
    }
```

### Add EncryptionKeySha256 and IsServerEncrypted to PageBlobClearPagesHeaders
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=page&clear"].put.responses["201"].headers
  transform: >
    if (!$["x-ms-request-server-encrypted"]) {
      $["x-ms-request-server-encrypted"] = {
        "x-ms-client-name": "IsServerEncrypted",
        "type": "boolean",
        "description": "The value of this header is set to true if the contents of the request are successfully encrypted using the specified algorithm, and false otherwise."
      };
    }
    if (!$["x-ms-encryption-key-sha256"]) {
      $["x-ms-encryption-key-sha256"] = {
        "x-ms-client-name": "EncryptionKeySha256",
        "type": "string",
        "description": "The SHA-256 hash of the encryption key used to encrypt the pages. This header is only returned when the pages were encrypted with a customer-provided key."
      };
    }
```

### Batch returns a 202
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/?comp=batch"].post.responses
  transform: >
    const response = $["200"];
    if (response) {
        delete $["200"];
        $["202"] = response;
    }
```

### Rename ListContainersIncludeType to ListBlobContainersIncludeType
``` yaml
directive:
- from: swagger-document
  where: $.parameters.ListContainersInclude
  transform: >
    $["x-ms-client-name"] = "ListBlobContainersIncludeType";
    $["items"]["x-ms-enum"].name = "ListBlobContainersIncludeType";
```

### /?comp=list
``` yaml
directive:
- from: swagger-document
  where: $.definitions
  transform: >
    if (!$.BlobContainersSegment) {
        $.BlobContainersSegment = $.ListContainersSegmentResponse;
        delete $.ListContainersSegmentResponse;
        $.BlobContainersSegment["x-az-public"] = false;
        $.BlobContainersSegment.required.push("NextMarker");
        $.BlobContainersSegment.properties.BlobContainerItems = $.BlobContainersSegment.properties.ContainerItems;
        delete $.BlobContainersSegment.properties.ContainerItems;
        const path = $.BlobContainersSegment.properties.BlobContainerItems.items.$ref.replace(/[#].*$/, "#/definitions/BlobContainerItem");
        $.BlobContainersSegment.properties.BlobContainerItems.items.$ref = path;
    }
- from: swagger-document
  where: $["x-ms-paths"]["/?comp=list"]
  transform: >
    const def = $.get.responses["200"].schema;
    if (def && def["$ref"] && !def["$ref"].endsWith("BlobContainersSegment")) {
        const path = def["$ref"].replace(/[#].*$/, "#/definitions/BlobContainersSegment");
        $.get.responses["200"].schema = { "$ref": path };
    }
    $.get.operationId = "Service_ListBlobContainersSegment";
```

### GeoReplication
``` yaml
directive:
- from: swagger-document
  where: $.definitions.GeoReplication.properties.Status
  transform: >
    $["x-ms-enum"].name = "GeoReplicationStatus";
```

### BlobErrorCode
``` yaml
directive:
- from: swagger-document
  where: $.definitions.ErrorCode
  transform: >
    $["x-ms-enum"].name = "BlobErrorCode";
```

### BlobServiceProperties, BlobAnalyticsLogging, BlobMetrics, BlobCorsRule, and BlobRetentionPolicy
``` yaml
directive:
- from: swagger-document
  where: $.definitions
  transform: >
    if (!$.BlobServiceProperties) {
        $.BlobServiceProperties = $.StorageServiceProperties;
        delete $.StorageServiceProperties;
        $.BlobServiceProperties.xml = { "name": "StorageServiceProperties" };
    }
    if (!$.BlobAnalyticsLogging) {
      $.BlobAnalyticsLogging = $.Logging;
      delete $.Logging;
      $.BlobAnalyticsLogging.xml = {"name": "Logging"};
      $.BlobServiceProperties.properties.Logging["$ref"] = "#/definitions/BlobAnalyticsLogging";
    }
    if (!$.BlobMetrics) {
      $.BlobMetrics = $.Metrics;
      delete $.Metrics;
      $.BlobMetrics.xml = {"name": "Metrics"};
      $.BlobMetrics.properties.IncludeApis = $.BlobMetrics.properties.IncludeAPIs;
      delete $.BlobMetrics.properties.IncludeAPIs;
      $.BlobMetrics.properties.IncludeApis.xml = {"name": "IncludeAPIs"};
      $.BlobServiceProperties.properties.HourMetrics["$ref"] = "#/definitions/BlobMetrics";
      $.BlobServiceProperties.properties.MinuteMetrics["$ref"] = "#/definitions/BlobMetrics";
    }
    if (!$.BlobCorsRule) {
      $.BlobCorsRule = $.CorsRule;
      delete $.CorsRule;
      $.BlobCorsRule.xml = {"name": "CorsRule"};
      $.BlobServiceProperties.properties.Cors.items["$ref"] = "#/definitions/BlobCorsRule";
    }
    if (!$.BlobRetentionPolicy) {
      $.BlobRetentionPolicy = $.RetentionPolicy;
      delete $.RetentionPolicy;
      $.BlobRetentionPolicy.xml = {"name": "RetentionPolicy"};
      $.BlobAnalyticsLogging.properties.RetentionPolicy["$ref"] = "#/definitions/BlobRetentionPolicy";
      $.BlobMetrics.properties.RetentionPolicy["$ref"] = "#/definitions/BlobRetentionPolicy";
      $.BlobServiceProperties.properties.DeleteRetentionPolicy["$ref"] = "#/definitions/BlobRetentionPolicy";
    }
- from: swagger-document
  where: $.parameters
  transform: >
    if (!$.BlobServiceProperties) {
        const props = $.BlobServiceProperties = $.StorageServiceProperties;
        props.name = "BlobServiceProperties";
        props.schema = { "$ref": props.schema.$ref.replace(/[#].*$/, "#/definitions/BlobServiceProperties") };
        delete $.StorageServiceProperties;
    }
- from: swagger-document
  where: $["x-ms-paths"]["/?restype=service&comp=properties"]
  transform: >
    const param = $.put.parameters[0];
    if (param && param["$ref"] && param["$ref"].endsWith("StorageServiceProperties")) {
        const path = param["$ref"].replace(/[#].*$/, "#/parameters/BlobServiceProperties");
        $.put.parameters[0] = { "$ref": path };
    }
    const def = $.get.responses["200"].schema;
    if (def && def["$ref"] && def["$ref"].endsWith("StorageServiceProperties")) {
        const path = def["$ref"].replace(/[#].*$/, "#/definitions/BlobServiceProperties");
        $.get.responses["200"].schema = { "$ref": path };
    }
```

### BlobServiceStatistics
``` yaml
directive:
- from: swagger-document
  where: $.definitions
  transform: >
    if (!$.BlobServiceStatistics) {
        $.BlobServiceStatistics = $.StorageServiceStats;
        delete $.StorageServiceStats;
        $.BlobServiceStatistics.xml = { "name": "StorageServiceStats" }
        $.BlobServiceStatistics.description = "Statistics for the storage service.";
    }
- from: swagger-document
  where: $["x-ms-paths"]["/?restype=service&comp=stats"].get.responses["200"]
  transform: >
    if ($.schema && $.schema.$ref && $.schema.$ref.endsWith("StorageServiceStats")) {
        const path = $.schema.$ref.replace(/[#].*$/, "#/definitions/BlobServiceStatistics");
        $.schema = { "$ref": path };
    }
```

### BlobAccessPolicy and BlobSignedIdentifier
``` yaml
directive:
- from: swagger-document
  where: $.definitions
  transform: >
    if (!$.BlobSignedIdentifier) {
      $.BlobSignedIdentifier = $.SignedIdentifier;
      delete $.SignedIdentifier;
      $.BlobSignedIdentifier.xml = {"name": "SignedIdentifier"};
      $.SignedIdentifiers.items["$ref"] = "#/definitions/BlobSignedIdentifier";
    }
- from: swagger-document
  where: $.definitions
  transform: >
    if (!$.BlobAccessPolicy) {
      $.BlobAccessPolicy = $.AccessPolicy;
      delete $.AccessPolicy;
      $.BlobAccessPolicy.xml = {"name": "AccessPolicy"};
      $.BlobAccessPolicy.properties.StartsOn = $.BlobAccessPolicy.properties.Start;
      $.BlobAccessPolicy.properties.StartsOn.xml = {"name": "Start"};
      delete $.BlobAccessPolicy.properties.Start;
      $.BlobAccessPolicy.properties.ExpiresOn = $.BlobAccessPolicy.properties.Expiry;
      $.BlobAccessPolicy.properties.ExpiresOn.xml = {"name": "Expiry"};
      delete $.BlobAccessPolicy.properties.Expiry;
      $.BlobAccessPolicy.properties.Permissions = $.BlobAccessPolicy.properties.Permission;
      $.BlobAccessPolicy.properties.Permissions.xml = {"name": "Permission"};
      delete $.BlobAccessPolicy.properties.Permission;
    }
    $.BlobSignedIdentifier.properties.AccessPolicy["$ref"] = "#/definitions/BlobAccessPolicy";
```

### Rename BlobHttpHeaders to BlobHttpHeader
``` yaml
directive:
- from: swagger-document
  where: $.parameters
  transform: >
    $.BlobCacheControl["x-ms-parameter-grouping"].name = "blob-http-headers";
    $.BlobCacheControl["x-ms-client-name"] = "cacheControl";
    $.BlobContentDisposition["x-ms-parameter-grouping"].name = "blob-http-headers";
    $.BlobContentDisposition["x-ms-client-name"] = "contentDisposition";
    $.BlobContentEncoding["x-ms-parameter-grouping"].name = "blob-http-headers";
    $.BlobContentEncoding["x-ms-client-name"] = "contentEncoding";
    $.BlobContentLanguage["x-ms-parameter-grouping"].name = "blob-http-headers";
    $.BlobContentLanguage["x-ms-client-name"] = "contentLanguage";
    $.BlobContentMD5["x-ms-parameter-grouping"].name = "blob-http-headers";
    $.BlobContentMD5["x-ms-client-name"] = "contentMd5";
    $.BlobContentType["x-ms-parameter-grouping"].name = "blob-http-headers";
    $.BlobContentType["x-ms-client-name"] = "contentType";
```

### Rename UserDelegationKey SignedOid and SignedTid
``` yaml
directive:
- from: swagger-document
  where: $.definitions.UserDelegationKey
  transform: >
    $.properties.SignedOid["x-ms-client-name"] = "signedObjectId";
    $.properties.SignedTid["x-ms-client-name"] = "signedTenantId";
```

### Remove AccessConditions parameter groupings
``` yaml
directive:
- from: swagger-document
  where: $.parameters
  transform: >
    delete $.SourceIfMatch["x-ms-parameter-grouping"];
    delete $.SourceIfModifiedSince["x-ms-parameter-grouping"];
    delete $.SourceIfNoneMatch["x-ms-parameter-grouping"];
    delete $.SourceIfUnmodifiedSince["x-ms-parameter-grouping"];
    delete $.SourceIfTags["x-ms-parameter-grouping"];
- from: swagger-document
  where: $.parameters
  transform: >
    delete $.IfMatch["x-ms-parameter-grouping"];
    delete $.IfModifiedSince["x-ms-parameter-grouping"];
    delete $.IfNoneMatch["x-ms-parameter-grouping"];
    delete $.IfUnmodifiedSince["x-ms-parameter-grouping"];
    delete $.IfTags["x-ms-parameter-grouping"];
- from: swagger-document
  where: $.parameters
  transform: >
    delete $.BlobConditionAppendPos["x-ms-parameter-grouping"];
    delete $.BlobConditionMaxSize["x-ms-parameter-grouping"];
- from: swagger-document
  where: $.parameters
  transform: >
    delete $.IfSequenceNumberEqualTo["x-ms-parameter-grouping"];
    delete $.IfSequenceNumberLessThan["x-ms-parameter-grouping"];
    delete $.IfSequenceNumberLessThanOrEqualTo["x-ms-parameter-grouping"];
- from: swagger-document
  where: $.parameters
  transform: >
    delete $.LeaseIdOptional["x-ms-parameter-grouping"];
```

### Rename container-cpk-scope-info to blob-container-encryption-scope
``` yaml
directive:
- from: swagger-document
  where: $.parameters
  transform: >
    $.DenyEncryptionScopeOverride["x-ms-client-name"] = "EncryptionScopeOverridePrevented";
    $.DefaultEncryptionScope["x-ms-parameter-grouping"]["name"] = "blob-container-encryption-scope";
    $.DenyEncryptionScopeOverride["x-ms-parameter-grouping"]["name"] = "blob-container-encryption-scope";
```

### Rename cpk-scope-info to encryption-scope	
``` yaml	
directive:	
- from: swagger-document	
  where: $.parameters	
  transform: >	
    $.EncryptionScope["x-ms-parameter-grouping"]["name"] = "encryption-scope";	
```

### Block size int to long transition
``` yaml
directive:
- from: swagger-document
  where: $.definitions.Block
  transform: >
    $.properties.Size["x-ms-client-name"] = "sizeLong";
    $.properties.Size["format"] = "int64";
    $.properties.SizeInt = { "type" : "integer" };
    $.required.push("SizeInt");
```

### /{containerName}/{blob}?comp=query
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}/{blob}?comp=query"]
  transform: >
    $.post.responses["200"].headers["Content-MD5"]["x-ms-client-name"] = "contentMd5";
    $.post.responses["206"].headers["Content-MD5"]["x-ms-client-name"] = "contentMd5";
    $.post.responses["200"].headers["x-ms-blob-content-md5"]["x-ms-client-name"] = "blobContentMd5";
    $.post.responses["206"].headers["x-ms-blob-content-md5"]["x-ms-client-name"] = "blobContentMd5";
    $.post.responses["200"].headers["x-ms-server-encrypted"]["x-ms-client-name"] = "serverEncrypted";
    $.post.responses["206"].headers["x-ms-server-encrypted"]["x-ms-client-name"] = "serverEncrypted";
```

### Hide TagValue in FilterBlobItem
``` yaml
directive:
- from: swagger-document
  where: $.definitions
  transform: >
    delete $.FilterBlobItem.properties.TagValue;
```

### Hide AllowPermanentDelete in RetentionPolicy
``` yaml
directive:
- from: swagger-document
  where: $.definitions.BlobRetentionPolicy
  transform: >
    delete $.properties.AllowPermanentDelete;
```

### Service_ListContainersSegment x-ms-pageable itemName
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/?comp=list"].get
  transform: >
    $["x-ms-pageable"].itemName = "BlobContainerItems";
```


### Delete Container_ListBlobFlatSegment x-ms-pageable as autorest can't recognize the itemName for this
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}?restype=container&comp=list&flat"].get
  transform: >
    delete $["x-ms-pageable"];
```

### Delete Container_ListBlobHierarchySegment x-ms-pageable as autorest can't recognize the itemName for this
``` yaml
directive:
- from: swagger-document
  where: $["x-ms-paths"]["/{containerName}?restype=container&comp=list&hierarchy"].get
  transform: >
    delete $["x-ms-pageable"];
```

### BlobDeleteType expandable string enum
``` yaml
directive:
- from: swagger-document
  where: $.parameters.BlobDeleteType
  transform: >
    $["x-ms-enum"].modelAsString = true;
```

![Impressions](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-java%2Fsdk%2Fstorage%2Fazure-storage-blob%2Fswagger%2FREADME.png)
