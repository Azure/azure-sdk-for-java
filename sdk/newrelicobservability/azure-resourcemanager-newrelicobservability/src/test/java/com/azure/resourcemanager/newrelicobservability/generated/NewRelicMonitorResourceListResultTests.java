// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.newrelicobservability.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.newrelicobservability.fluent.models.NewRelicMonitorResourceInner;
import com.azure.resourcemanager.newrelicobservability.models.AccountCreationSource;
import com.azure.resourcemanager.newrelicobservability.models.ManagedServiceIdentity;
import com.azure.resourcemanager.newrelicobservability.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.newrelicobservability.models.NewRelicMonitorResourceListResult;
import com.azure.resourcemanager.newrelicobservability.models.OrgCreationSource;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class NewRelicMonitorResourceListResultTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NewRelicMonitorResourceListResult model =
            BinaryData
                .fromString(
                    "{\"value\":[{\"properties\":{\"provisioningState\":\"Creating\",\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"marketplaceSubscriptionId\":\"dio\",\"liftrResourceCategory\":\"Unknown\",\"liftrResourcePreference\":2028392349,\"orgCreationSource\":\"NEWRELIC\",\"accountCreationSource\":\"NEWRELIC\"},\"identity\":{\"principalId\":\"31008718-fa1a-4e51-ab44-561c2ff400fe\",\"tenantId\":\"31387fff-fba0-4050-b99b-0b338638f8bb\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{}},\"location\":\"oacctaza\",\"tags\":{\"fdosyg\":\"lahbcryff\"},\"id\":\"xpaojakhmsbz\",\"name\":\"hcrzevd\",\"type\":\"hlxaolthqtr\"},{\"properties\":{\"provisioningState\":\"Accepted\",\"monitoringStatus\":\"Disabled\",\"marketplaceSubscriptionStatus\":\"Suspended\",\"marketplaceSubscriptionId\":\"s\",\"liftrResourceCategory\":\"Unknown\",\"liftrResourcePreference\":1595507269,\"orgCreationSource\":\"LIFTR\",\"accountCreationSource\":\"NEWRELIC\"},\"identity\":{\"principalId\":\"1f1220fb-dc9b-4958-aa7a-cf98c334e431\",\"tenantId\":\"9235df1c-eef5-4477-a7e6-ba866443e8f4\",\"type\":\"SystemAssigned\",\"userAssignedIdentities\":{}},\"location\":\"lluwfzitonpeq\",\"tags\":{\"xypininmayhuybbk\":\"kjlxofpdvhpf\",\"vamih\":\"odepoogin\",\"vyevcciqi\":\"ognarxzxtheotus\",\"zrnf\":\"nhungbw\"},\"id\":\"gxg\",\"name\":\"spemvtzfk\",\"type\":\"fublj\"},{\"properties\":{\"provisioningState\":\"Deleting\",\"monitoringStatus\":\"Disabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"marketplaceSubscriptionId\":\"aeqjhqjbasvms\",\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":951964300,\"orgCreationSource\":\"LIFTR\",\"accountCreationSource\":\"NEWRELIC\"},\"identity\":{\"principalId\":\"78309b98-d78f-4557-b0a7-008cd800bdc9\",\"tenantId\":\"d26ad034-0a62-4d1e-aaf3-147725b16087\",\"type\":\"SystemAssigned\",\"userAssignedIdentities\":{}},\"location\":\"wrwclxxwrljd\",\"tags\":{\"dkwt\":\"kcqvkocrc\",\"ssainqpjwnzll\":\"hxbnjbiksqrg\",\"bvmgxsabkyqduuji\":\"fmppe\"},\"id\":\"c\",\"name\":\"czdzev\",\"type\":\"dhkrwpdappdsbdk\"}],\"nextLink\":\"rwjfe\"}")
                .toObject(NewRelicMonitorResourceListResult.class);
        Assertions.assertEquals("oacctaza", model.value().get(0).location());
        Assertions.assertEquals("lahbcryff", model.value().get(0).tags().get("fdosyg"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals(OrgCreationSource.NEWRELIC, model.value().get(0).orgCreationSource());
        Assertions.assertEquals(AccountCreationSource.NEWRELIC, model.value().get(0).accountCreationSource());
        Assertions.assertEquals("rwjfe", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NewRelicMonitorResourceListResult model =
            new NewRelicMonitorResourceListResult()
                .withValue(
                    Arrays
                        .asList(
                            new NewRelicMonitorResourceInner()
                                .withLocation("oacctaza")
                                .withTags(mapOf("fdosyg", "lahbcryff"))
                                .withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.USER_ASSIGNED)
                                        .withUserAssignedIdentities(mapOf()))
                                .withOrgCreationSource(OrgCreationSource.NEWRELIC)
                                .withAccountCreationSource(AccountCreationSource.NEWRELIC),
                            new NewRelicMonitorResourceInner()
                                .withLocation("lluwfzitonpeq")
                                .withTags(
                                    mapOf(
                                        "xypininmayhuybbk",
                                        "kjlxofpdvhpf",
                                        "vamih",
                                        "odepoogin",
                                        "vyevcciqi",
                                        "ognarxzxtheotus",
                                        "zrnf",
                                        "nhungbw"))
                                .withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.SYSTEM_ASSIGNED)
                                        .withUserAssignedIdentities(mapOf()))
                                .withOrgCreationSource(OrgCreationSource.LIFTR)
                                .withAccountCreationSource(AccountCreationSource.NEWRELIC),
                            new NewRelicMonitorResourceInner()
                                .withLocation("wrwclxxwrljd")
                                .withTags(
                                    mapOf(
                                        "dkwt",
                                        "kcqvkocrc",
                                        "ssainqpjwnzll",
                                        "hxbnjbiksqrg",
                                        "bvmgxsabkyqduuji",
                                        "fmppe"))
                                .withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.SYSTEM_ASSIGNED)
                                        .withUserAssignedIdentities(mapOf()))
                                .withOrgCreationSource(OrgCreationSource.LIFTR)
                                .withAccountCreationSource(AccountCreationSource.NEWRELIC)))
                .withNextLink("rwjfe");
        model = BinaryData.fromObject(model).toObject(NewRelicMonitorResourceListResult.class);
        Assertions.assertEquals("oacctaza", model.value().get(0).location());
        Assertions.assertEquals("lahbcryff", model.value().get(0).tags().get("fdosyg"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals(OrgCreationSource.NEWRELIC, model.value().get(0).orgCreationSource());
        Assertions.assertEquals(AccountCreationSource.NEWRELIC, model.value().get(0).accountCreationSource());
        Assertions.assertEquals("rwjfe", model.nextLink());
    }

    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
