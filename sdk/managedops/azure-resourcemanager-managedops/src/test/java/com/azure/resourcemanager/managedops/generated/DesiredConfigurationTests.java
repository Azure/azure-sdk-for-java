// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managedops.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managedops.models.AzureMonitorConfiguration;
import com.azure.resourcemanager.managedops.models.ChangeTrackingConfiguration;
import com.azure.resourcemanager.managedops.models.DesiredConfiguration;
import com.azure.resourcemanager.managedops.models.DesiredConfigurationDefenderForServers;
import org.junit.jupiter.api.Assertions;

public final class DesiredConfigurationTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DesiredConfiguration model = BinaryData.fromString(
            "{\"changeTrackingAndInventory\":{\"logAnalyticsWorkspaceId\":\"cctazakljlahbc\"},\"azureMonitorInsights\":{\"azureMonitorWorkspaceId\":\"yffdfdos\"},\"userAssignedManagedIdentityId\":\"gexpaojakhmsbz\",\"defenderForServers\":\"Disable\",\"defenderCspm\":\"Enable\"}")
            .toObject(DesiredConfiguration.class);
        Assertions.assertEquals("cctazakljlahbc", model.changeTrackingAndInventory().logAnalyticsWorkspaceId());
        Assertions.assertEquals("yffdfdos", model.azureMonitorInsights().azureMonitorWorkspaceId());
        Assertions.assertEquals("gexpaojakhmsbz", model.userAssignedManagedIdentityId());
        Assertions.assertEquals(DesiredConfigurationDefenderForServers.DISABLE, model.defenderForServers());
        Assertions.assertEquals(DesiredConfigurationDefenderForServers.ENABLE, model.defenderCspm());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DesiredConfiguration model = new DesiredConfiguration()
            .withChangeTrackingAndInventory(
                new ChangeTrackingConfiguration().withLogAnalyticsWorkspaceId("cctazakljlahbc"))
            .withAzureMonitorInsights(new AzureMonitorConfiguration().withAzureMonitorWorkspaceId("yffdfdos"))
            .withUserAssignedManagedIdentityId("gexpaojakhmsbz")
            .withDefenderForServers(DesiredConfigurationDefenderForServers.DISABLE)
            .withDefenderCspm(DesiredConfigurationDefenderForServers.ENABLE);
        model = BinaryData.fromObject(model).toObject(DesiredConfiguration.class);
        Assertions.assertEquals("cctazakljlahbc", model.changeTrackingAndInventory().logAnalyticsWorkspaceId());
        Assertions.assertEquals("yffdfdos", model.azureMonitorInsights().azureMonitorWorkspaceId());
        Assertions.assertEquals("gexpaojakhmsbz", model.userAssignedManagedIdentityId());
        Assertions.assertEquals(DesiredConfigurationDefenderForServers.DISABLE, model.defenderForServers());
        Assertions.assertEquals(DesiredConfigurationDefenderForServers.ENABLE, model.defenderCspm());
    }
}
