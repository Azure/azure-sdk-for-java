// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managedops.models;

import com.azure.core.annotation.Fluent;
import com.azure.json.JsonReader;
import com.azure.json.JsonSerializable;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import java.io.IOException;

/**
 * Desired configuration input by the user.
 */
@Fluent
public final class DesiredConfiguration implements JsonSerializable<DesiredConfiguration> {
    /*
     * Configuration for the Change Tracking and Inventory service.
     */
    private ChangeTrackingConfiguration changeTrackingAndInventory;

    /*
     * Configuration for the Azure Monitor Insights service.
     */
    private AzureMonitorConfiguration azureMonitorInsights;

    /*
     * User assigned Managed Identity used to perform operations on machines managed by Ops360.
     */
    private String userAssignedManagedIdentityId;

    /*
     * Desired enablement state of the Defender For Servers service.
     */
    private DesiredConfigurationDefenderForServers defenderForServers;

    /*
     * Desired enablement state of the Defender Cloud Security Posture Management (CSPM) service.
     */
    private DesiredConfigurationDefenderForServers defenderCspm;

    /**
     * Creates an instance of DesiredConfiguration class.
     */
    public DesiredConfiguration() {
    }

    /**
     * Get the changeTrackingAndInventory property: Configuration for the Change Tracking and Inventory service.
     * 
     * @return the changeTrackingAndInventory value.
     */
    public ChangeTrackingConfiguration changeTrackingAndInventory() {
        return this.changeTrackingAndInventory;
    }

    /**
     * Set the changeTrackingAndInventory property: Configuration for the Change Tracking and Inventory service.
     * 
     * @param changeTrackingAndInventory the changeTrackingAndInventory value to set.
     * @return the DesiredConfiguration object itself.
     */
    public DesiredConfiguration withChangeTrackingAndInventory(ChangeTrackingConfiguration changeTrackingAndInventory) {
        this.changeTrackingAndInventory = changeTrackingAndInventory;
        return this;
    }

    /**
     * Get the azureMonitorInsights property: Configuration for the Azure Monitor Insights service.
     * 
     * @return the azureMonitorInsights value.
     */
    public AzureMonitorConfiguration azureMonitorInsights() {
        return this.azureMonitorInsights;
    }

    /**
     * Set the azureMonitorInsights property: Configuration for the Azure Monitor Insights service.
     * 
     * @param azureMonitorInsights the azureMonitorInsights value to set.
     * @return the DesiredConfiguration object itself.
     */
    public DesiredConfiguration withAzureMonitorInsights(AzureMonitorConfiguration azureMonitorInsights) {
        this.azureMonitorInsights = azureMonitorInsights;
        return this;
    }

    /**
     * Get the userAssignedManagedIdentityId property: User assigned Managed Identity used to perform operations on
     * machines managed by Ops360.
     * 
     * @return the userAssignedManagedIdentityId value.
     */
    public String userAssignedManagedIdentityId() {
        return this.userAssignedManagedIdentityId;
    }

    /**
     * Set the userAssignedManagedIdentityId property: User assigned Managed Identity used to perform operations on
     * machines managed by Ops360.
     * 
     * @param userAssignedManagedIdentityId the userAssignedManagedIdentityId value to set.
     * @return the DesiredConfiguration object itself.
     */
    public DesiredConfiguration withUserAssignedManagedIdentityId(String userAssignedManagedIdentityId) {
        this.userAssignedManagedIdentityId = userAssignedManagedIdentityId;
        return this;
    }

    /**
     * Get the defenderForServers property: Desired enablement state of the Defender For Servers service.
     * 
     * @return the defenderForServers value.
     */
    public DesiredConfigurationDefenderForServers defenderForServers() {
        return this.defenderForServers;
    }

    /**
     * Set the defenderForServers property: Desired enablement state of the Defender For Servers service.
     * 
     * @param defenderForServers the defenderForServers value to set.
     * @return the DesiredConfiguration object itself.
     */
    public DesiredConfiguration withDefenderForServers(DesiredConfigurationDefenderForServers defenderForServers) {
        this.defenderForServers = defenderForServers;
        return this;
    }

    /**
     * Get the defenderCspm property: Desired enablement state of the Defender Cloud Security Posture Management (CSPM)
     * service.
     * 
     * @return the defenderCspm value.
     */
    public DesiredConfigurationDefenderForServers defenderCspm() {
        return this.defenderCspm;
    }

    /**
     * Set the defenderCspm property: Desired enablement state of the Defender Cloud Security Posture Management (CSPM)
     * service.
     * 
     * @param defenderCspm the defenderCspm value to set.
     * @return the DesiredConfiguration object itself.
     */
    public DesiredConfiguration withDefenderCspm(DesiredConfigurationDefenderForServers defenderCspm) {
        this.defenderCspm = defenderCspm;
        return this;
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeJsonField("changeTrackingAndInventory", this.changeTrackingAndInventory);
        jsonWriter.writeJsonField("azureMonitorInsights", this.azureMonitorInsights);
        jsonWriter.writeStringField("userAssignedManagedIdentityId", this.userAssignedManagedIdentityId);
        jsonWriter.writeStringField("defenderForServers",
            this.defenderForServers == null ? null : this.defenderForServers.toString());
        jsonWriter.writeStringField("defenderCspm", this.defenderCspm == null ? null : this.defenderCspm.toString());
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of DesiredConfiguration from the JsonReader.
     * 
     * @param jsonReader The JsonReader being read.
     * @return An instance of DesiredConfiguration if the JsonReader was pointing to an instance of it, or null if it
     * was pointing to JSON null.
     * @throws IllegalStateException If the deserialized JSON object was missing any required properties.
     * @throws IOException If an error occurs while reading the DesiredConfiguration.
     */
    public static DesiredConfiguration fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            DesiredConfiguration deserializedDesiredConfiguration = new DesiredConfiguration();
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();

                if ("changeTrackingAndInventory".equals(fieldName)) {
                    deserializedDesiredConfiguration.changeTrackingAndInventory
                        = ChangeTrackingConfiguration.fromJson(reader);
                } else if ("azureMonitorInsights".equals(fieldName)) {
                    deserializedDesiredConfiguration.azureMonitorInsights = AzureMonitorConfiguration.fromJson(reader);
                } else if ("userAssignedManagedIdentityId".equals(fieldName)) {
                    deserializedDesiredConfiguration.userAssignedManagedIdentityId = reader.getString();
                } else if ("defenderForServers".equals(fieldName)) {
                    deserializedDesiredConfiguration.defenderForServers
                        = DesiredConfigurationDefenderForServers.fromString(reader.getString());
                } else if ("defenderCspm".equals(fieldName)) {
                    deserializedDesiredConfiguration.defenderCspm
                        = DesiredConfigurationDefenderForServers.fromString(reader.getString());
                } else {
                    reader.skipChildren();
                }
            }

            return deserializedDesiredConfiguration;
        });
    }
}
