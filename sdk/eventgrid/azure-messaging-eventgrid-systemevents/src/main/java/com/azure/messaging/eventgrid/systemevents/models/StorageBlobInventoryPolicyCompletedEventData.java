// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.
package com.azure.messaging.eventgrid.systemevents.models;

import com.azure.core.annotation.Generated;
import com.azure.core.annotation.Immutable;
import com.azure.core.util.CoreUtils;
import com.azure.json.JsonReader;
import com.azure.json.JsonSerializable;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import java.io.IOException;
import java.time.OffsetDateTime;
import java.time.format.DateTimeFormatter;

/**
 * Schema of the Data property of an EventGridEvent for an Microsoft.Storage.BlobInventoryPolicyCompleted event.
 */
@Immutable
public final class StorageBlobInventoryPolicyCompletedEventData
    implements JsonSerializable<StorageBlobInventoryPolicyCompletedEventData> {

    /*
     * The time at which inventory policy was scheduled.
     */
    @Generated
    private final OffsetDateTime scheduleDateTime;

    /*
     * The account name for which inventory policy is registered.
     */
    @Generated
    private String accountName;

    /*
     * The rule name for inventory policy.
     */
    @Generated
    private String ruleName;

    /*
     * The status of inventory run, it can be Succeeded/PartiallySucceeded/Failed.
     */
    @Generated
    private String policyRunStatus;

    /*
     * The status message for inventory run.
     */
    @Generated
    private String policyRunStatusMessage;

    /*
     * The policy run id for inventory run.
     */
    @Generated
    private String policyRunId;

    /*
     * The blob URL for manifest file for inventory run.
     */
    @Generated
    private String manifestBlobUrl;

    /**
     * Creates an instance of StorageBlobInventoryPolicyCompletedEventData class.
     *
     * @param scheduleDateTime the scheduleDateTime value to set.
     */
    @Generated
    private StorageBlobInventoryPolicyCompletedEventData(OffsetDateTime scheduleDateTime) {
        this.scheduleDateTime = scheduleDateTime;
    }

    /**
     * Get the scheduleDateTime property: The time at which inventory policy was scheduled.
     *
     * @return the scheduleDateTime value.
     */
    @Generated
    public OffsetDateTime getScheduleDateTime() {
        return this.scheduleDateTime;
    }

    /**
     * Get the accountName property: The account name for which inventory policy is registered.
     *
     * @return the accountName value.
     */
    @Generated
    public String getAccountName() {
        return this.accountName;
    }

    /**
     * Get the ruleName property: The rule name for inventory policy.
     *
     * @return the ruleName value.
     */
    @Generated
    public String getRuleName() {
        return this.ruleName;
    }

    /**
     * Get the policyRunStatus property: The status of inventory run, it can be Succeeded/PartiallySucceeded/Failed.
     *
     * @return the policyRunStatus value.
     */
    @Generated
    public String getPolicyRunStatus() {
        return this.policyRunStatus;
    }

    /**
     * Get the policyRunStatusMessage property: The status message for inventory run.
     *
     * @return the policyRunStatusMessage value.
     */
    @Generated
    public String getPolicyRunStatusMessage() {
        return this.policyRunStatusMessage;
    }

    /**
     * Get the policyRunId property: The policy run id for inventory run.
     *
     * @return the policyRunId value.
     */
    @Generated
    public String getPolicyRunId() {
        return this.policyRunId;
    }

    /**
     * Get the manifestBlobUrl property: The blob URL for manifest file for inventory run.
     *
     * @return the manifestBlobUrl value.
     */
    @Generated
    public String getManifestBlobUrl() {
        return this.manifestBlobUrl;
    }

    /**
     * {@inheritDoc}
     */
    @Generated
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeStringField("scheduleDateTime",
            this.scheduleDateTime == null
                ? null
                : DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(this.scheduleDateTime));
        jsonWriter.writeStringField("accountName", this.accountName);
        jsonWriter.writeStringField("ruleName", this.ruleName);
        jsonWriter.writeStringField("policyRunStatus", this.policyRunStatus);
        jsonWriter.writeStringField("policyRunStatusMessage", this.policyRunStatusMessage);
        jsonWriter.writeStringField("policyRunId", this.policyRunId);
        jsonWriter.writeStringField("manifestBlobUrl", this.manifestBlobUrl);
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of StorageBlobInventoryPolicyCompletedEventData from the JsonReader.
     *
     * @param jsonReader The JsonReader being read.
     * @return An instance of StorageBlobInventoryPolicyCompletedEventData if the JsonReader was pointing to an instance
     * of it, or null if it was pointing to JSON null.
     * @throws IllegalStateException If the deserialized JSON object was missing any required properties.
     * @throws IOException If an error occurs while reading the StorageBlobInventoryPolicyCompletedEventData.
     */
    @Generated
    public static StorageBlobInventoryPolicyCompletedEventData fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            OffsetDateTime scheduleDateTime = null;
            String accountName = null;
            String ruleName = null;
            String policyRunStatus = null;
            String policyRunStatusMessage = null;
            String policyRunId = null;
            String manifestBlobUrl = null;
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();
                if ("scheduleDateTime".equals(fieldName)) {
                    scheduleDateTime = reader
                        .getNullable(nonNullReader -> CoreUtils.parseBestOffsetDateTime(nonNullReader.getString()));
                } else if ("accountName".equals(fieldName)) {
                    accountName = reader.getString();
                } else if ("ruleName".equals(fieldName)) {
                    ruleName = reader.getString();
                } else if ("policyRunStatus".equals(fieldName)) {
                    policyRunStatus = reader.getString();
                } else if ("policyRunStatusMessage".equals(fieldName)) {
                    policyRunStatusMessage = reader.getString();
                } else if ("policyRunId".equals(fieldName)) {
                    policyRunId = reader.getString();
                } else if ("manifestBlobUrl".equals(fieldName)) {
                    manifestBlobUrl = reader.getString();
                } else {
                    reader.skipChildren();
                }
            }
            StorageBlobInventoryPolicyCompletedEventData deserializedStorageBlobInventoryPolicyCompletedEventData
                = new StorageBlobInventoryPolicyCompletedEventData(scheduleDateTime);
            deserializedStorageBlobInventoryPolicyCompletedEventData.accountName = accountName;
            deserializedStorageBlobInventoryPolicyCompletedEventData.ruleName = ruleName;
            deserializedStorageBlobInventoryPolicyCompletedEventData.policyRunStatus = policyRunStatus;
            deserializedStorageBlobInventoryPolicyCompletedEventData.policyRunStatusMessage = policyRunStatusMessage;
            deserializedStorageBlobInventoryPolicyCompletedEventData.policyRunId = policyRunId;
            deserializedStorageBlobInventoryPolicyCompletedEventData.manifestBlobUrl = manifestBlobUrl;
            return deserializedStorageBlobInventoryPolicyCompletedEventData;
        });
    }
}
