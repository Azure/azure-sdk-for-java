// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.eventgrid.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.eventgrid.fluent.models.PartnerDestinationInner;
import com.azure.resourcemanager.eventgrid.models.PartnerDestinationActivationState;
import com.azure.resourcemanager.eventgrid.models.PartnerDestinationsListResult;
import java.time.OffsetDateTime;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import java.util.UUID;
import org.junit.jupiter.api.Assertions;

public final class PartnerDestinationsListResultTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        PartnerDestinationsListResult model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"partnerRegistrationImmutableId\":\"a9770cea-2fed-4c8e-a337-036477bbe2cf\",\"endpointServiceContext\":\"umbnraauzzp\",\"expirationTimeIfNotActivatedUtc\":\"2021-02-18T00:50:05Z\",\"provisioningState\":\"Updating\",\"activationState\":\"NeverActivated\",\"endpointBaseUrl\":\"hezwwvaiq\",\"messageForActivation\":\"vv\"},\"location\":\"nk\",\"tags\":{\"auy\":\"qyikvy\",\"y\":\"vluwmncsttij\"},\"id\":\"vpo\",\"name\":\"krsgsgb\",\"type\":\"huzqgn\"},{\"properties\":{\"partnerRegistrationImmutableId\":\"31b53cc4-c759-4379-92fc-ea9d95ba615d\",\"endpointServiceContext\":\"ynscl\",\"expirationTimeIfNotActivatedUtc\":\"2021-10-10T10:14:10Z\",\"provisioningState\":\"Updating\",\"activationState\":\"Activated\",\"endpointBaseUrl\":\"komtkubotppn\",\"messageForActivation\":\"xz\"},\"location\":\"ihfrbbcevqa\",\"tags\":{\"py\":\"tdhlfkqo\"},\"id\":\"vgtrdcnifmzzs\",\"name\":\"ymbrnysuxmpraf\",\"type\":\"g\"},{\"properties\":{\"partnerRegistrationImmutableId\":\"5c2bdf21-b5fa-4df9-84c9-002ace5a40f4\",\"endpointServiceContext\":\"cxvdfffwafqrouda\",\"expirationTimeIfNotActivatedUtc\":\"2021-09-22T08:28:07Z\",\"provisioningState\":\"Canceled\",\"activationState\":\"NeverActivated\",\"endpointBaseUrl\":\"vkbunzozudh\",\"messageForActivation\":\"gkmoyxcdyuibhmfd\"},\"location\":\"zydvfvf\",\"tags\":{\"gorf\":\"aeoisrvh\"},\"id\":\"ukiscvwmzhw\",\"name\":\"lefaxvxilcbtgn\",\"type\":\"nzeyqxtjj\"},{\"properties\":{\"partnerRegistrationImmutableId\":\"2b26d2b9-0897-4517-88b3-95e809c034b6\",\"endpointServiceContext\":\"qhycavodggxdbees\",\"expirationTimeIfNotActivatedUtc\":\"2021-02-12T22:39:40Z\",\"provisioningState\":\"Succeeded\",\"activationState\":\"NeverActivated\",\"endpointBaseUrl\":\"riaa\",\"messageForActivation\":\"uagydwqfbylyrf\"},\"location\":\"agt\",\"tags\":{\"zldmozuxy\":\"ocqwogfnzjvus\",\"ysownbtgkbug\":\"fsbtkad\",\"pe\":\"jqctojcmisofie\",\"hihihlhzdsqtzbsr\":\"ojyqdhcuplcplcw\"},\"id\":\"nowc\",\"name\":\"hfgmvecactxm\",\"type\":\"oteyowc\"}],\"nextLink\":\"qovekqvgqou\"}")
            .toObject(PartnerDestinationsListResult.class);
        Assertions.assertEquals("nk", model.value().get(0).location());
        Assertions.assertEquals("qyikvy", model.value().get(0).tags().get("auy"));
        Assertions.assertEquals(UUID.fromString("a9770cea-2fed-4c8e-a337-036477bbe2cf"),
            model.value().get(0).partnerRegistrationImmutableId());
        Assertions.assertEquals("umbnraauzzp", model.value().get(0).endpointServiceContext());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-18T00:50:05Z"),
            model.value().get(0).expirationTimeIfNotActivatedUtc());
        Assertions.assertEquals(PartnerDestinationActivationState.NEVER_ACTIVATED,
            model.value().get(0).activationState());
        Assertions.assertEquals("hezwwvaiq", model.value().get(0).endpointBaseUrl());
        Assertions.assertEquals("vv", model.value().get(0).messageForActivation());
        Assertions.assertEquals("qovekqvgqou", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        PartnerDestinationsListResult model = new PartnerDestinationsListResult().withValue(Arrays.asList(
            new PartnerDestinationInner().withLocation("nk")
                .withTags(mapOf("auy", "qyikvy", "y", "vluwmncsttij"))
                .withPartnerRegistrationImmutableId(UUID.fromString("a9770cea-2fed-4c8e-a337-036477bbe2cf"))
                .withEndpointServiceContext("umbnraauzzp")
                .withExpirationTimeIfNotActivatedUtc(OffsetDateTime.parse("2021-02-18T00:50:05Z"))
                .withActivationState(PartnerDestinationActivationState.NEVER_ACTIVATED)
                .withEndpointBaseUrl("hezwwvaiq")
                .withMessageForActivation("vv"),
            new PartnerDestinationInner().withLocation("ihfrbbcevqa")
                .withTags(mapOf("py", "tdhlfkqo"))
                .withPartnerRegistrationImmutableId(UUID.fromString("31b53cc4-c759-4379-92fc-ea9d95ba615d"))
                .withEndpointServiceContext("ynscl")
                .withExpirationTimeIfNotActivatedUtc(OffsetDateTime.parse("2021-10-10T10:14:10Z"))
                .withActivationState(PartnerDestinationActivationState.ACTIVATED)
                .withEndpointBaseUrl("komtkubotppn")
                .withMessageForActivation("xz"),
            new PartnerDestinationInner().withLocation("zydvfvf")
                .withTags(mapOf("gorf", "aeoisrvh"))
                .withPartnerRegistrationImmutableId(UUID.fromString("5c2bdf21-b5fa-4df9-84c9-002ace5a40f4"))
                .withEndpointServiceContext("cxvdfffwafqrouda")
                .withExpirationTimeIfNotActivatedUtc(OffsetDateTime.parse("2021-09-22T08:28:07Z"))
                .withActivationState(PartnerDestinationActivationState.NEVER_ACTIVATED)
                .withEndpointBaseUrl("vkbunzozudh")
                .withMessageForActivation("gkmoyxcdyuibhmfd"),
            new PartnerDestinationInner().withLocation("agt")
                .withTags(mapOf("zldmozuxy", "ocqwogfnzjvus", "ysownbtgkbug", "fsbtkad", "pe", "jqctojcmisofie",
                    "hihihlhzdsqtzbsr", "ojyqdhcuplcplcw"))
                .withPartnerRegistrationImmutableId(UUID.fromString("2b26d2b9-0897-4517-88b3-95e809c034b6"))
                .withEndpointServiceContext("qhycavodggxdbees")
                .withExpirationTimeIfNotActivatedUtc(OffsetDateTime.parse("2021-02-12T22:39:40Z"))
                .withActivationState(PartnerDestinationActivationState.NEVER_ACTIVATED)
                .withEndpointBaseUrl("riaa")
                .withMessageForActivation("uagydwqfbylyrf")))
            .withNextLink("qovekqvgqou");
        model = BinaryData.fromObject(model).toObject(PartnerDestinationsListResult.class);
        Assertions.assertEquals("nk", model.value().get(0).location());
        Assertions.assertEquals("qyikvy", model.value().get(0).tags().get("auy"));
        Assertions.assertEquals(UUID.fromString("a9770cea-2fed-4c8e-a337-036477bbe2cf"),
            model.value().get(0).partnerRegistrationImmutableId());
        Assertions.assertEquals("umbnraauzzp", model.value().get(0).endpointServiceContext());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-18T00:50:05Z"),
            model.value().get(0).expirationTimeIfNotActivatedUtc());
        Assertions.assertEquals(PartnerDestinationActivationState.NEVER_ACTIVATED,
            model.value().get(0).activationState());
        Assertions.assertEquals("hezwwvaiq", model.value().get(0).endpointBaseUrl());
        Assertions.assertEquals("vv", model.value().get(0).messageForActivation());
        Assertions.assertEquals("qovekqvgqou", model.nextLink());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
