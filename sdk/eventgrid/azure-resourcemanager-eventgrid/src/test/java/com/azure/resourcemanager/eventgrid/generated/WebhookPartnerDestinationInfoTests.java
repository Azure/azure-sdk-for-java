// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.eventgrid.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.eventgrid.models.AzureADPartnerClientAuthentication;
import com.azure.resourcemanager.eventgrid.models.ResourceMoveChangeHistory;
import com.azure.resourcemanager.eventgrid.models.WebhookPartnerDestinationInfo;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class WebhookPartnerDestinationInfoTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        WebhookPartnerDestinationInfo model = BinaryData.fromString(
            "{\"endpointType\":\"WebHook\",\"properties\":{\"endpointUrl\":\"clamgglvlmfejdoq\",\"endpointBaseUrl\":\"kgltyg\",\"clientAuthentication\":{\"clientAuthenticationType\":\"AzureAD\"}},\"azureSubscriptionId\":\"ayejsxtlgflwfgz\",\"resourceGroupName\":\"u\",\"name\":\"jjceatlijjjr\",\"endpointServiceContext\":\"am\",\"resourceMoveChangeHistory\":[{\"azureSubscriptionId\":\"knxkvccxetyvkunm\",\"resourceGroupName\":\"nohikkgq\",\"changedTimeUtc\":\"2021-11-11T21:33:18Z\"},{\"azureSubscriptionId\":\"pinde\",\"resourceGroupName\":\"abbxbhmedeil\",\"changedTimeUtc\":\"2021-10-06T21:37:11Z\"},{\"azureSubscriptionId\":\"fcfxzirzzihvwy\",\"resourceGroupName\":\"suvjslcz\",\"changedTimeUtc\":\"2021-03-20T00:16:26Z\"}]}")
            .toObject(WebhookPartnerDestinationInfo.class);
        Assertions.assertEquals("ayejsxtlgflwfgz", model.azureSubscriptionId());
        Assertions.assertEquals("u", model.resourceGroupName());
        Assertions.assertEquals("jjceatlijjjr", model.name());
        Assertions.assertEquals("am", model.endpointServiceContext());
        Assertions.assertEquals("knxkvccxetyvkunm", model.resourceMoveChangeHistory().get(0).azureSubscriptionId());
        Assertions.assertEquals("nohikkgq", model.resourceMoveChangeHistory().get(0).resourceGroupName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-11T21:33:18Z"),
            model.resourceMoveChangeHistory().get(0).changedTimeUtc());
        Assertions.assertEquals("clamgglvlmfejdoq", model.endpointUrl());
        Assertions.assertEquals("kgltyg", model.endpointBaseUrl());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        WebhookPartnerDestinationInfo model
            = new WebhookPartnerDestinationInfo().withAzureSubscriptionId("ayejsxtlgflwfgz")
                .withResourceGroupName("u")
                .withName("jjceatlijjjr")
                .withEndpointServiceContext("am")
                .withResourceMoveChangeHistory(Arrays.asList(
                    new ResourceMoveChangeHistory().withAzureSubscriptionId("knxkvccxetyvkunm")
                        .withResourceGroupName("nohikkgq")
                        .withChangedTimeUtc(OffsetDateTime.parse("2021-11-11T21:33:18Z")),
                    new ResourceMoveChangeHistory().withAzureSubscriptionId("pinde")
                        .withResourceGroupName("abbxbhmedeil")
                        .withChangedTimeUtc(OffsetDateTime.parse("2021-10-06T21:37:11Z")),
                    new ResourceMoveChangeHistory().withAzureSubscriptionId("fcfxzirzzihvwy")
                        .withResourceGroupName("suvjslcz")
                        .withChangedTimeUtc(OffsetDateTime.parse("2021-03-20T00:16:26Z"))))
                .withEndpointUrl("clamgglvlmfejdoq")
                .withEndpointBaseUrl("kgltyg")
                .withClientAuthentication(new AzureADPartnerClientAuthentication());
        model = BinaryData.fromObject(model).toObject(WebhookPartnerDestinationInfo.class);
        Assertions.assertEquals("ayejsxtlgflwfgz", model.azureSubscriptionId());
        Assertions.assertEquals("u", model.resourceGroupName());
        Assertions.assertEquals("jjceatlijjjr", model.name());
        Assertions.assertEquals("am", model.endpointServiceContext());
        Assertions.assertEquals("knxkvccxetyvkunm", model.resourceMoveChangeHistory().get(0).azureSubscriptionId());
        Assertions.assertEquals("nohikkgq", model.resourceMoveChangeHistory().get(0).resourceGroupName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-11T21:33:18Z"),
            model.resourceMoveChangeHistory().get(0).changedTimeUtc());
        Assertions.assertEquals("clamgglvlmfejdoq", model.endpointUrl());
        Assertions.assertEquals("kgltyg", model.endpointBaseUrl());
    }
}
