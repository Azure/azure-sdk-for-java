// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.eventgrid.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.eventgrid.models.PartnerClientAuthentication;
import com.azure.resourcemanager.eventgrid.models.ResourceMoveChangeHistory;
import com.azure.resourcemanager.eventgrid.models.WebhookPartnerDestinationInfo;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class WebhookPartnerDestinationInfoTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        WebhookPartnerDestinationInfo model = BinaryData.fromString(
            "{\"endpointType\":\"WebHook\",\"properties\":{\"endpointUrl\":\"lin\",\"endpointBaseUrl\":\"yqxzxaqzibmqim\",\"clientAuthentication\":{\"clientAuthenticationType\":\"PartnerClientAuthentication\"}},\"azureSubscriptionId\":\"qruqguh\",\"resourceGroupName\":\"petasvvoqsb\",\"name\":\"flanfkgxsyao\",\"endpointServiceContext\":\"zowpuohdkcprgukx\",\"resourceMoveChangeHistory\":[{\"azureSubscriptionId\":\"ochlu\",\"resourceGroupName\":\"xmqrudjizc\",\"changedTimeUtc\":\"2021-09-21T06:40:09Z\"},{\"azureSubscriptionId\":\"crunfhi\",\"resourceGroupName\":\"nmfbc\",\"changedTimeUtc\":\"2021-08-27T10:11:42Z\"},{\"azureSubscriptionId\":\"tk\",\"resourceGroupName\":\"mzuedkyzbfvxovq\",\"changedTimeUtc\":\"2021-09-14T20:49:29Z\"},{\"azureSubscriptionId\":\"xqggvqr\",\"resourceGroupName\":\"yhlwcjsqg\",\"changedTimeUtc\":\"2021-09-27T19:32:09Z\"}]}")
            .toObject(WebhookPartnerDestinationInfo.class);
        Assertions.assertEquals("qruqguh", model.azureSubscriptionId());
        Assertions.assertEquals("petasvvoqsb", model.resourceGroupName());
        Assertions.assertEquals("flanfkgxsyao", model.name());
        Assertions.assertEquals("zowpuohdkcprgukx", model.endpointServiceContext());
        Assertions.assertEquals("ochlu", model.resourceMoveChangeHistory().get(0).azureSubscriptionId());
        Assertions.assertEquals("xmqrudjizc", model.resourceMoveChangeHistory().get(0).resourceGroupName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-21T06:40:09Z"),
            model.resourceMoveChangeHistory().get(0).changedTimeUtc());
        Assertions.assertEquals("lin", model.endpointUrl());
        Assertions.assertEquals("yqxzxaqzibmqim", model.endpointBaseUrl());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        WebhookPartnerDestinationInfo model = new WebhookPartnerDestinationInfo().withAzureSubscriptionId("qruqguh")
            .withResourceGroupName("petasvvoqsb")
            .withName("flanfkgxsyao")
            .withEndpointServiceContext("zowpuohdkcprgukx")
            .withResourceMoveChangeHistory(Arrays.asList(
                new ResourceMoveChangeHistory().withAzureSubscriptionId("ochlu")
                    .withResourceGroupName("xmqrudjizc")
                    .withChangedTimeUtc(OffsetDateTime.parse("2021-09-21T06:40:09Z")),
                new ResourceMoveChangeHistory().withAzureSubscriptionId("crunfhi")
                    .withResourceGroupName("nmfbc")
                    .withChangedTimeUtc(OffsetDateTime.parse("2021-08-27T10:11:42Z")),
                new ResourceMoveChangeHistory().withAzureSubscriptionId("tk")
                    .withResourceGroupName("mzuedkyzbfvxovq")
                    .withChangedTimeUtc(OffsetDateTime.parse("2021-09-14T20:49:29Z")),
                new ResourceMoveChangeHistory().withAzureSubscriptionId("xqggvqr")
                    .withResourceGroupName("yhlwcjsqg")
                    .withChangedTimeUtc(OffsetDateTime.parse("2021-09-27T19:32:09Z"))))
            .withEndpointUrl("lin")
            .withEndpointBaseUrl("yqxzxaqzibmqim")
            .withClientAuthentication(new PartnerClientAuthentication());
        model = BinaryData.fromObject(model).toObject(WebhookPartnerDestinationInfo.class);
        Assertions.assertEquals("qruqguh", model.azureSubscriptionId());
        Assertions.assertEquals("petasvvoqsb", model.resourceGroupName());
        Assertions.assertEquals("flanfkgxsyao", model.name());
        Assertions.assertEquals("zowpuohdkcprgukx", model.endpointServiceContext());
        Assertions.assertEquals("ochlu", model.resourceMoveChangeHistory().get(0).azureSubscriptionId());
        Assertions.assertEquals("xmqrudjizc", model.resourceMoveChangeHistory().get(0).resourceGroupName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-21T06:40:09Z"),
            model.resourceMoveChangeHistory().get(0).changedTimeUtc());
        Assertions.assertEquals("lin", model.endpointUrl());
        Assertions.assertEquals("yqxzxaqzibmqim", model.endpointBaseUrl());
    }
}
