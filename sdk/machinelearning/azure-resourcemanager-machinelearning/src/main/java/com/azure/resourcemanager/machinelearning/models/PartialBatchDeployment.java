// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.machinelearning.models;

import com.azure.core.annotation.Fluent;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import java.util.Map;

/** Mutable batch inference settings per deployment. */
@Fluent
public final class PartialBatchDeployment {
    /*
     * Code configuration for the endpoint deployment.
     */
    @JsonProperty(value = "codeConfiguration")
    private PartialCodeConfiguration codeConfiguration;

    /*
     * Compute binding definition.
     */
    @JsonProperty(value = "compute")
    private String compute;

    /*
     * Description of the endpoint deployment.
     */
    @JsonProperty(value = "description")
    private String description;

    /*
     * ARM resource ID of the environment specification for the endpoint
     * deployment.
     */
    @JsonProperty(value = "environmentId")
    private String environmentId;

    /*
     * Environment variables configuration for the deployment.
     */
    @JsonProperty(value = "environmentVariables")
    @JsonInclude(value = JsonInclude.Include.NON_NULL, content = JsonInclude.Include.ALWAYS)
    private Map<String, String> environmentVariables;

    /*
     * Error threshold, if the error count for the entire input goes above this
     * value,
     * the batch inference will be aborted. Range is [-1, int.MaxValue].
     * For FileDataset, this value is the count of file failures.
     * For TabularDataset, this value is the count of record failures.
     * If set to -1 (the lower bound), all failures during batch inference will
     * be ignored.
     */
    @JsonProperty(value = "errorThreshold")
    private Integer errorThreshold;

    /*
     * Logging level for batch inference operation.
     */
    @JsonProperty(value = "loggingLevel")
    private BatchLoggingLevel loggingLevel;

    /*
     * Indicates number of processes per instance
     */
    @JsonProperty(value = "maxConcurrencyPerInstance")
    private Integer maxConcurrencyPerInstance;

    /*
     * Size of the mini-batch passed to each batch invocation.
     * For FileDataset, this is the number of files per mini-batch.
     * For TabularDataset, this is the size of the records in bytes, per
     * mini-batch.
     */
    @JsonProperty(value = "miniBatchSize")
    private Long miniBatchSize;

    /*
     * Reference to the model asset for the endpoint deployment.
     */
    @JsonProperty(value = "model")
    private PartialAssetReferenceBase model;

    /*
     * Indicates how the output will be organized.
     */
    @JsonProperty(value = "outputAction")
    private BatchOutputAction outputAction;

    /*
     * Customized output file name for append_row output action.
     */
    @JsonProperty(value = "outputFileName")
    private String outputFileName;

    /*
     * Property dictionary. Properties can be added, but not removed or
     * altered.
     */
    @JsonProperty(value = "properties")
    @JsonInclude(value = JsonInclude.Include.NON_NULL, content = JsonInclude.Include.ALWAYS)
    private Map<String, String> properties;

    /*
     * Retry Settings for the batch inference operation.
     */
    @JsonProperty(value = "retrySettings")
    private PartialBatchRetrySettings retrySettings;

    /**
     * Get the codeConfiguration property: Code configuration for the endpoint deployment.
     *
     * @return the codeConfiguration value.
     */
    public PartialCodeConfiguration codeConfiguration() {
        return this.codeConfiguration;
    }

    /**
     * Set the codeConfiguration property: Code configuration for the endpoint deployment.
     *
     * @param codeConfiguration the codeConfiguration value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withCodeConfiguration(PartialCodeConfiguration codeConfiguration) {
        this.codeConfiguration = codeConfiguration;
        return this;
    }

    /**
     * Get the compute property: Compute binding definition.
     *
     * @return the compute value.
     */
    public String compute() {
        return this.compute;
    }

    /**
     * Set the compute property: Compute binding definition.
     *
     * @param compute the compute value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withCompute(String compute) {
        this.compute = compute;
        return this;
    }

    /**
     * Get the description property: Description of the endpoint deployment.
     *
     * @return the description value.
     */
    public String description() {
        return this.description;
    }

    /**
     * Set the description property: Description of the endpoint deployment.
     *
     * @param description the description value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withDescription(String description) {
        this.description = description;
        return this;
    }

    /**
     * Get the environmentId property: ARM resource ID of the environment specification for the endpoint deployment.
     *
     * @return the environmentId value.
     */
    public String environmentId() {
        return this.environmentId;
    }

    /**
     * Set the environmentId property: ARM resource ID of the environment specification for the endpoint deployment.
     *
     * @param environmentId the environmentId value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withEnvironmentId(String environmentId) {
        this.environmentId = environmentId;
        return this;
    }

    /**
     * Get the environmentVariables property: Environment variables configuration for the deployment.
     *
     * @return the environmentVariables value.
     */
    public Map<String, String> environmentVariables() {
        return this.environmentVariables;
    }

    /**
     * Set the environmentVariables property: Environment variables configuration for the deployment.
     *
     * @param environmentVariables the environmentVariables value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withEnvironmentVariables(Map<String, String> environmentVariables) {
        this.environmentVariables = environmentVariables;
        return this;
    }

    /**
     * Get the errorThreshold property: Error threshold, if the error count for the entire input goes above this value,
     * the batch inference will be aborted. Range is [-1, int.MaxValue]. For FileDataset, this value is the count of
     * file failures. For TabularDataset, this value is the count of record failures. If set to -1 (the lower bound),
     * all failures during batch inference will be ignored.
     *
     * @return the errorThreshold value.
     */
    public Integer errorThreshold() {
        return this.errorThreshold;
    }

    /**
     * Set the errorThreshold property: Error threshold, if the error count for the entire input goes above this value,
     * the batch inference will be aborted. Range is [-1, int.MaxValue]. For FileDataset, this value is the count of
     * file failures. For TabularDataset, this value is the count of record failures. If set to -1 (the lower bound),
     * all failures during batch inference will be ignored.
     *
     * @param errorThreshold the errorThreshold value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withErrorThreshold(Integer errorThreshold) {
        this.errorThreshold = errorThreshold;
        return this;
    }

    /**
     * Get the loggingLevel property: Logging level for batch inference operation.
     *
     * @return the loggingLevel value.
     */
    public BatchLoggingLevel loggingLevel() {
        return this.loggingLevel;
    }

    /**
     * Set the loggingLevel property: Logging level for batch inference operation.
     *
     * @param loggingLevel the loggingLevel value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withLoggingLevel(BatchLoggingLevel loggingLevel) {
        this.loggingLevel = loggingLevel;
        return this;
    }

    /**
     * Get the maxConcurrencyPerInstance property: Indicates number of processes per instance.
     *
     * @return the maxConcurrencyPerInstance value.
     */
    public Integer maxConcurrencyPerInstance() {
        return this.maxConcurrencyPerInstance;
    }

    /**
     * Set the maxConcurrencyPerInstance property: Indicates number of processes per instance.
     *
     * @param maxConcurrencyPerInstance the maxConcurrencyPerInstance value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withMaxConcurrencyPerInstance(Integer maxConcurrencyPerInstance) {
        this.maxConcurrencyPerInstance = maxConcurrencyPerInstance;
        return this;
    }

    /**
     * Get the miniBatchSize property: Size of the mini-batch passed to each batch invocation. For FileDataset, this is
     * the number of files per mini-batch. For TabularDataset, this is the size of the records in bytes, per mini-batch.
     *
     * @return the miniBatchSize value.
     */
    public Long miniBatchSize() {
        return this.miniBatchSize;
    }

    /**
     * Set the miniBatchSize property: Size of the mini-batch passed to each batch invocation. For FileDataset, this is
     * the number of files per mini-batch. For TabularDataset, this is the size of the records in bytes, per mini-batch.
     *
     * @param miniBatchSize the miniBatchSize value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withMiniBatchSize(Long miniBatchSize) {
        this.miniBatchSize = miniBatchSize;
        return this;
    }

    /**
     * Get the model property: Reference to the model asset for the endpoint deployment.
     *
     * @return the model value.
     */
    public PartialAssetReferenceBase model() {
        return this.model;
    }

    /**
     * Set the model property: Reference to the model asset for the endpoint deployment.
     *
     * @param model the model value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withModel(PartialAssetReferenceBase model) {
        this.model = model;
        return this;
    }

    /**
     * Get the outputAction property: Indicates how the output will be organized.
     *
     * @return the outputAction value.
     */
    public BatchOutputAction outputAction() {
        return this.outputAction;
    }

    /**
     * Set the outputAction property: Indicates how the output will be organized.
     *
     * @param outputAction the outputAction value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withOutputAction(BatchOutputAction outputAction) {
        this.outputAction = outputAction;
        return this;
    }

    /**
     * Get the outputFileName property: Customized output file name for append_row output action.
     *
     * @return the outputFileName value.
     */
    public String outputFileName() {
        return this.outputFileName;
    }

    /**
     * Set the outputFileName property: Customized output file name for append_row output action.
     *
     * @param outputFileName the outputFileName value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withOutputFileName(String outputFileName) {
        this.outputFileName = outputFileName;
        return this;
    }

    /**
     * Get the properties property: Property dictionary. Properties can be added, but not removed or altered.
     *
     * @return the properties value.
     */
    public Map<String, String> properties() {
        return this.properties;
    }

    /**
     * Set the properties property: Property dictionary. Properties can be added, but not removed or altered.
     *
     * @param properties the properties value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withProperties(Map<String, String> properties) {
        this.properties = properties;
        return this;
    }

    /**
     * Get the retrySettings property: Retry Settings for the batch inference operation.
     *
     * @return the retrySettings value.
     */
    public PartialBatchRetrySettings retrySettings() {
        return this.retrySettings;
    }

    /**
     * Set the retrySettings property: Retry Settings for the batch inference operation.
     *
     * @param retrySettings the retrySettings value to set.
     * @return the PartialBatchDeployment object itself.
     */
    public PartialBatchDeployment withRetrySettings(PartialBatchRetrySettings retrySettings) {
        this.retrySettings = retrySettings;
        return this;
    }

    /**
     * Validates the instance.
     *
     * @throws IllegalArgumentException thrown if the instance is not valid.
     */
    public void validate() {
        if (codeConfiguration() != null) {
            codeConfiguration().validate();
        }
        if (model() != null) {
            model().validate();
        }
        if (retrySettings() != null) {
            retrySettings().validate();
        }
    }
}
