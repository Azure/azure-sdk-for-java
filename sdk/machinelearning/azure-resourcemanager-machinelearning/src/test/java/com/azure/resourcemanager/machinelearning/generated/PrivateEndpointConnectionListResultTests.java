// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.machinelearning.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.machinelearning.fluent.models.PrivateEndpointConnectionInner;
import com.azure.resourcemanager.machinelearning.models.ManagedServiceIdentity;
import com.azure.resourcemanager.machinelearning.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.machinelearning.models.PrivateEndpointConnectionListResult;
import com.azure.resourcemanager.machinelearning.models.Sku;
import com.azure.resourcemanager.machinelearning.models.SkuTier;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class PrivateEndpointConnectionListResultTests {
    @Test
    public void testDeserialize() {
        PrivateEndpointConnectionListResult model =
            BinaryData
                .fromString(
                    "{\"value\":[{\"properties\":{\"provisioningState\":\"Succeeded\"},\"identity\":{\"principalId\":\"026a744a-c98e-4aab-b4e7-ac818d77a18c\",\"tenantId\":\"7569c5b1-e95a-4d11-8e70-6e6d9a77e25f\",\"type\":\"SystemAssigned,UserAssigned\",\"userAssignedIdentities\":{}},\"location\":\"k\",\"tags\":{\"kphywpnvjto\":\"dhbt\"},\"sku\":{\"name\":\"ermclfplphoxuscr\",\"tier\":\"Basic\",\"size\":\"ye\",\"family\":\"bjtazqugxywpmu\",\"capacity\":737814385},\"id\":\"zwfqkqujidsuyon\",\"name\":\"bglaocqxtccm\",\"type\":\"yudxytlmoy\"},{\"properties\":{\"provisioningState\":\"Creating\"},\"identity\":{\"principalId\":\"5db57d21-bf6d-450f-86c0-687725dd04c7\",\"tenantId\":\"2b72e0f8-fa03-451d-a9cc-b80f6ec6abc8\",\"type\":\"None\",\"userAssignedIdentities\":{}},\"location\":\"txhdzh\",\"tags\":{\"sbkyvpycanuzbp\":\"jbhckfrlhr\"},\"sku\":{\"name\":\"afkuwb\",\"tier\":\"Basic\",\"size\":\"bmehh\",\"family\":\"yvjusrtslhsp\",\"capacity\":1857421626},\"id\":\"maofmxagkv\",\"name\":\"melmqkrha\",\"type\":\"vljua\"},{\"properties\":{\"provisioningState\":\"Deleting\"},\"identity\":{\"principalId\":\"77d0c733-8a54-41fd-bdcd-11bfd4a16551\",\"tenantId\":\"c977224e-a2d8-42ca-8930-436410ec9d3e\",\"type\":\"None\",\"userAssignedIdentities\":{}},\"location\":\"alaexqpvfadmwsrc\",\"tags\":{\"zlfmisgwbnbbeld\":\"xpvgo\",\"ali\":\"wkz\"},\"sku\":{\"name\":\"rqhakauha\",\"tier\":\"Standard\",\"size\":\"wxosowzxcug\",\"family\":\"jooxdjebw\",\"capacity\":741000017},\"id\":\"wfvovbv\",\"name\":\"euecivyhzceuoj\",\"type\":\"jrwjueiotwm\"},{\"properties\":{\"provisioningState\":\"Creating\"},\"identity\":{\"principalId\":\"78c7c93c-6b5d-4068-b6e4-7d2b2675e8f2\",\"tenantId\":\"71e1c700-78c4-4552-bf80-4784fbbd1bea\",\"type\":\"SystemAssigned\",\"userAssignedIdentities\":{}},\"location\":\"rjaw\",\"tags\":{\"fbkp\":\"gxhnisk\",\"lwn\":\"cg\"},\"sku\":{\"name\":\"hjdauwhvylwz\",\"tier\":\"Standard\",\"size\":\"xujznbmpowu\",\"family\":\"rzqlveu\",\"capacity\":1056372950},\"id\":\"j\",\"name\":\"khfxobbcswsrt\",\"type\":\"riplrbpbewtg\"}]}")
                .toObject(PrivateEndpointConnectionListResult.class);
        Assertions
            .assertEquals(
                ManagedServiceIdentityType.SYSTEM_ASSIGNED_USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("k", model.value().get(0).location());
        Assertions.assertEquals("dhbt", model.value().get(0).tags().get("kphywpnvjto"));
        Assertions.assertEquals("ermclfplphoxuscr", model.value().get(0).sku().name());
        Assertions.assertEquals(SkuTier.BASIC, model.value().get(0).sku().tier());
        Assertions.assertEquals("ye", model.value().get(0).sku().size());
        Assertions.assertEquals("bjtazqugxywpmu", model.value().get(0).sku().family());
        Assertions.assertEquals(737814385, model.value().get(0).sku().capacity());
    }

    @Test
    public void testSerialize() {
        PrivateEndpointConnectionListResult model =
            new PrivateEndpointConnectionListResult()
                .withValue(
                    Arrays
                        .asList(
                            new PrivateEndpointConnectionInner()
                                .withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.SYSTEM_ASSIGNED_USER_ASSIGNED)
                                        .withUserAssignedIdentities(mapOf()))
                                .withLocation("k")
                                .withTags(mapOf("kphywpnvjto", "dhbt"))
                                .withSku(
                                    new Sku()
                                        .withName("ermclfplphoxuscr")
                                        .withTier(SkuTier.BASIC)
                                        .withSize("ye")
                                        .withFamily("bjtazqugxywpmu")
                                        .withCapacity(737814385)),
                            new PrivateEndpointConnectionInner()
                                .withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.NONE)
                                        .withUserAssignedIdentities(mapOf()))
                                .withLocation("txhdzh")
                                .withTags(mapOf("sbkyvpycanuzbp", "jbhckfrlhr"))
                                .withSku(
                                    new Sku()
                                        .withName("afkuwb")
                                        .withTier(SkuTier.BASIC)
                                        .withSize("bmehh")
                                        .withFamily("yvjusrtslhsp")
                                        .withCapacity(1857421626)),
                            new PrivateEndpointConnectionInner()
                                .withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.NONE)
                                        .withUserAssignedIdentities(mapOf()))
                                .withLocation("alaexqpvfadmwsrc")
                                .withTags(mapOf("zlfmisgwbnbbeld", "xpvgo", "ali", "wkz"))
                                .withSku(
                                    new Sku()
                                        .withName("rqhakauha")
                                        .withTier(SkuTier.STANDARD)
                                        .withSize("wxosowzxcug")
                                        .withFamily("jooxdjebw")
                                        .withCapacity(741000017)),
                            new PrivateEndpointConnectionInner()
                                .withIdentity(
                                    new ManagedServiceIdentity()
                                        .withType(ManagedServiceIdentityType.SYSTEM_ASSIGNED)
                                        .withUserAssignedIdentities(mapOf()))
                                .withLocation("rjaw")
                                .withTags(mapOf("fbkp", "gxhnisk", "lwn", "cg"))
                                .withSku(
                                    new Sku()
                                        .withName("hjdauwhvylwz")
                                        .withTier(SkuTier.STANDARD)
                                        .withSize("xujznbmpowu")
                                        .withFamily("rzqlveu")
                                        .withCapacity(1056372950))));
        model = BinaryData.fromObject(model).toObject(PrivateEndpointConnectionListResult.class);
        Assertions
            .assertEquals(
                ManagedServiceIdentityType.SYSTEM_ASSIGNED_USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("k", model.value().get(0).location());
        Assertions.assertEquals("dhbt", model.value().get(0).tags().get("kphywpnvjto"));
        Assertions.assertEquals("ermclfplphoxuscr", model.value().get(0).sku().name());
        Assertions.assertEquals(SkuTier.BASIC, model.value().get(0).sku().tier());
        Assertions.assertEquals("ye", model.value().get(0).sku().size());
        Assertions.assertEquals("bjtazqugxywpmu", model.value().get(0).sku().family());
        Assertions.assertEquals(737814385, model.value().get(0).sku().capacity());
    }

    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
