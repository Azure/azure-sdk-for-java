// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.kusto.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.kusto.fluent.models.OutboundNetworkDependenciesEndpointInner;
import com.azure.resourcemanager.kusto.models.EndpointDependency;
import com.azure.resourcemanager.kusto.models.EndpointDetail;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class OutboundNetworkDependenciesEndpointInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        OutboundNetworkDependenciesEndpointInner model = BinaryData.fromString(
            "{\"properties\":{\"category\":\"pcnp\",\"endpoints\":[{\"domainName\":\"a\",\"endpointDetails\":[{\"port\":171079627,\"ipAddress\":\"ccyajg\"}]},{\"domainName\":\"fhwygzlvdnkfxus\",\"endpointDetails\":[{\"port\":1095077901,\"ipAddress\":\"muhapfcqdpsqxqv\"},{\"port\":1014865004,\"ipAddress\":\"oymgccelvezr\"}]},{\"domainName\":\"qlmfeoker\",\"endpointDetails\":[{\"port\":553153301,\"ipAddress\":\"ob\"},{\"port\":1642208339,\"ipAddress\":\"edkowepbqpcrfk\"},{\"port\":1217910065,\"ipAddress\":\"snjvcdwxlpqekftn\"}]}],\"provisioningState\":\"Failed\"},\"etag\":\"syingwfqatmtdht\",\"id\":\"dvypgikdgsz\",\"name\":\"w\",\"type\":\"birryuzhl\"}")
            .toObject(OutboundNetworkDependenciesEndpointInner.class);
        Assertions.assertEquals("pcnp", model.category());
        Assertions.assertEquals("a", model.endpoints().get(0).domainName());
        Assertions.assertEquals(171079627, model.endpoints().get(0).endpointDetails().get(0).port());
        Assertions.assertEquals("ccyajg", model.endpoints().get(0).endpointDetails().get(0).ipAddress());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        OutboundNetworkDependenciesEndpointInner model
            = new OutboundNetworkDependenciesEndpointInner().withCategory("pcnp")
                .withEndpoints(
                    Arrays.asList(
                        new EndpointDependency().withDomainName("a")
                            .withEndpointDetails(
                                Arrays.asList(new EndpointDetail().withPort(171079627).withIpAddress("ccyajg"))),
                        new EndpointDependency().withDomainName("fhwygzlvdnkfxus")
                            .withEndpointDetails(Arrays.asList(
                                new EndpointDetail().withPort(1095077901).withIpAddress("muhapfcqdpsqxqv"),
                                new EndpointDetail().withPort(1014865004).withIpAddress("oymgccelvezr"))),
                        new EndpointDependency().withDomainName("qlmfeoker")
                            .withEndpointDetails(
                                Arrays.asList(new EndpointDetail().withPort(553153301).withIpAddress("ob"),
                                    new EndpointDetail().withPort(1642208339).withIpAddress("edkowepbqpcrfk"),
                                    new EndpointDetail().withPort(1217910065).withIpAddress("snjvcdwxlpqekftn")))));
        model = BinaryData.fromObject(model).toObject(OutboundNetworkDependenciesEndpointInner.class);
        Assertions.assertEquals("pcnp", model.category());
        Assertions.assertEquals("a", model.endpoints().get(0).domainName());
        Assertions.assertEquals(171079627, model.endpoints().get(0).endpointDetails().get(0).port());
        Assertions.assertEquals("ccyajg", model.endpoints().get(0).endpointDetails().get(0).ipAddress());
    }
}
