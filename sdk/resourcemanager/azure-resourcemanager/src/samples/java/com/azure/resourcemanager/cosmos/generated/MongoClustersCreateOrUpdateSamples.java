// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.cosmos.generated;

import com.azure.resourcemanager.cosmos.fluent.models.MongoClusterInner;
import com.azure.resourcemanager.cosmos.models.CreateMode;
import com.azure.resourcemanager.cosmos.models.MongoClusterRestoreParameters;
import com.azure.resourcemanager.cosmos.models.NodeGroupSpec;
import com.azure.resourcemanager.cosmos.models.NodeKind;
import java.time.OffsetDateTime;
import java.util.Arrays;

/** Samples for MongoClusters CreateOrUpdate. */
public final class MongoClustersCreateOrUpdateSamples {
    /*
     * x-ms-original-file: specification/cosmos-db/resource-manager/Microsoft.DocumentDB/preview/2023-09-15-preview/examples/mongo-cluster/CosmosDBMongoClusterCreatePITR.json
     */
    /**
     * Sample code: Create a new mongo cluster with point in time restore.
     *
     * @param azure The entry point for accessing resource management APIs in Azure.
     */
    public static void createANewMongoClusterWithPointInTimeRestore(
        com.azure.resourcemanager.AzureResourceManager azure) {
        azure
            .cosmosDBAccounts()
            .manager()
            .serviceClient()
            .getMongoClusters()
            .createOrUpdate(
                "TestResourceGroup",
                "myMongoCluster",
                new MongoClusterInner()
                    .withLocation("westus2")
                    .withCreateMode(CreateMode.POINT_IN_TIME_RESTORE)
                    .withRestoreParameters(
                        new MongoClusterRestoreParameters()
                            .withPointInTimeUtc(OffsetDateTime.parse("2023-01-13T20:07:35Z"))
                            .withSourceResourceId(
                                "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourceGroups/TestResourceGroup/providers/Microsoft.DocumentDB/mongoClusters/myOtherMongoCluster")),
                com.azure.core.util.Context.NONE);
    }

    /*
     * x-ms-original-file: specification/cosmos-db/resource-manager/Microsoft.DocumentDB/preview/2023-09-15-preview/examples/mongo-cluster/CosmosDBMongoClusterCreate.json
     */
    /**
     * Sample code: Create a new mongo cluster.
     *
     * @param azure The entry point for accessing resource management APIs in Azure.
     */
    public static void createANewMongoCluster(com.azure.resourcemanager.AzureResourceManager azure) {
        azure
            .cosmosDBAccounts()
            .manager()
            .serviceClient()
            .getMongoClusters()
            .createOrUpdate(
                "TestResourceGroup",
                "myMongoCluster",
                new MongoClusterInner()
                    .withLocation("westus2")
                    .withAdministratorLogin("mongoAdmin")
                    .withAdministratorLoginPassword("fakeTokenPlaceholder")
                    .withServerVersion("5.0")
                    .withNodeGroupSpecs(
                        Arrays
                            .asList(
                                new NodeGroupSpec()
                                    .withSku("M30")
                                    .withDiskSizeGB(128L)
                                    .withEnableHa(true)
                                    .withKind(NodeKind.SHARD)
                                    .withNodeCount(3))),
                com.azure.core.util.Context.NONE);
    }
}
