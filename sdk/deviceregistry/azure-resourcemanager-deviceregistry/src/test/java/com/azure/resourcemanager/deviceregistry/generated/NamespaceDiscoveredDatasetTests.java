// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.deviceregistry.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.deviceregistry.models.DatasetDestination;
import com.azure.resourcemanager.deviceregistry.models.NamespaceDiscoveredDataset;
import com.azure.resourcemanager.deviceregistry.models.NamespaceDiscoveredDatasetDataPoint;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class NamespaceDiscoveredDatasetTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NamespaceDiscoveredDataset model = BinaryData.fromString(
            "{\"name\":\"rcgp\",\"dataSource\":\"pzimejzanlfzxi\",\"typeRef\":\"rmbzo\",\"datasetConfiguration\":\"kixrj\",\"destinations\":[{\"target\":\"DatasetDestination\"},{\"target\":\"DatasetDestination\"}],\"dataPoints\":[{\"name\":\"zpfrla\",\"dataSource\":\"szrnwo\",\"dataPointConfiguration\":\"ndfpwpj\",\"lastUpdatedOn\":\"2021-03-31T10:48:17Z\",\"typeRef\":\"tlhflsjcdhszf\"},{\"name\":\"vfbgofeljagrqmqh\",\"dataSource\":\"dvriiiojnal\",\"dataPointConfiguration\":\"fk\",\"lastUpdatedOn\":\"2021-04-04T08:27:15Z\",\"typeRef\":\"ex\"}],\"lastUpdatedOn\":\"2021-10-16T07:40:20Z\"}")
            .toObject(NamespaceDiscoveredDataset.class);
        Assertions.assertEquals("rcgp", model.name());
        Assertions.assertEquals("pzimejzanlfzxi", model.dataSource());
        Assertions.assertEquals("rmbzo", model.typeRef());
        Assertions.assertEquals("kixrj", model.datasetConfiguration());
        Assertions.assertEquals("zpfrla", model.dataPoints().get(0).name());
        Assertions.assertEquals("szrnwo", model.dataPoints().get(0).dataSource());
        Assertions.assertEquals("ndfpwpj", model.dataPoints().get(0).dataPointConfiguration());
        Assertions.assertEquals(OffsetDateTime.parse("2021-03-31T10:48:17Z"),
            model.dataPoints().get(0).lastUpdatedOn());
        Assertions.assertEquals("tlhflsjcdhszf", model.dataPoints().get(0).typeRef());
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-16T07:40:20Z"), model.lastUpdatedOn());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NamespaceDiscoveredDataset model = new NamespaceDiscoveredDataset().withName("rcgp")
            .withDataSource("pzimejzanlfzxi")
            .withTypeRef("rmbzo")
            .withDatasetConfiguration("kixrj")
            .withDestinations(Arrays.asList(new DatasetDestination(), new DatasetDestination()))
            .withDataPoints(Arrays.asList(
                new NamespaceDiscoveredDatasetDataPoint().withName("zpfrla")
                    .withDataSource("szrnwo")
                    .withDataPointConfiguration("ndfpwpj")
                    .withLastUpdatedOn(OffsetDateTime.parse("2021-03-31T10:48:17Z"))
                    .withTypeRef("tlhflsjcdhszf"),
                new NamespaceDiscoveredDatasetDataPoint().withName("vfbgofeljagrqmqh")
                    .withDataSource("dvriiiojnal")
                    .withDataPointConfiguration("fk")
                    .withLastUpdatedOn(OffsetDateTime.parse("2021-04-04T08:27:15Z"))
                    .withTypeRef("ex")))
            .withLastUpdatedOn(OffsetDateTime.parse("2021-10-16T07:40:20Z"));
        model = BinaryData.fromObject(model).toObject(NamespaceDiscoveredDataset.class);
        Assertions.assertEquals("rcgp", model.name());
        Assertions.assertEquals("pzimejzanlfzxi", model.dataSource());
        Assertions.assertEquals("rmbzo", model.typeRef());
        Assertions.assertEquals("kixrj", model.datasetConfiguration());
        Assertions.assertEquals("zpfrla", model.dataPoints().get(0).name());
        Assertions.assertEquals("szrnwo", model.dataPoints().get(0).dataSource());
        Assertions.assertEquals("ndfpwpj", model.dataPoints().get(0).dataPointConfiguration());
        Assertions.assertEquals(OffsetDateTime.parse("2021-03-31T10:48:17Z"),
            model.dataPoints().get(0).lastUpdatedOn());
        Assertions.assertEquals("tlhflsjcdhszf", model.dataPoints().get(0).typeRef());
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-16T07:40:20Z"), model.lastUpdatedOn());
    }
}
