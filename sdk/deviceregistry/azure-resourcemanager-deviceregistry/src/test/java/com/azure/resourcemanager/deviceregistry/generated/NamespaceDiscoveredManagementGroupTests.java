// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.deviceregistry.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.deviceregistry.models.NamespaceDiscoveredManagementAction;
import com.azure.resourcemanager.deviceregistry.models.NamespaceDiscoveredManagementActionType;
import com.azure.resourcemanager.deviceregistry.models.NamespaceDiscoveredManagementGroup;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class NamespaceDiscoveredManagementGroupTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NamespaceDiscoveredManagementGroup model = BinaryData.fromString(
            "{\"name\":\"csdtclusiypbs\",\"managementGroupConfiguration\":\"ytguslf\",\"typeRef\":\"dcygqukyhejhz\",\"dataSource\":\"xgfpelolppv\",\"defaultTopic\":\"r\",\"defaultTimeoutInSeconds\":500405809,\"actions\":[{\"name\":\"zraehtwd\",\"actionConfiguration\":\"ftswibyrcdlbhsh\",\"targetUri\":\"wpracstwitykhev\",\"typeRef\":\"cedcpnmdy\",\"topic\":\"nwzxltjcv\",\"actionType\":\"Read\",\"timeoutInSeconds\":823307226,\"lastUpdatedOn\":\"2021-08-16T09:13:32Z\"},{\"name\":\"cxnavv\",\"actionConfiguration\":\"qiby\",\"targetUri\":\"unyowxwl\",\"typeRef\":\"jrkvfgbvfvpdbo\",\"topic\":\"cizsjqlhkrribdei\",\"actionType\":\"Read\",\"timeoutInSeconds\":972824299,\"lastUpdatedOn\":\"2021-05-03T06:31:18Z\"},{\"name\":\"hvxndzwmkrefajpj\",\"actionConfiguration\":\"wkqnyhg\",\"targetUri\":\"ij\",\"typeRef\":\"ivfxzsjabibsyst\",\"topic\":\"fsdjpvkvp\",\"actionType\":\"Write\",\"timeoutInSeconds\":1795251983,\"lastUpdatedOn\":\"2021-11-27T09:38:57Z\"}],\"lastUpdatedOn\":\"2021-05-24T23:12:37Z\"}")
            .toObject(NamespaceDiscoveredManagementGroup.class);
        Assertions.assertEquals("csdtclusiypbs", model.name());
        Assertions.assertEquals("ytguslf", model.managementGroupConfiguration());
        Assertions.assertEquals("dcygqukyhejhz", model.typeRef());
        Assertions.assertEquals("xgfpelolppv", model.dataSource());
        Assertions.assertEquals("r", model.defaultTopic());
        Assertions.assertEquals(500405809, model.defaultTimeoutInSeconds());
        Assertions.assertEquals("zraehtwd", model.actions().get(0).name());
        Assertions.assertEquals("ftswibyrcdlbhsh", model.actions().get(0).actionConfiguration());
        Assertions.assertEquals("wpracstwitykhev", model.actions().get(0).targetUri());
        Assertions.assertEquals("cedcpnmdy", model.actions().get(0).typeRef());
        Assertions.assertEquals("nwzxltjcv", model.actions().get(0).topic());
        Assertions.assertEquals(NamespaceDiscoveredManagementActionType.READ, model.actions().get(0).actionType());
        Assertions.assertEquals(823307226, model.actions().get(0).timeoutInSeconds());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-16T09:13:32Z"), model.actions().get(0).lastUpdatedOn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-24T23:12:37Z"), model.lastUpdatedOn());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NamespaceDiscoveredManagementGroup model = new NamespaceDiscoveredManagementGroup().withName("csdtclusiypbs")
            .withManagementGroupConfiguration("ytguslf")
            .withTypeRef("dcygqukyhejhz")
            .withDataSource("xgfpelolppv")
            .withDefaultTopic("r")
            .withDefaultTimeoutInSeconds(500405809)
            .withActions(Arrays.asList(
                new NamespaceDiscoveredManagementAction().withName("zraehtwd")
                    .withActionConfiguration("ftswibyrcdlbhsh")
                    .withTargetUri("wpracstwitykhev")
                    .withTypeRef("cedcpnmdy")
                    .withTopic("nwzxltjcv")
                    .withActionType(NamespaceDiscoveredManagementActionType.READ)
                    .withTimeoutInSeconds(823307226)
                    .withLastUpdatedOn(OffsetDateTime.parse("2021-08-16T09:13:32Z")),
                new NamespaceDiscoveredManagementAction().withName("cxnavv")
                    .withActionConfiguration("qiby")
                    .withTargetUri("unyowxwl")
                    .withTypeRef("jrkvfgbvfvpdbo")
                    .withTopic("cizsjqlhkrribdei")
                    .withActionType(NamespaceDiscoveredManagementActionType.READ)
                    .withTimeoutInSeconds(972824299)
                    .withLastUpdatedOn(OffsetDateTime.parse("2021-05-03T06:31:18Z")),
                new NamespaceDiscoveredManagementAction().withName("hvxndzwmkrefajpj")
                    .withActionConfiguration("wkqnyhg")
                    .withTargetUri("ij")
                    .withTypeRef("ivfxzsjabibsyst")
                    .withTopic("fsdjpvkvp")
                    .withActionType(NamespaceDiscoveredManagementActionType.WRITE)
                    .withTimeoutInSeconds(1795251983)
                    .withLastUpdatedOn(OffsetDateTime.parse("2021-11-27T09:38:57Z"))))
            .withLastUpdatedOn(OffsetDateTime.parse("2021-05-24T23:12:37Z"));
        model = BinaryData.fromObject(model).toObject(NamespaceDiscoveredManagementGroup.class);
        Assertions.assertEquals("csdtclusiypbs", model.name());
        Assertions.assertEquals("ytguslf", model.managementGroupConfiguration());
        Assertions.assertEquals("dcygqukyhejhz", model.typeRef());
        Assertions.assertEquals("xgfpelolppv", model.dataSource());
        Assertions.assertEquals("r", model.defaultTopic());
        Assertions.assertEquals(500405809, model.defaultTimeoutInSeconds());
        Assertions.assertEquals("zraehtwd", model.actions().get(0).name());
        Assertions.assertEquals("ftswibyrcdlbhsh", model.actions().get(0).actionConfiguration());
        Assertions.assertEquals("wpracstwitykhev", model.actions().get(0).targetUri());
        Assertions.assertEquals("cedcpnmdy", model.actions().get(0).typeRef());
        Assertions.assertEquals("nwzxltjcv", model.actions().get(0).topic());
        Assertions.assertEquals(NamespaceDiscoveredManagementActionType.READ, model.actions().get(0).actionType());
        Assertions.assertEquals(823307226, model.actions().get(0).timeoutInSeconds());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-16T09:13:32Z"), model.actions().get(0).lastUpdatedOn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-24T23:12:37Z"), model.lastUpdatedOn());
    }
}
