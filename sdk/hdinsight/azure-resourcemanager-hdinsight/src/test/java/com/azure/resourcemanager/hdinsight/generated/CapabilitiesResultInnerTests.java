// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.hdinsight.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.hdinsight.fluent.models.CapabilitiesResultInner;
import com.azure.resourcemanager.hdinsight.models.RegionsCapability;
import com.azure.resourcemanager.hdinsight.models.VersionSpec;
import com.azure.resourcemanager.hdinsight.models.VersionsCapability;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class CapabilitiesResultInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        CapabilitiesResultInner model =
            BinaryData
                .fromString(
                    "{\"versions\":{\"eaivxwczel\":{\"available\":[{\"friendlyName\":\"iizynkedyatrwyh\",\"displayName\":\"ibzyhwitsmyp\",\"isDefault\":true,\"componentVersions\":{\"nmabik\":\"dpumnzgmw\"}},{\"friendlyName\":\"orgjhxbldt\",\"displayName\":\"wrlkdmtn\",\"isDefault\":false,\"componentVersions\":{\"tdtbnnhadooc\":\"tllxdyhgsyocogj\",\"hnvpamqgxq\":\"kvci\",\"zikywgg\":\"u\"}},{\"friendlyName\":\"allatmelwuipic\",\"displayName\":\"zkzivgvvcnay\",\"isDefault\":true,\"componentVersions\":{\"rdvstkwqqtch\":\"xxmueedn\",\"mtdaa\":\"alm\",\"vgpiohgwxrt\":\"gdv\",\"vmnpkukghimdblx\":\"udxepxgyqagv\"}},{\"friendlyName\":\"imfnjhfjx\",\"displayName\":\"szkkfoqre\",\"isDefault\":true,\"componentVersions\":{\"aw\":\"kf\"}}]},\"yc\":{\"available\":[{\"friendlyName\":\"elsfeaen\",\"displayName\":\"bfatklddxbjhwu\",\"isDefault\":false,\"componentVersions\":{\"hyoulpjr\":\"jos\",\"vimjwos\":\"xagl\"}},{\"friendlyName\":\"xitc\",\"displayName\":\"fcktqumiekke\",\"isDefault\":false,\"componentVersions\":{\"jhdgqggebdunyga\":\"ly\",\"moadsuvarmy\":\"qidbqfatpxllrxcy\",\"hhyxxrw\":\"dmjsjqb\"}}]}},\"regions\":{\"xqugjhkycubedd\":{\"available\":[\"kxkgymareqna\"]},\"ayffim\":{\"available\":[\"ofwq\",\"zqalkrmnjijpx\",\"cqqudf\",\"byxbaaabjy\"]},\"wmewzsyy\":{\"available\":[\"tuzqogsexne\",\"fdnw\"]}},\"features\":[\"zsoibjudpfrxtr\",\"hzv\"],\"quota\":{\"coresUsed\":7682378708055964698,\"maxCoresAllowed\":8785236673495844841,\"regionalQuotas\":[{\"regionName\":\"bpaxhexiilivpdt\",\"coresUsed\":62353218674748426,\"coresAvailable\":233619173932499743}]}}")
                .toObject(CapabilitiesResultInner.class);
        Assertions
            .assertEquals("iizynkedyatrwyh", model.versions().get("eaivxwczel").available().get(0).friendlyName());
        Assertions.assertEquals("ibzyhwitsmyp", model.versions().get("eaivxwczel").available().get(0).displayName());
        Assertions.assertEquals(true, model.versions().get("eaivxwczel").available().get(0).isDefault());
        Assertions
            .assertEquals(
                "dpumnzgmw", model.versions().get("eaivxwczel").available().get(0).componentVersions().get("nmabik"));
        Assertions.assertEquals("kxkgymareqna", model.regions().get("xqugjhkycubedd").available().get(0));
        Assertions.assertEquals("zsoibjudpfrxtr", model.features().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        CapabilitiesResultInner model =
            new CapabilitiesResultInner()
                .withVersions(
                    mapOf(
                        "eaivxwczel",
                        new VersionsCapability()
                            .withAvailable(
                                Arrays
                                    .asList(
                                        new VersionSpec()
                                            .withFriendlyName("iizynkedyatrwyh")
                                            .withDisplayName("ibzyhwitsmyp")
                                            .withIsDefault(true)
                                            .withComponentVersions(mapOf("nmabik", "dpumnzgmw")),
                                        new VersionSpec()
                                            .withFriendlyName("orgjhxbldt")
                                            .withDisplayName("wrlkdmtn")
                                            .withIsDefault(false)
                                            .withComponentVersions(
                                                mapOf(
                                                    "tdtbnnhadooc",
                                                    "tllxdyhgsyocogj",
                                                    "hnvpamqgxq",
                                                    "kvci",
                                                    "zikywgg",
                                                    "u")),
                                        new VersionSpec()
                                            .withFriendlyName("allatmelwuipic")
                                            .withDisplayName("zkzivgvvcnay")
                                            .withIsDefault(true)
                                            .withComponentVersions(
                                                mapOf(
                                                    "rdvstkwqqtch",
                                                    "xxmueedn",
                                                    "mtdaa",
                                                    "alm",
                                                    "vgpiohgwxrt",
                                                    "gdv",
                                                    "vmnpkukghimdblx",
                                                    "udxepxgyqagv")),
                                        new VersionSpec()
                                            .withFriendlyName("imfnjhfjx")
                                            .withDisplayName("szkkfoqre")
                                            .withIsDefault(true)
                                            .withComponentVersions(mapOf("aw", "kf")))),
                        "yc",
                        new VersionsCapability()
                            .withAvailable(
                                Arrays
                                    .asList(
                                        new VersionSpec()
                                            .withFriendlyName("elsfeaen")
                                            .withDisplayName("bfatklddxbjhwu")
                                            .withIsDefault(false)
                                            .withComponentVersions(mapOf("hyoulpjr", "jos", "vimjwos", "xagl")),
                                        new VersionSpec()
                                            .withFriendlyName("xitc")
                                            .withDisplayName("fcktqumiekke")
                                            .withIsDefault(false)
                                            .withComponentVersions(
                                                mapOf(
                                                    "jhdgqggebdunyga",
                                                    "ly",
                                                    "moadsuvarmy",
                                                    "qidbqfatpxllrxcy",
                                                    "hhyxxrw",
                                                    "dmjsjqb"))))))
                .withRegions(
                    mapOf(
                        "xqugjhkycubedd",
                        new RegionsCapability().withAvailable(Arrays.asList("kxkgymareqna")),
                        "ayffim",
                        new RegionsCapability()
                            .withAvailable(Arrays.asList("ofwq", "zqalkrmnjijpx", "cqqudf", "byxbaaabjy")),
                        "wmewzsyy",
                        new RegionsCapability().withAvailable(Arrays.asList("tuzqogsexne", "fdnw"))))
                .withFeatures(Arrays.asList("zsoibjudpfrxtr", "hzv"));
        model = BinaryData.fromObject(model).toObject(CapabilitiesResultInner.class);
        Assertions
            .assertEquals("iizynkedyatrwyh", model.versions().get("eaivxwczel").available().get(0).friendlyName());
        Assertions.assertEquals("ibzyhwitsmyp", model.versions().get("eaivxwczel").available().get(0).displayName());
        Assertions.assertEquals(true, model.versions().get("eaivxwczel").available().get(0).isDefault());
        Assertions
            .assertEquals(
                "dpumnzgmw", model.versions().get("eaivxwczel").available().get(0).componentVersions().get("nmabik"));
        Assertions.assertEquals("kxkgymareqna", model.regions().get("xqugjhkycubedd").available().get(0));
        Assertions.assertEquals("zsoibjudpfrxtr", model.features().get(0));
    }

    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
