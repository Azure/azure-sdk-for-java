// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.desktopvirtualization.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.desktopvirtualization.fluent.models.SessionHostInner;
import com.azure.resourcemanager.desktopvirtualization.models.SessionHostList;
import com.azure.resourcemanager.desktopvirtualization.models.Status;
import com.azure.resourcemanager.desktopvirtualization.models.UpdateState;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class SessionHostListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        SessionHostList model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"objectId\":\"tpwijnh\",\"lastHeartBeat\":\"2021-01-19T12:23:33Z\",\"sessions\":3385554,\"agentVersion\":\"cxzbfvoowvr\",\"allowNewSession\":false,\"virtualMachineId\":\"jqppyostronzmy\",\"resourceId\":\"fipns\",\"assignedUser\":\"mcwaekrrjr\",\"friendlyName\":\"fxtsgum\",\"status\":\"NotJoinedToDomain\",\"statusTimestamp\":\"2021-02-02T04:40:45Z\",\"osVersion\":\"kxw\",\"sxSStackVersion\":\"olbq\",\"updateState\":\"Pending\",\"lastUpdateTime\":\"2021-11-30T16:53:07Z\",\"updateErrorMessage\":\"vfelfktgplcrpwj\",\"sessionHostHealthCheckResults\":[{\"healthCheckName\":\"MonitoringAgentCheck\",\"healthCheckResult\":\"Unknown\",\"additionalFailureDetails\":{}},{\"healthCheckName\":\"UrlsAccessibleCheck\",\"healthCheckResult\":\"Unknown\",\"additionalFailureDetails\":{}}]},\"id\":\"kpnb\",\"name\":\"azej\",\"type\":\"oqkag\"},{\"properties\":{\"objectId\":\"xttaugzxnfaaz\",\"lastHeartBeat\":\"2021-02-27T11:39:37Z\",\"sessions\":159219307,\"agentVersion\":\"dm\",\"allowNewSession\":false,\"virtualMachineId\":\"lwuenvrkp\",\"resourceId\":\"uaibrebqaaysj\",\"assignedUser\":\"xqtnq\",\"friendlyName\":\"ezl\",\"status\":\"SxSStackListenerNotReady\",\"statusTimestamp\":\"2021-09-28T01:26:01Z\",\"osVersion\":\"kpj\",\"sxSStackVersion\":\"qmt\",\"updateState\":\"Pending\",\"lastUpdateTime\":\"2021-09-01T21:15:43Z\",\"updateErrorMessage\":\"jihy\",\"sessionHostHealthCheckResults\":[{\"healthCheckName\":\"SupportedEncryptionCheck\",\"healthCheckResult\":\"Unknown\",\"additionalFailureDetails\":{}}]},\"id\":\"y\",\"name\":\"ncyg\",\"type\":\"p\"},{\"properties\":{\"objectId\":\"p\",\"lastHeartBeat\":\"2021-05-01T10:24:09Z\",\"sessions\":497556076,\"agentVersion\":\"qupevzh\",\"allowNewSession\":true,\"virtualMachineId\":\"txhojujb\",\"resourceId\":\"elmcuvhixbjxyfw\",\"assignedUser\":\"lrcoolsttpki\",\"friendlyName\":\"kbnujr\",\"status\":\"FSLogixNotHealthy\",\"statusTimestamp\":\"2021-06-06T05:18:15Z\",\"osVersion\":\"bfpncurdo\",\"sxSStackVersion\":\"iithtywu\",\"updateState\":\"Initial\",\"lastUpdateTime\":\"2021-01-21T06:01:17Z\",\"updateErrorMessage\":\"wqknfdn\",\"sessionHostHealthCheckResults\":[{\"healthCheckName\":\"DomainTrustCheck\",\"healthCheckResult\":\"SessionHostShutdown\",\"additionalFailureDetails\":{}},{\"healthCheckName\":\"UrlsAccessibleCheck\",\"healthCheckResult\":\"Unknown\",\"additionalFailureDetails\":{}},{\"healthCheckName\":\"UrlsAccessibleCheck\",\"healthCheckResult\":\"Unknown\",\"additionalFailureDetails\":{}},{\"healthCheckName\":\"MonitoringAgentCheck\",\"healthCheckResult\":\"Unknown\",\"additionalFailureDetails\":{}}]},\"id\":\"udfdlwgg\",\"name\":\"tsbwtovvtgse\",\"type\":\"nqfiufxqknpi\"}],\"nextLink\":\"nepttwqmsni\"}")
            .toObject(SessionHostList.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-19T12:23:33Z"), model.value().get(0).lastHeartBeat());
        Assertions.assertEquals(3385554, model.value().get(0).sessions());
        Assertions.assertEquals("cxzbfvoowvr", model.value().get(0).agentVersion());
        Assertions.assertEquals(false, model.value().get(0).allowNewSession());
        Assertions.assertEquals("mcwaekrrjr", model.value().get(0).assignedUser());
        Assertions.assertEquals("fxtsgum", model.value().get(0).friendlyName());
        Assertions.assertEquals(Status.NOT_JOINED_TO_DOMAIN, model.value().get(0).status());
        Assertions.assertEquals("kxw", model.value().get(0).osVersion());
        Assertions.assertEquals("olbq", model.value().get(0).sxSStackVersion());
        Assertions.assertEquals(UpdateState.PENDING, model.value().get(0).updateState());
        Assertions.assertEquals("vfelfktgplcrpwj", model.value().get(0).updateErrorMessage());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        SessionHostList model = new SessionHostList().withValue(Arrays.asList(
            new SessionHostInner().withLastHeartBeat(OffsetDateTime.parse("2021-01-19T12:23:33Z"))
                .withSessions(3385554)
                .withAgentVersion("cxzbfvoowvr")
                .withAllowNewSession(false)
                .withAssignedUser("mcwaekrrjr")
                .withFriendlyName("fxtsgum")
                .withStatus(Status.NOT_JOINED_TO_DOMAIN)
                .withOsVersion("kxw")
                .withSxSStackVersion("olbq")
                .withUpdateState(UpdateState.PENDING)
                .withUpdateErrorMessage("vfelfktgplcrpwj"),
            new SessionHostInner().withLastHeartBeat(OffsetDateTime.parse("2021-02-27T11:39:37Z"))
                .withSessions(159219307)
                .withAgentVersion("dm")
                .withAllowNewSession(false)
                .withAssignedUser("xqtnq")
                .withFriendlyName("ezl")
                .withStatus(Status.SX_SSTACK_LISTENER_NOT_READY)
                .withOsVersion("kpj")
                .withSxSStackVersion("qmt")
                .withUpdateState(UpdateState.PENDING)
                .withUpdateErrorMessage("jihy"),
            new SessionHostInner().withLastHeartBeat(OffsetDateTime.parse("2021-05-01T10:24:09Z"))
                .withSessions(497556076)
                .withAgentVersion("qupevzh")
                .withAllowNewSession(true)
                .withAssignedUser("lrcoolsttpki")
                .withFriendlyName("kbnujr")
                .withStatus(Status.FSLOGIX_NOT_HEALTHY)
                .withOsVersion("bfpncurdo")
                .withSxSStackVersion("iithtywu")
                .withUpdateState(UpdateState.INITIAL)
                .withUpdateErrorMessage("wqknfdn")));
        model = BinaryData.fromObject(model).toObject(SessionHostList.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-19T12:23:33Z"), model.value().get(0).lastHeartBeat());
        Assertions.assertEquals(3385554, model.value().get(0).sessions());
        Assertions.assertEquals("cxzbfvoowvr", model.value().get(0).agentVersion());
        Assertions.assertEquals(false, model.value().get(0).allowNewSession());
        Assertions.assertEquals("mcwaekrrjr", model.value().get(0).assignedUser());
        Assertions.assertEquals("fxtsgum", model.value().get(0).friendlyName());
        Assertions.assertEquals(Status.NOT_JOINED_TO_DOMAIN, model.value().get(0).status());
        Assertions.assertEquals("kxw", model.value().get(0).osVersion());
        Assertions.assertEquals("olbq", model.value().get(0).sxSStackVersion());
        Assertions.assertEquals(UpdateState.PENDING, model.value().get(0).updateState());
        Assertions.assertEquals("vfelfktgplcrpwj", model.value().get(0).updateErrorMessage());
    }
}
