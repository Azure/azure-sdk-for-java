{
  "swagger": "2.0",
  "info": {
    "title": "BodyPolymorphic",
    "version": "1.0"
  },
  "host": "localhost:3000",
  "schemes": [
    "http"
  ],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "paths": {
    "/polymorphic/form": {
      "get": {
        "operationId": "getRecognizedForm",
        "responses": {
          "200": {
            "description": "Successfully identied the type and contents of the document",
            "schema": {
              "$ref": "#/definitions/RecognizedForm"
            }
          }
        }
      }
    },
    "/polymorphic/invoice": {
      "get": {
        "operationId": "getRecognizedInvoice",
        "responses": {
          "200": {
            "description": "Successfully identied the type and contents of the document",
            "schema": {
              "$ref": "#/definitions/RecognizedForm"
            }
          }
        }
      }
    },
    "/polymorphic/businessCard": {
      "get": {
        "operationId": "getRecognizedBusinessCard",
        "responses": {
          "200": {
            "description": "Successfully identied the type and contents of the document",
            "schema": {
              "$ref": "#/definitions/RecognizedForm"
            }
          }
        }
      }
    },
    "/polymorphic/receipt": {
      "get": {
        "operationId": "getRecognizedReceipt",
        "responses": {
          "200": {
            "description": "Successfully identied the type and contents of the document",
            "schema": {
              "$ref": "#/definitions/RecognizedForm"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "RecognizedForm": {
      "description": "Base model for arbitrary forms. Has an untyped set of fields that can be discovered",
      "type": "object",
      "required": [
        "docType",
        "fields"
      ],
      "x-ms-discriminator-value": "docType",
      "properties": {
        "docType": {
          "type": "string"
        }
      }
    },
    "FormFields": {
      "description": "Base model for collectoin of form fields. Has no known field names",
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/FormField"
      }
    },
    "FormField": {
      "type": "object",
      "required": [
        "valueType"
      ],
      "properties": {
        "valueType": {
          "enum": [
            "string",
            "date",
            "time",
            "phoneNumber",
            "float",
            "integer",
            "list",
            "dictionary",
            "selectionMark"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "valueType",
            "modelAsString": true
          }
        },
        "value": {},
        "label_data": {},
        "value_data": {},
        "name": {},
        "confidence": {}
      },
      "discriminator": "valueType"
    },
    "StringFormField": {
      "x-ms-discriminator-value": "string",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "string"
        }
      }
    },
    "FloatFormField": {
      "x-ms-discriminator-value": "float",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "number"
        }
      }
    },
    "IntegerFormField": {
      "x-ms-discriminator-value": "integer",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "integer"
        }
      }
    },
    "DateFormField": {
      "x-ms-discriminator-value": "date",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "TimeFormField": {
      "x-ms-discriminator-value": "time",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "format": "time"
        }
      }
    },
    "ListFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/FormField"
          }
        }
      }
    },
    "PhoneNumberFormField": {
      "x-ms-discriminator-value": "phoneNumber",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "string"
        }
      }
    },
    "SelectionMarkFormField": {
      "x-ms-discriminator-value": "selectionMark",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "string"
        }
      }
    },
    "DictionaryFormField": {
      "x-ms-discriminator-value": "dictionary",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/FormField"
          }
        }
      }
    },
    "ContactNameFormField": {
      "x-ms-discriminator-value": "dictionary",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "firstName": {
          "$ref": "#/definitions/StringFormField"
        },
        "lastName": {
          "$ref": "#/definitions/StringFormField"
        }
      }
    },
    "ContactNamesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ContactNameFormField"
          }
        }
      }
    },
    "CompanyNamesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "ReceiptItemsFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ReceiptItemFormField"
          }
        }
      }
    },
    "ReceiptItemFormField": {
      "x-ms-discriminator-value": "dictionary",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "name": {
          "$ref": "#/definitions/StringFormField"
        },
        "quantity": {
          "$ref": "#/definitions/FloatFormField"
        },
        "price": {
          "$ref": "#/definitions/FloatFormField"
        },
        "totalPrice": {
          "$ref": "#/definitions/FloatFormField"
        }
      }
    },
    "DepartmentsFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "JobTitlesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "EmailsFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "WebsitesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "AddressesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "MobilePhonesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "FaxesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "WorkPhonesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "OtherPhonesFormField": {
      "x-ms-discriminator-value": "list",
      "allOf": [
        {
          "$ref": "#/definitions/FormField"
        }
      ],
      "type": "object",
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/StringFormField"
          }
        }
      }
    },
    "RecognizedInvoice": {
      "x-ms-discriminator-value": "form:invoice",
      "allOf": [
        {
          "$ref": "#/definitions/RecognizedForm"
        }
      ],
      "required": [
        "fields"
      ],
      "properties": {
        "fields": {
          "$ref": "#/definitions/RecognizedInvoiceFormFields"
        }
      }
    },
    "RecognizedInvoiceFormFields": {
      "allOf": [
        {
          "$ref": "#/definitions/FormFields"
        }
      ],
      "properties": {
        "CustomerName": {
          "$ref": "#/definitions/StringFormField"
        },
        "CustomerId": {
          "$ref": "#/definitions/StringFormField"
        },
        "PurchaseOrder": {
          "$ref": "#/definitions/StringFormField"
        },
        "InvoiceId": {
          "$ref": "#/definitions/StringFormField"
        },
        "InvoiceDate": {
          "$ref": "#/definitions/DateFormField"
        },
        "DueDate": {
          "$ref": "#/definitions/DateFormField"
        },
        "VendorName": {
          "$ref": "#/definitions/StringFormField"
        },
        "VendorAddress": {
          "$ref": "#/definitions/StringFormField"
        },
        "VendorAddressRecipient": {
          "$ref": "#/definitions/StringFormField"
        },
        "CustomerAddress": {
          "$ref": "#/definitions/StringFormField"
        },
        "CustomerAddressRecipient": {
          "$ref": "#/definitions/StringFormField"
        },
        "BillingAddress": {
          "$ref": "#/definitions/StringFormField"
        },
        "BillingAddressRecipient": {
          "$ref": "#/definitions/StringFormField"
        },
        "ShippingAddress": {
          "$ref": "#/definitions/StringFormField"
        },
        "ShippingAddressRecipient": {
          "$ref": "#/definitions/StringFormField"
        },
        "SubTotal": {
          "$ref": "#/definitions/FloatFormField"
        },
        "TotalTax": {
          "$ref": "#/definitions/FloatFormField"
        },
        "InvoiceTotal": {
          "$ref": "#/definitions/FloatFormField"
        },
        "PreviousUnpaidBalance": {
          "$ref": "#/definitions/FloatFormField"
        },
        "AmountDue": {
          "$ref": "#/definitions/FloatFormField"
        },
        "ServiceStartDate": {
          "$ref": "#/definitions/DateFormField"
        },
        "ServiceEndDate": {
          "$ref": "#/definitions/DateFormField"
        },
        "ServiceAddress": {
          "$ref": "#/definitions/StringFormField"
        },
        "ServiceAddressRecipient": {
          "$ref": "#/definitions/StringFormField"
        },
        "RemittanceAddress": {
          "$ref": "#/definitions/StringFormField"
        },
        "RemittanceAddressRecipient": {
          "$ref": "#/definitions/StringFormField"
        }
      }
    },
    "RecognizedBusinessCard": {
      "x-ms-discriminator-value": "form:businesscard",
      "allOf": [
        {
          "$ref": "#/definitions/RecognizedForm"
        }
      ],
      "required": [
        "fields"
      ],
      "properties": {
        "fields": {
          "$ref": "#/definitions/RecognizedBusinessCardFields"
        }
      }
    },
    "RecognizedBusinessCardFields": {
      "allOf": [
        {
          "$ref": "#/definitions/FormFields"
        }
      ],
      "properties": {
        "companyNames": {
          "$ref": "#/definitions/CompanyNamesFormField"
        },
        "contactNames": {
          "$ref": "#/definitions/ContactNamesFormField"
        },
        "deparments": {
          "$ref": "#/definitions/DepartmentsFormField"
        },
        "jobTitles": {
          "$ref": "#/definitions/JobTitlesFormField"
        },
        "emails": {
          "$ref": "#/definitions/EmailsFormField"
        },
        "websites": {
          "$ref": "#/definitions/WebsitesFormField"
        },
        "addresses": {
          "$ref": "#/definitions/AddressesFormField"
        },
        "mobilePhones": {
          "$ref": "#/definitions/MobilePhonesFormField"
        },
        "faxes": {
          "$ref": "#/definitions/FaxesFormField"
        },
        "workPhones": {
          "$ref": "#/definitions/WorkPhonesFormField"
        },
        "otherPhones": {
          "$ref": "#/definitions/OtherPhonesFormField"
        }
      }
    },
    "RecognizedReceiptFields": {
      "allOf": [
        {
          "$ref": "#/definitions/FormFields"
        }
      ],
      "properties": {
        "receiptType": {
          "$ref": "#/definitions/StringFormField"
        },
        "merchantName": {
          "$ref": "#/definitions/StringFormField"
        },
        "transactionDate": {
          "$ref": "#/definitions/DateFormField"
        },
        "transactionTime": {
          "$ref": "#/definitions/TimeFormField"
        },
        "receiptItems": {
          "$ref": "#/definitions/ReceiptItemsFormField"
        },
        "subtotal": {
          "$ref": "#/definitions/FloatFormField"
        },
        "tax": {
          "$ref": "#/definitions/FloatFormField"
        },
        "tip": {
          "$ref": "#/definitions/FloatFormField"
        },
        "total": {
          "$ref": "#/definitions/FloatFormField"
        }
      }
    },
    "RecognizedReceipt": {
      "x-ms-discriminator-value": "form:receipt",
      "allOf": [
        {
          "$ref": "#/definitions/RecognizedForm"
        }
      ],
      "required": [
        "fields"
      ],
      "properties": {
        "fields": {
          "$ref": "#/definitions/RecognizedReceiptFields"
        }
      }
    }
  }
}
