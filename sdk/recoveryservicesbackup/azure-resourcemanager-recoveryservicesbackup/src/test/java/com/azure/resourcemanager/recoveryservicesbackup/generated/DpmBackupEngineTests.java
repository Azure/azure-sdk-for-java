// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.BackupEngineExtendedInfo;
import com.azure.resourcemanager.recoveryservicesbackup.models.BackupManagementType;
import com.azure.resourcemanager.recoveryservicesbackup.models.DpmBackupEngine;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class DpmBackupEngineTests {
    @Test
    public void testDeserialize() {
        DpmBackupEngine model =
            BinaryData
                .fromString(
                    "{\"backupEngineType\":\"DpmBackupEngine\",\"friendlyName\":\"bqqqagwwrxa\",\"backupManagementType\":\"AzureIaasVM\",\"registrationStatus\":\"sgl\",\"backupEngineState\":\"czezkhhlt\",\"healthStatus\":\"adhqoa\",\"canReRegister\":true,\"backupEngineId\":\"yueayfbpcmsp\",\"dpmVersion\":\"yrrueqth\",\"azureBackupAgentVersion\":\"gnmbscbbxigdhx\",\"isAzureBackupAgentUpgradeAvailable\":false,\"isDpmUpgradeAvailable\":true,\"extendedInfo\":{\"databaseName\":\"dbwdpyqyybxubmdn\",\"protectedItemsCount\":686332411,\"protectedServersCount\":2094812619,\"diskCount\":949316725,\"usedDiskSpace\":21.247784400207472,\"availableDiskSpace\":60.10911869816642,\"refreshedAt\":\"2021-05-06T00:38:14Z\",\"azureProtectedInstances\":2096097280}}")
                .toObject(DpmBackupEngine.class);
        Assertions.assertEquals("bqqqagwwrxa", model.friendlyName());
        Assertions.assertEquals(BackupManagementType.AZURE_IAAS_VM, model.backupManagementType());
        Assertions.assertEquals("sgl", model.registrationStatus());
        Assertions.assertEquals("czezkhhlt", model.backupEngineState());
        Assertions.assertEquals("adhqoa", model.healthStatus());
        Assertions.assertEquals(true, model.canReRegister());
        Assertions.assertEquals("yueayfbpcmsp", model.backupEngineId());
        Assertions.assertEquals("yrrueqth", model.dpmVersion());
        Assertions.assertEquals("gnmbscbbxigdhx", model.azureBackupAgentVersion());
        Assertions.assertEquals(false, model.isAzureBackupAgentUpgradeAvailable());
        Assertions.assertEquals(true, model.isDpmUpgradeAvailable());
        Assertions.assertEquals("dbwdpyqyybxubmdn", model.extendedInfo().databaseName());
        Assertions.assertEquals(686332411, model.extendedInfo().protectedItemsCount());
        Assertions.assertEquals(2094812619, model.extendedInfo().protectedServersCount());
        Assertions.assertEquals(949316725, model.extendedInfo().diskCount());
        Assertions.assertEquals(21.247784400207472D, model.extendedInfo().usedDiskSpace());
        Assertions.assertEquals(60.10911869816642D, model.extendedInfo().availableDiskSpace());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-06T00:38:14Z"), model.extendedInfo().refreshedAt());
        Assertions.assertEquals(2096097280, model.extendedInfo().azureProtectedInstances());
    }

    @Test
    public void testSerialize() {
        DpmBackupEngine model =
            new DpmBackupEngine()
                .withFriendlyName("bqqqagwwrxa")
                .withBackupManagementType(BackupManagementType.AZURE_IAAS_VM)
                .withRegistrationStatus("sgl")
                .withBackupEngineState("czezkhhlt")
                .withHealthStatus("adhqoa")
                .withCanReRegister(true)
                .withBackupEngineId("yueayfbpcmsp")
                .withDpmVersion("yrrueqth")
                .withAzureBackupAgentVersion("gnmbscbbxigdhx")
                .withIsAzureBackupAgentUpgradeAvailable(false)
                .withIsDpmUpgradeAvailable(true)
                .withExtendedInfo(
                    new BackupEngineExtendedInfo()
                        .withDatabaseName("dbwdpyqyybxubmdn")
                        .withProtectedItemsCount(686332411)
                        .withProtectedServersCount(2094812619)
                        .withDiskCount(949316725)
                        .withUsedDiskSpace(21.247784400207472D)
                        .withAvailableDiskSpace(60.10911869816642D)
                        .withRefreshedAt(OffsetDateTime.parse("2021-05-06T00:38:14Z"))
                        .withAzureProtectedInstances(2096097280));
        model = BinaryData.fromObject(model).toObject(DpmBackupEngine.class);
        Assertions.assertEquals("bqqqagwwrxa", model.friendlyName());
        Assertions.assertEquals(BackupManagementType.AZURE_IAAS_VM, model.backupManagementType());
        Assertions.assertEquals("sgl", model.registrationStatus());
        Assertions.assertEquals("czezkhhlt", model.backupEngineState());
        Assertions.assertEquals("adhqoa", model.healthStatus());
        Assertions.assertEquals(true, model.canReRegister());
        Assertions.assertEquals("yueayfbpcmsp", model.backupEngineId());
        Assertions.assertEquals("yrrueqth", model.dpmVersion());
        Assertions.assertEquals("gnmbscbbxigdhx", model.azureBackupAgentVersion());
        Assertions.assertEquals(false, model.isAzureBackupAgentUpgradeAvailable());
        Assertions.assertEquals(true, model.isDpmUpgradeAvailable());
        Assertions.assertEquals("dbwdpyqyybxubmdn", model.extendedInfo().databaseName());
        Assertions.assertEquals(686332411, model.extendedInfo().protectedItemsCount());
        Assertions.assertEquals(2094812619, model.extendedInfo().protectedServersCount());
        Assertions.assertEquals(949316725, model.extendedInfo().diskCount());
        Assertions.assertEquals(21.247784400207472D, model.extendedInfo().usedDiskSpace());
        Assertions.assertEquals(60.10911869816642D, model.extendedInfo().availableDiskSpace());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-06T00:38:14Z"), model.extendedInfo().refreshedAt());
        Assertions.assertEquals(2096097280, model.extendedInfo().azureProtectedInstances());
    }
}
