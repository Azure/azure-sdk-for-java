// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.AzureWorkloadSqlPointInTimeRecoveryPoint;
import com.azure.resourcemanager.recoveryservicesbackup.models.RecoveryPointTierStatus;
import com.azure.resourcemanager.recoveryservicesbackup.models.RecoveryPointTierType;
import com.azure.resourcemanager.recoveryservicesbackup.models.RestorePointType;
import com.azure.resourcemanager.recoveryservicesbackup.models.SqlDataDirectoryType;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatSeverity;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatState;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatStatus;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class AzureWorkloadSqlPointInTimeRecoveryPointTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AzureWorkloadSqlPointInTimeRecoveryPoint model = BinaryData.fromString(
            "{\"objectType\":\"AzureWorkloadSQLPointInTimeRecoveryPoint\",\"timeRanges\":[{\"startTime\":\"2021-04-06T11:14:12Z\",\"endTime\":\"2021-12-06T03:48:21Z\"}],\"extendedInfo\":{\"dataDirectoryTimeInUTC\":\"2021-02-08T06:34:01Z\",\"dataDirectoryPaths\":[{\"type\":\"Log\",\"path\":\"dvncjabudurgk\",\"logicalName\":\"mokzhjjklf\"},{\"type\":\"Invalid\",\"path\":\"uwqlgzrfzeey\",\"logicalName\":\"izikayuhq\"},{\"type\":\"Log\",\"path\":\"sybbqwr\",\"logicalName\":\"ldgmfpgvmpip\"},{\"type\":\"Invalid\",\"path\":\"haq\",\"logicalName\":\"ss\"}],\"includedDatabases\":[{\"datasourceId\":\"wbdsr\",\"datasourceName\":\"pdrhne\"}]},\"recoveryPointTimeInUTC\":\"2020-12-25T00:27:30Z\",\"type\":\"Incremental\",\"recoveryPointTierDetails\":[{\"type\":\"Invalid\",\"status\":\"Invalid\",\"extendedInfo\":{\"lfzxiavrmbzonoki\":\"gpikpzimejza\",\"rgz\":\"rjqc\"}}],\"recoveryPointMoveReadinessInfo\":{\"indfpwpjyl\":{\"isReadyForMove\":true,\"additionalInfo\":\"szrnwo\"},\"lsj\":{\"isReadyForMove\":true,\"additionalInfo\":\"h\"},\"jagrqmqhldvr\":{\"isReadyForMove\":false,\"additionalInfo\":\"zfjvfbgofe\"}},\"recoveryPointProperties\":{\"expiryTime\":\"ojnal\",\"ruleName\":\"fk\",\"isSoftDeleted\":true},\"threatStatus\":\"NotAvailable\",\"threatInfo\":[{\"threatTitle\":\"wueluqhhahhxv\",\"threatDescription\":\"mzkwpjg\",\"lastUpdatedTime\":\"2021-10-11T18:28:46Z\",\"threatState\":\"InProgress\",\"threatStartTime\":\"2021-03-26T20:29:02Z\",\"threatEndTime\":\"2021-10-04T11:20:51Z\",\"threatURI\":\"sxhqxujx\",\"threatSeverity\":\"Informational\"},{\"threatTitle\":\"xdigrjg\",\"threatDescription\":\"fzdm\",\"lastUpdatedTime\":\"2021-03-22T22:43:26Z\",\"threatState\":\"Active\",\"threatStartTime\":\"2021-07-11T17:45Z\",\"threatEndTime\":\"2020-12-25T23:20:44Z\",\"threatURI\":\"otzi\",\"threatSeverity\":\"Informational\"},{\"threatTitle\":\"vppho\",\"threatDescription\":\"qzudphq\",\"lastUpdatedTime\":\"2021-03-24T10:30:38Z\",\"threatState\":\"InProgress\",\"threatStartTime\":\"2021-04-05T06:12:39Z\",\"threatEndTime\":\"2021-09-19T17:28Z\",\"threatURI\":\"cvtbv\",\"threatSeverity\":\"Warning\"},{\"threatTitle\":\"mtnvyq\",\"threatDescription\":\"tkzwpcnpwzc\",\"lastUpdatedTime\":\"2021-05-22T23:16:36Z\",\"threatState\":\"Active\",\"threatStartTime\":\"2021-09-24T01:03:33Z\",\"threatEndTime\":\"2021-02-07T07:30:38Z\",\"threatURI\":\"yajguqfhwygzlv\",\"threatSeverity\":\"Critical\"}]}")
            .toObject(AzureWorkloadSqlPointInTimeRecoveryPoint.class);
        Assertions.assertEquals(ThreatStatus.NOT_AVAILABLE, model.threatStatus());
        Assertions.assertEquals(ThreatState.IN_PROGRESS, model.threatInfo().get(0).threatState());
        Assertions.assertEquals(ThreatSeverity.INFORMATIONAL, model.threatInfo().get(0).threatSeverity());
        Assertions.assertEquals(OffsetDateTime.parse("2020-12-25T00:27:30Z"), model.recoveryPointTimeInUtc());
        Assertions.assertEquals(RestorePointType.INCREMENTAL, model.type());
        Assertions.assertEquals("gpikpzimejza",
            model.recoveryPointTierDetails().get(0).extendedInfo().get("lfzxiavrmbzonoki"));
        Assertions.assertEquals(RecoveryPointTierType.INVALID, model.recoveryPointTierDetails().get(0).type());
        Assertions.assertEquals(RecoveryPointTierStatus.INVALID, model.recoveryPointTierDetails().get(0).status());
        Assertions.assertTrue(model.recoveryPointMoveReadinessInfo().get("indfpwpjyl").isReadyForMove());
        Assertions.assertEquals("szrnwo", model.recoveryPointMoveReadinessInfo().get("indfpwpjyl").additionalInfo());
        Assertions.assertEquals("ojnal", model.recoveryPointProperties().expiryTime());
        Assertions.assertEquals("fk", model.recoveryPointProperties().ruleName());
        Assertions.assertTrue(model.recoveryPointProperties().isSoftDeleted());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-08T06:34:01Z"),
            model.extendedInfo().dataDirectoryTimeInUtc());
        Assertions.assertEquals(SqlDataDirectoryType.LOG, model.extendedInfo().dataDirectoryPaths().get(0).type());
        Assertions.assertEquals("dvncjabudurgk", model.extendedInfo().dataDirectoryPaths().get(0).path());
        Assertions.assertEquals("mokzhjjklf", model.extendedInfo().dataDirectoryPaths().get(0).logicalName());
        Assertions.assertEquals("wbdsr", model.extendedInfo().includedDatabases().get(0).datasourceId());
        Assertions.assertEquals("pdrhne", model.extendedInfo().includedDatabases().get(0).datasourceName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-06T11:14:12Z"), model.timeRanges().get(0).startTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-12-06T03:48:21Z"), model.timeRanges().get(0).endTime());
    }
}
