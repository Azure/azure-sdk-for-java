// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.AzureWorkloadSqlRecoveryPoint;
import com.azure.resourcemanager.recoveryservicesbackup.models.RecoveryPointTierStatus;
import com.azure.resourcemanager.recoveryservicesbackup.models.RecoveryPointTierType;
import com.azure.resourcemanager.recoveryservicesbackup.models.RestorePointType;
import com.azure.resourcemanager.recoveryservicesbackup.models.SqlDataDirectoryType;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatSeverity;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatState;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatStatus;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class AzureWorkloadSqlRecoveryPointTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AzureWorkloadSqlRecoveryPoint model = BinaryData.fromString(
            "{\"objectType\":\"AzureWorkloadSQLRecoveryPoint\",\"extendedInfo\":{\"dataDirectoryTimeInUTC\":\"2021-11-11T11:12:33Z\",\"dataDirectoryPaths\":[{\"type\":\"Log\",\"path\":\"zrmuhapfcqdps\",\"logicalName\":\"qvpsvuoymg\"},{\"type\":\"Invalid\",\"path\":\"vezrypqlmfeo\",\"logicalName\":\"rqwky\"},{\"type\":\"Invalid\",\"path\":\"opgxedkowepb\",\"logicalName\":\"cr\"},{\"type\":\"Log\",\"path\":\"ccsnjvcdwxlpq\",\"logicalName\":\"ftnkhtj\"}],\"includedDatabases\":[{\"datasourceId\":\"gwfqatmt\",\"datasourceName\":\"tmdvypgikdgs\"}]},\"recoveryPointTimeInUTC\":\"2021-07-11T10:33:14Z\",\"type\":\"Invalid\",\"recoveryPointTierDetails\":[{\"type\":\"HardenedRP\",\"status\":\"Disabled\",\"extendedInfo\":{\"atjinrvgoupmfiib\":\"qrvqq\",\"x\":\"ggjioolvr\",\"kkgll\":\"v\"}},{\"type\":\"HardenedRP\",\"status\":\"Valid\",\"extendedInfo\":{\"yhgsopbyrqufe\":\"lmhvkzuhbxv\",\"fbn\":\"xuvw\",\"gitvg\":\"lmctlpd\"}},{\"type\":\"Invalid\",\"status\":\"Deleted\",\"extendedInfo\":{\"hbpnaixexccbd\":\"jejveg\",\"htpwij\":\"eaxhcexdrrvqahqk\",\"bfvoowvrv\":\"hyjsvfycx\"}}],\"recoveryPointMoveReadinessInfo\":{\"nsxkmcwaekrrjr\":{\"isReadyForMove\":false,\"additionalInfo\":\"pyostronzmyhgfi\"},\"lik\":{\"isReadyForMove\":false,\"additionalInfo\":\"tsgumhj\"}},\"recoveryPointProperties\":{\"expiryTime\":\"slol\",\"ruleName\":\"pvuzlmv\",\"isSoftDeleted\":true},\"threatStatus\":\"Healthy\",\"threatInfo\":[{\"threatTitle\":\"lcrpw\",\"threatDescription\":\"eznoig\",\"lastUpdatedTime\":\"2021-05-13T00:39:55Z\",\"threatState\":\"Active\",\"threatStartTime\":\"2021-07-10T07:09:22Z\",\"threatEndTime\":\"2021-12-02T18:41:28Z\",\"threatURI\":\"bsazejjoqka\",\"threatSeverity\":\"Warning\"},{\"threatTitle\":\"xttaugzxnfaaz\",\"threatDescription\":\"dtnkdmkq\",\"lastUpdatedTime\":\"2021-01-29T06:17:27Z\",\"threatState\":\"InProgress\",\"threatStartTime\":\"2021-06-14T14:36:08Z\",\"threatEndTime\":\"2021-07-12T10:16:15Z\",\"threatURI\":\"pyouaibrebqaays\",\"threatSeverity\":\"High\"},{\"threatTitle\":\"qtnqtt\",\"threatDescription\":\"lwfffi\",\"lastUpdatedTime\":\"2021-04-04T17:22:28Z\",\"threatState\":\"InProgress\",\"threatStartTime\":\"2021-08-27T06:54:30Z\",\"threatEndTime\":\"2021-10-12T22:21:14Z\",\"threatURI\":\"d\",\"threatSeverity\":\"Critical\"},{\"threatTitle\":\"jihy\",\"threatDescription\":\"zphv\",\"lastUpdatedTime\":\"2021-06-27T09:23:26Z\",\"threatState\":\"Ignored\",\"threatStartTime\":\"2021-05-03T13:45:25Z\",\"threatEndTime\":\"2021-05-24T13:16:56Z\",\"threatURI\":\"p\",\"threatSeverity\":\"High\"}]}")
            .toObject(AzureWorkloadSqlRecoveryPoint.class);
        Assertions.assertEquals(ThreatStatus.HEALTHY, model.threatStatus());
        Assertions.assertEquals(ThreatState.ACTIVE, model.threatInfo().get(0).threatState());
        Assertions.assertEquals(ThreatSeverity.WARNING, model.threatInfo().get(0).threatSeverity());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-11T10:33:14Z"), model.recoveryPointTimeInUtc());
        Assertions.assertEquals(RestorePointType.INVALID, model.type());
        Assertions.assertEquals("qrvqq",
            model.recoveryPointTierDetails().get(0).extendedInfo().get("atjinrvgoupmfiib"));
        Assertions.assertEquals(RecoveryPointTierType.HARDENED_RP, model.recoveryPointTierDetails().get(0).type());
        Assertions.assertEquals(RecoveryPointTierStatus.DISABLED, model.recoveryPointTierDetails().get(0).status());
        Assertions.assertFalse(model.recoveryPointMoveReadinessInfo().get("nsxkmcwaekrrjr").isReadyForMove());
        Assertions.assertEquals("pyostronzmyhgfi",
            model.recoveryPointMoveReadinessInfo().get("nsxkmcwaekrrjr").additionalInfo());
        Assertions.assertEquals("slol", model.recoveryPointProperties().expiryTime());
        Assertions.assertEquals("pvuzlmv", model.recoveryPointProperties().ruleName());
        Assertions.assertTrue(model.recoveryPointProperties().isSoftDeleted());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-11T11:12:33Z"),
            model.extendedInfo().dataDirectoryTimeInUtc());
        Assertions.assertEquals(SqlDataDirectoryType.LOG, model.extendedInfo().dataDirectoryPaths().get(0).type());
        Assertions.assertEquals("zrmuhapfcqdps", model.extendedInfo().dataDirectoryPaths().get(0).path());
        Assertions.assertEquals("qvpsvuoymg", model.extendedInfo().dataDirectoryPaths().get(0).logicalName());
        Assertions.assertEquals("gwfqatmt", model.extendedInfo().includedDatabases().get(0).datasourceId());
        Assertions.assertEquals("tmdvypgikdgs", model.extendedInfo().includedDatabases().get(0).datasourceName());
    }
}
