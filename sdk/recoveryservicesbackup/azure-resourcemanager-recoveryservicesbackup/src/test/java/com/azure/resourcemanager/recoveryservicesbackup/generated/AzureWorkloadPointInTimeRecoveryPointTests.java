// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.AzureWorkloadPointInTimeRecoveryPoint;
import com.azure.resourcemanager.recoveryservicesbackup.models.RecoveryPointTierStatus;
import com.azure.resourcemanager.recoveryservicesbackup.models.RecoveryPointTierType;
import com.azure.resourcemanager.recoveryservicesbackup.models.RestorePointType;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatSeverity;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatState;
import com.azure.resourcemanager.recoveryservicesbackup.models.ThreatStatus;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class AzureWorkloadPointInTimeRecoveryPointTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AzureWorkloadPointInTimeRecoveryPoint model = BinaryData.fromString(
            "{\"objectType\":\"AzureWorkloadPointInTimeRecoveryPoint\",\"timeRanges\":[{\"startTime\":\"2021-11-03T10:17:12Z\",\"endTime\":\"2021-07-28T00:53:44Z\"},{\"startTime\":\"2021-09-01T04:33:23Z\",\"endTime\":\"2021-06-19T23:56:56Z\"}],\"recoveryPointTimeInUTC\":\"2021-06-21T23:03:23Z\",\"type\":\"SnapshotCopyOnlyFull\",\"recoveryPointTierDetails\":[{\"type\":\"HardenedRP\",\"status\":\"Valid\",\"extendedInfo\":{\"efyw\":\"zzlvmbmpaxmodfv\",\"yhrfouyftaakcpw\":\"bpfvm\",\"nubexk\":\"yzvqt\",\"quxvypomgkop\":\"zksmondj\"}},{\"type\":\"HardenedRP\",\"status\":\"Rehydrated\",\"extendedInfo\":{\"bq\":\"xysmoc\",\"apvhelxprgly\":\"qvmkcxo\",\"uejrjxgc\":\"tddckcb\",\"i\":\"qibrhosxsdqrhzoy\"}}],\"recoveryPointMoveReadinessInfo\":{\"szdtmhrkwof\":{\"isReadyForMove\":false,\"additionalInfo\":\"bahwfl\"}},\"recoveryPointProperties\":{\"expiryTime\":\"oqac\",\"ruleName\":\"expbtg\",\"isSoftDeleted\":true},\"threatStatus\":\"UnHealthy\",\"threatInfo\":[{\"threatTitle\":\"ashrt\",\"threatDescription\":\"kcnqxwbpo\",\"lastUpdatedTime\":\"2021-09-01T09:08:06Z\",\"threatState\":\"InProgress\",\"threatStartTime\":\"2021-01-28T11:31Z\",\"threatEndTime\":\"2021-10-03T21:01Z\",\"threatURI\":\"sipqii\",\"threatSeverity\":\"Critical\"},{\"threatTitle\":\"qerpqlpqwcc\",\"threatDescription\":\"qgbdbuta\",\"lastUpdatedTime\":\"2021-06-13T06:16:01Z\",\"threatState\":\"Resolved\",\"threatStartTime\":\"2021-11-26T16:59:10Z\",\"threatEndTime\":\"2021-02-06T10:01:30Z\",\"threatURI\":\"mhykojoxafnndl\",\"threatSeverity\":\"Warning\"}]}")
            .toObject(AzureWorkloadPointInTimeRecoveryPoint.class);
        Assertions.assertEquals(ThreatStatus.UN_HEALTHY, model.threatStatus());
        Assertions.assertEquals(ThreatState.IN_PROGRESS, model.threatInfo().get(0).threatState());
        Assertions.assertEquals(ThreatSeverity.CRITICAL, model.threatInfo().get(0).threatSeverity());
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-21T23:03:23Z"), model.recoveryPointTimeInUtc());
        Assertions.assertEquals(RestorePointType.SNAPSHOT_COPY_ONLY_FULL, model.type());
        Assertions.assertEquals("zzlvmbmpaxmodfv", model.recoveryPointTierDetails().get(0).extendedInfo().get("efyw"));
        Assertions.assertEquals(RecoveryPointTierType.HARDENED_RP, model.recoveryPointTierDetails().get(0).type());
        Assertions.assertEquals(RecoveryPointTierStatus.VALID, model.recoveryPointTierDetails().get(0).status());
        Assertions.assertFalse(model.recoveryPointMoveReadinessInfo().get("szdtmhrkwof").isReadyForMove());
        Assertions.assertEquals("bahwfl", model.recoveryPointMoveReadinessInfo().get("szdtmhrkwof").additionalInfo());
        Assertions.assertEquals("oqac", model.recoveryPointProperties().expiryTime());
        Assertions.assertEquals("expbtg", model.recoveryPointProperties().ruleName());
        Assertions.assertTrue(model.recoveryPointProperties().isSoftDeleted());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-03T10:17:12Z"), model.timeRanges().get(0).startTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-28T00:53:44Z"), model.timeRanges().get(0).endTime());
    }
}
