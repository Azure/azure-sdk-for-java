// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.BackupManagementType;
import com.azure.resourcemanager.recoveryservicesbackup.models.JobSupportedAction;
import com.azure.resourcemanager.recoveryservicesbackup.models.MabJob;
import com.azure.resourcemanager.recoveryservicesbackup.models.MabServerType;
import com.azure.resourcemanager.recoveryservicesbackup.models.WorkloadType;
import java.time.Duration;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class MabJobTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        MabJob model = BinaryData.fromString(
            "{\"jobType\":\"MabJob\",\"duration\":\"PT236H35M17S\",\"actionsInfo\":[\"Cancellable\"],\"mabServerName\":\"h\",\"mabServerType\":\"SQLAGWorkLoadContainer\",\"workloadType\":\"SAPHanaDatabase\",\"errorDetails\":[{\"errorString\":\"vpbbt\",\"recommendations\":[\"joknssqyzqedik\",\"frdbiqmrjgeihf\"]},{\"errorString\":\"ggwfiwz\",\"recommendations\":[\"jpbyephmgtv\"]},{\"errorString\":\"vrcmyfqipgxhnpo\",\"recommendations\":[\"wcabvnuileeya\",\"wlpaugmrmfjlrxwt\",\"aukhfkvcisiz\"]}],\"extendedInfo\":{\"tasksList\":[{\"taskId\":\"sx\",\"startTime\":\"2021-10-20T01:41:58Z\",\"endTime\":\"2021-07-20T15:21:27Z\",\"duration\":\"PT196H25M37S\",\"status\":\"gyeewxeiq\"}],\"propertyBag\":{\"amljdlrgmsplzgau\":\"mgomg\",\"ewgnxkympqanxrj\":\"cshhv\",\"bta\":\"ixt\"},\"dynamicErrorMessage\":\"pnyghs\"},\"entityFriendlyName\":\"cyl\",\"backupManagementType\":\"Invalid\",\"operation\":\"nsghp\",\"status\":\"cphdrwjjkhvyo\",\"startTime\":\"2021-02-03T13:59:48Z\",\"endTime\":\"2021-04-06T06:54:17Z\",\"activityId\":\"vxnqmhrpqpd\"}")
            .toObject(MabJob.class);
        Assertions.assertEquals("cyl", model.entityFriendlyName());
        Assertions.assertEquals(BackupManagementType.INVALID, model.backupManagementType());
        Assertions.assertEquals("nsghp", model.operation());
        Assertions.assertEquals("cphdrwjjkhvyo", model.status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-03T13:59:48Z"), model.startTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-06T06:54:17Z"), model.endTime());
        Assertions.assertEquals("vxnqmhrpqpd", model.activityId());
        Assertions.assertEquals(Duration.parse("PT236H35M17S"), model.duration());
        Assertions.assertEquals(JobSupportedAction.CANCELLABLE, model.actionsInfo().get(0));
        Assertions.assertEquals("h", model.mabServerName());
        Assertions.assertEquals(MabServerType.SQLAGWORK_LOAD_CONTAINER, model.mabServerType());
        Assertions.assertEquals(WorkloadType.SAPHANA_DATABASE, model.workloadType());
        Assertions.assertEquals("sx", model.extendedInfo().tasksList().get(0).taskId());
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-20T01:41:58Z"),
            model.extendedInfo().tasksList().get(0).startTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-20T15:21:27Z"),
            model.extendedInfo().tasksList().get(0).endTime());
        Assertions.assertEquals(Duration.parse("PT196H25M37S"), model.extendedInfo().tasksList().get(0).duration());
        Assertions.assertEquals("gyeewxeiq", model.extendedInfo().tasksList().get(0).status());
        Assertions.assertEquals("mgomg", model.extendedInfo().propertyBag().get("amljdlrgmsplzgau"));
        Assertions.assertEquals("pnyghs", model.extendedInfo().dynamicErrorMessage());
    }
}
