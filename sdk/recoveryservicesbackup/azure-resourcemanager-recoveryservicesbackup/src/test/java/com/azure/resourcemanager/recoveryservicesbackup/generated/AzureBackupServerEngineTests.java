// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.AzureBackupServerEngine;
import com.azure.resourcemanager.recoveryservicesbackup.models.BackupEngineExtendedInfo;
import com.azure.resourcemanager.recoveryservicesbackup.models.BackupManagementType;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class AzureBackupServerEngineTests {
    @Test
    public void testDeserialize() {
        AzureBackupServerEngine model =
            BinaryData
                .fromString(
                    "{\"backupEngineType\":\"AzureBackupServerEngine\",\"friendlyName\":\"w\",\"backupManagementType\":\"AzureBackupServer\",\"registrationStatus\":\"ujtmvcopexcmjurb\",\"backupEngineState\":\"hlkyqltqsrog\",\"healthStatus\":\"wkffdjkt\",\"canReRegister\":false,\"backupEngineId\":\"dfvclglxnfu\",\"dpmVersion\":\"tkbu\",\"azureBackupAgentVersion\":\"ogsf\",\"isAzureBackupAgentUpgradeAvailable\":true,\"isDpmUpgradeAvailable\":false,\"extendedInfo\":{\"databaseName\":\"sharujtj\",\"protectedItemsCount\":650202313,\"protectedServersCount\":1013895282,\"diskCount\":9701584,\"usedDiskSpace\":46.7587407164006,\"availableDiskSpace\":83.77781923734668,\"refreshedAt\":\"2021-01-08T01:16:23Z\",\"azureProtectedInstances\":139567391}}")
                .toObject(AzureBackupServerEngine.class);
        Assertions.assertEquals("w", model.friendlyName());
        Assertions.assertEquals(BackupManagementType.AZURE_BACKUP_SERVER, model.backupManagementType());
        Assertions.assertEquals("ujtmvcopexcmjurb", model.registrationStatus());
        Assertions.assertEquals("hlkyqltqsrog", model.backupEngineState());
        Assertions.assertEquals("wkffdjkt", model.healthStatus());
        Assertions.assertEquals(false, model.canReRegister());
        Assertions.assertEquals("dfvclglxnfu", model.backupEngineId());
        Assertions.assertEquals("tkbu", model.dpmVersion());
        Assertions.assertEquals("ogsf", model.azureBackupAgentVersion());
        Assertions.assertEquals(true, model.isAzureBackupAgentUpgradeAvailable());
        Assertions.assertEquals(false, model.isDpmUpgradeAvailable());
        Assertions.assertEquals("sharujtj", model.extendedInfo().databaseName());
        Assertions.assertEquals(650202313, model.extendedInfo().protectedItemsCount());
        Assertions.assertEquals(1013895282, model.extendedInfo().protectedServersCount());
        Assertions.assertEquals(9701584, model.extendedInfo().diskCount());
        Assertions.assertEquals(46.7587407164006D, model.extendedInfo().usedDiskSpace());
        Assertions.assertEquals(83.77781923734668D, model.extendedInfo().availableDiskSpace());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-08T01:16:23Z"), model.extendedInfo().refreshedAt());
        Assertions.assertEquals(139567391, model.extendedInfo().azureProtectedInstances());
    }

    @Test
    public void testSerialize() {
        AzureBackupServerEngine model =
            new AzureBackupServerEngine()
                .withFriendlyName("w")
                .withBackupManagementType(BackupManagementType.AZURE_BACKUP_SERVER)
                .withRegistrationStatus("ujtmvcopexcmjurb")
                .withBackupEngineState("hlkyqltqsrog")
                .withHealthStatus("wkffdjkt")
                .withCanReRegister(false)
                .withBackupEngineId("dfvclglxnfu")
                .withDpmVersion("tkbu")
                .withAzureBackupAgentVersion("ogsf")
                .withIsAzureBackupAgentUpgradeAvailable(true)
                .withIsDpmUpgradeAvailable(false)
                .withExtendedInfo(
                    new BackupEngineExtendedInfo()
                        .withDatabaseName("sharujtj")
                        .withProtectedItemsCount(650202313)
                        .withProtectedServersCount(1013895282)
                        .withDiskCount(9701584)
                        .withUsedDiskSpace(46.7587407164006D)
                        .withAvailableDiskSpace(83.77781923734668D)
                        .withRefreshedAt(OffsetDateTime.parse("2021-01-08T01:16:23Z"))
                        .withAzureProtectedInstances(139567391));
        model = BinaryData.fromObject(model).toObject(AzureBackupServerEngine.class);
        Assertions.assertEquals("w", model.friendlyName());
        Assertions.assertEquals(BackupManagementType.AZURE_BACKUP_SERVER, model.backupManagementType());
        Assertions.assertEquals("ujtmvcopexcmjurb", model.registrationStatus());
        Assertions.assertEquals("hlkyqltqsrog", model.backupEngineState());
        Assertions.assertEquals("wkffdjkt", model.healthStatus());
        Assertions.assertEquals(false, model.canReRegister());
        Assertions.assertEquals("dfvclglxnfu", model.backupEngineId());
        Assertions.assertEquals("tkbu", model.dpmVersion());
        Assertions.assertEquals("ogsf", model.azureBackupAgentVersion());
        Assertions.assertEquals(true, model.isAzureBackupAgentUpgradeAvailable());
        Assertions.assertEquals(false, model.isDpmUpgradeAvailable());
        Assertions.assertEquals("sharujtj", model.extendedInfo().databaseName());
        Assertions.assertEquals(650202313, model.extendedInfo().protectedItemsCount());
        Assertions.assertEquals(1013895282, model.extendedInfo().protectedServersCount());
        Assertions.assertEquals(9701584, model.extendedInfo().diskCount());
        Assertions.assertEquals(46.7587407164006D, model.extendedInfo().usedDiskSpace());
        Assertions.assertEquals(83.77781923734668D, model.extendedInfo().availableDiskSpace());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-08T01:16:23Z"), model.extendedInfo().refreshedAt());
        Assertions.assertEquals(139567391, model.extendedInfo().azureProtectedInstances());
    }
}
