// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.AzureBackupServerEngine;
import com.azure.resourcemanager.recoveryservicesbackup.models.BackupEngineExtendedInfo;
import com.azure.resourcemanager.recoveryservicesbackup.models.BackupManagementType;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class AzureBackupServerEngineTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AzureBackupServerEngine model =
            BinaryData
                .fromString(
                    "{\"backupEngineType\":\"AzureBackupServerEngine\",\"friendlyName\":\"uicdhzbdybwwg\",\"backupManagementType\":\"DPM\",\"registrationStatus\":\"bid\",\"backupEngineState\":\"m\",\"healthStatus\":\"f\",\"canReRegister\":true,\"backupEngineId\":\"u\",\"dpmVersion\":\"pckc\",\"azureBackupAgentVersion\":\"rv\",\"isAzureBackupAgentUpgradeAvailable\":false,\"isDpmUpgradeAvailable\":false,\"extendedInfo\":{\"databaseName\":\"yukphaimmoiroq\",\"protectedItemsCount\":1650890360,\"protectedServersCount\":549321906,\"diskCount\":112627302,\"usedDiskSpace\":92.47846513584166,\"availableDiskSpace\":56.61178306753803,\"refreshedAt\":\"2021-05-08T08:14:40Z\",\"azureProtectedInstances\":1501349160}}")
                .toObject(AzureBackupServerEngine.class);
        Assertions.assertEquals("uicdhzbdybwwg", model.friendlyName());
        Assertions.assertEquals(BackupManagementType.DPM, model.backupManagementType());
        Assertions.assertEquals("bid", model.registrationStatus());
        Assertions.assertEquals("m", model.backupEngineState());
        Assertions.assertEquals("f", model.healthStatus());
        Assertions.assertEquals(true, model.canReRegister());
        Assertions.assertEquals("u", model.backupEngineId());
        Assertions.assertEquals("pckc", model.dpmVersion());
        Assertions.assertEquals("rv", model.azureBackupAgentVersion());
        Assertions.assertEquals(false, model.isAzureBackupAgentUpgradeAvailable());
        Assertions.assertEquals(false, model.isDpmUpgradeAvailable());
        Assertions.assertEquals("yukphaimmoiroq", model.extendedInfo().databaseName());
        Assertions.assertEquals(1650890360, model.extendedInfo().protectedItemsCount());
        Assertions.assertEquals(549321906, model.extendedInfo().protectedServersCount());
        Assertions.assertEquals(112627302, model.extendedInfo().diskCount());
        Assertions.assertEquals(92.47846513584166D, model.extendedInfo().usedDiskSpace());
        Assertions.assertEquals(56.61178306753803D, model.extendedInfo().availableDiskSpace());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-08T08:14:40Z"), model.extendedInfo().refreshedAt());
        Assertions.assertEquals(1501349160, model.extendedInfo().azureProtectedInstances());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AzureBackupServerEngine model =
            new AzureBackupServerEngine()
                .withFriendlyName("uicdhzbdybwwg")
                .withBackupManagementType(BackupManagementType.DPM)
                .withRegistrationStatus("bid")
                .withBackupEngineState("m")
                .withHealthStatus("f")
                .withCanReRegister(true)
                .withBackupEngineId("u")
                .withDpmVersion("pckc")
                .withAzureBackupAgentVersion("rv")
                .withIsAzureBackupAgentUpgradeAvailable(false)
                .withIsDpmUpgradeAvailable(false)
                .withExtendedInfo(
                    new BackupEngineExtendedInfo()
                        .withDatabaseName("yukphaimmoiroq")
                        .withProtectedItemsCount(1650890360)
                        .withProtectedServersCount(549321906)
                        .withDiskCount(112627302)
                        .withUsedDiskSpace(92.47846513584166D)
                        .withAvailableDiskSpace(56.61178306753803D)
                        .withRefreshedAt(OffsetDateTime.parse("2021-05-08T08:14:40Z"))
                        .withAzureProtectedInstances(1501349160));
        model = BinaryData.fromObject(model).toObject(AzureBackupServerEngine.class);
        Assertions.assertEquals("uicdhzbdybwwg", model.friendlyName());
        Assertions.assertEquals(BackupManagementType.DPM, model.backupManagementType());
        Assertions.assertEquals("bid", model.registrationStatus());
        Assertions.assertEquals("m", model.backupEngineState());
        Assertions.assertEquals("f", model.healthStatus());
        Assertions.assertEquals(true, model.canReRegister());
        Assertions.assertEquals("u", model.backupEngineId());
        Assertions.assertEquals("pckc", model.dpmVersion());
        Assertions.assertEquals("rv", model.azureBackupAgentVersion());
        Assertions.assertEquals(false, model.isAzureBackupAgentUpgradeAvailable());
        Assertions.assertEquals(false, model.isDpmUpgradeAvailable());
        Assertions.assertEquals("yukphaimmoiroq", model.extendedInfo().databaseName());
        Assertions.assertEquals(1650890360, model.extendedInfo().protectedItemsCount());
        Assertions.assertEquals(549321906, model.extendedInfo().protectedServersCount());
        Assertions.assertEquals(112627302, model.extendedInfo().diskCount());
        Assertions.assertEquals(92.47846513584166D, model.extendedInfo().usedDiskSpace());
        Assertions.assertEquals(56.61178306753803D, model.extendedInfo().availableDiskSpace());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-08T08:14:40Z"), model.extendedInfo().refreshedAt());
        Assertions.assertEquals(1501349160, model.extendedInfo().azureProtectedInstances());
    }
}
