// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.CreateMode;
import com.azure.resourcemanager.recoveryservicesbackup.models.ProtectedItem;
import com.azure.resourcemanager.recoveryservicesbackup.models.SourceSideScanInfo;
import com.azure.resourcemanager.recoveryservicesbackup.models.SourceSideScanStatus;
import com.azure.resourcemanager.recoveryservicesbackup.models.SourceSideScanSummary;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ProtectedItemTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ProtectedItem model = BinaryData.fromString(
            "{\"protectedItemType\":\"ProtectedItem\",\"backupManagementType\":\"MAB\",\"workloadType\":\"Invalid\",\"containerName\":\"iotkftutqxl\",\"sourceResourceId\":\"xlefgugnxkrx\",\"policyId\":\"mi\",\"lastRecoveryPoint\":\"2021-12-07T02:37:39Z\",\"backupSetName\":\"zrvqdr\",\"createMode\":\"Default\",\"deferredDeleteTimeInUTC\":\"2021-09-24T23:35:33Z\",\"isScheduledForDeferredDelete\":false,\"deferredDeleteTimeRemaining\":\"ehoqfbowskan\",\"isDeferredDeleteScheduleUpcoming\":true,\"isRehydrate\":true,\"resourceGuardOperationRequests\":[\"iywgqywgndrvynh\"],\"isArchiveEnabled\":true,\"policyName\":\"hrc\",\"softDeleteRetentionPeriodInDays\":485990541,\"vaultId\":\"ocpecfvmmco\",\"sourceSideScanInfo\":{\"sourceSideScanStatus\":\"NotApplicable\",\"sourceSideScanSummary\":\"NotApplicable\"}}")
            .toObject(ProtectedItem.class);
        Assertions.assertEquals("iotkftutqxl", model.containerName());
        Assertions.assertEquals("xlefgugnxkrx", model.sourceResourceId());
        Assertions.assertEquals("mi", model.policyId());
        Assertions.assertEquals(OffsetDateTime.parse("2021-12-07T02:37:39Z"), model.lastRecoveryPoint());
        Assertions.assertEquals("zrvqdr", model.backupSetName());
        Assertions.assertEquals(CreateMode.DEFAULT, model.createMode());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-24T23:35:33Z"), model.deferredDeleteTimeInUtc());
        Assertions.assertFalse(model.isScheduledForDeferredDelete());
        Assertions.assertEquals("ehoqfbowskan", model.deferredDeleteTimeRemaining());
        Assertions.assertTrue(model.isDeferredDeleteScheduleUpcoming());
        Assertions.assertTrue(model.isRehydrate());
        Assertions.assertEquals("iywgqywgndrvynh", model.resourceGuardOperationRequests().get(0));
        Assertions.assertTrue(model.isArchiveEnabled());
        Assertions.assertEquals("hrc", model.policyName());
        Assertions.assertEquals(485990541, model.softDeleteRetentionPeriodInDays());
        Assertions.assertEquals(SourceSideScanStatus.NOT_APPLICABLE, model.sourceSideScanInfo().sourceSideScanStatus());
        Assertions.assertEquals(SourceSideScanSummary.NOT_APPLICABLE,
            model.sourceSideScanInfo().sourceSideScanSummary());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ProtectedItem model = new ProtectedItem().withContainerName("iotkftutqxl")
            .withSourceResourceId("xlefgugnxkrx")
            .withPolicyId("mi")
            .withLastRecoveryPoint(OffsetDateTime.parse("2021-12-07T02:37:39Z"))
            .withBackupSetName("zrvqdr")
            .withCreateMode(CreateMode.DEFAULT)
            .withDeferredDeleteTimeInUtc(OffsetDateTime.parse("2021-09-24T23:35:33Z"))
            .withIsScheduledForDeferredDelete(false)
            .withDeferredDeleteTimeRemaining("ehoqfbowskan")
            .withIsDeferredDeleteScheduleUpcoming(true)
            .withIsRehydrate(true)
            .withResourceGuardOperationRequests(Arrays.asList("iywgqywgndrvynh"))
            .withIsArchiveEnabled(true)
            .withPolicyName("hrc")
            .withSoftDeleteRetentionPeriodInDays(485990541)
            .withSourceSideScanInfo(
                new SourceSideScanInfo().withSourceSideScanStatus(SourceSideScanStatus.NOT_APPLICABLE)
                    .withSourceSideScanSummary(SourceSideScanSummary.NOT_APPLICABLE));
        model = BinaryData.fromObject(model).toObject(ProtectedItem.class);
        Assertions.assertEquals("iotkftutqxl", model.containerName());
        Assertions.assertEquals("xlefgugnxkrx", model.sourceResourceId());
        Assertions.assertEquals("mi", model.policyId());
        Assertions.assertEquals(OffsetDateTime.parse("2021-12-07T02:37:39Z"), model.lastRecoveryPoint());
        Assertions.assertEquals("zrvqdr", model.backupSetName());
        Assertions.assertEquals(CreateMode.DEFAULT, model.createMode());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-24T23:35:33Z"), model.deferredDeleteTimeInUtc());
        Assertions.assertFalse(model.isScheduledForDeferredDelete());
        Assertions.assertEquals("ehoqfbowskan", model.deferredDeleteTimeRemaining());
        Assertions.assertTrue(model.isDeferredDeleteScheduleUpcoming());
        Assertions.assertTrue(model.isRehydrate());
        Assertions.assertEquals("iywgqywgndrvynh", model.resourceGuardOperationRequests().get(0));
        Assertions.assertTrue(model.isArchiveEnabled());
        Assertions.assertEquals("hrc", model.policyName());
        Assertions.assertEquals(485990541, model.softDeleteRetentionPeriodInDays());
        Assertions.assertEquals(SourceSideScanStatus.NOT_APPLICABLE, model.sourceSideScanInfo().sourceSideScanStatus());
        Assertions.assertEquals(SourceSideScanSummary.NOT_APPLICABLE,
            model.sourceSideScanInfo().sourceSideScanSummary());
    }
}
