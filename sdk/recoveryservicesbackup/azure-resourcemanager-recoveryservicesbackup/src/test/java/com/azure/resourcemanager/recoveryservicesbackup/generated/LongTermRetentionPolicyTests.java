// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.DailyRetentionFormat;
import com.azure.resourcemanager.recoveryservicesbackup.models.DailyRetentionSchedule;
import com.azure.resourcemanager.recoveryservicesbackup.models.Day;
import com.azure.resourcemanager.recoveryservicesbackup.models.DayOfWeek;
import com.azure.resourcemanager.recoveryservicesbackup.models.LongTermRetentionPolicy;
import com.azure.resourcemanager.recoveryservicesbackup.models.MonthOfYear;
import com.azure.resourcemanager.recoveryservicesbackup.models.MonthlyRetentionSchedule;
import com.azure.resourcemanager.recoveryservicesbackup.models.RetentionDuration;
import com.azure.resourcemanager.recoveryservicesbackup.models.RetentionDurationType;
import com.azure.resourcemanager.recoveryservicesbackup.models.RetentionScheduleFormat;
import com.azure.resourcemanager.recoveryservicesbackup.models.WeekOfMonth;
import com.azure.resourcemanager.recoveryservicesbackup.models.WeeklyRetentionFormat;
import com.azure.resourcemanager.recoveryservicesbackup.models.WeeklyRetentionSchedule;
import com.azure.resourcemanager.recoveryservicesbackup.models.YearlyRetentionSchedule;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class LongTermRetentionPolicyTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        LongTermRetentionPolicy model = BinaryData.fromString(
            "{\"retentionPolicyType\":\"LongTermRetentionPolicy\",\"dailySchedule\":{\"retentionTimes\":[\"2021-05-03T03:00:46Z\",\"2021-09-10T23:02:27Z\",\"2021-11-14T08:40:48Z\"],\"retentionDuration\":{\"count\":240582317,\"durationType\":\"Months\"}},\"weeklySchedule\":{\"daysOfTheWeek\":[\"Monday\",\"Wednesday\",\"Monday\",\"Saturday\"],\"retentionTimes\":[\"2021-10-11T18:38:45Z\",\"2021-01-20T19:50:29Z\",\"2021-08-16T03:47:52Z\"],\"retentionDuration\":{\"count\":367170768,\"durationType\":\"Days\"}},\"monthlySchedule\":{\"retentionScheduleFormatType\":\"Weekly\",\"retentionScheduleDaily\":{\"daysOfTheMonth\":[{\"date\":370827804,\"isLast\":false}]},\"retentionScheduleWeekly\":{\"daysOfTheWeek\":[\"Saturday\",\"Friday\",\"Friday\",\"Sunday\"],\"weeksOfTheMonth\":[\"First\",\"Third\",\"Third\",\"Last\"]},\"retentionTimes\":[\"2021-04-27T14:33:17Z\",\"2021-07-31T13:07:21Z\"],\"retentionDuration\":{\"count\":642883737,\"durationType\":\"Months\"}},\"yearlySchedule\":{\"retentionScheduleFormatType\":\"Weekly\",\"monthsOfYear\":[\"December\"],\"retentionScheduleDaily\":{\"daysOfTheMonth\":[{\"date\":436205084,\"isLast\":true},{\"date\":1412186545,\"isLast\":false},{\"date\":2085491837,\"isLast\":true},{\"date\":361835019,\"isLast\":false}]},\"retentionScheduleWeekly\":{\"daysOfTheWeek\":[\"Sunday\"],\"weeksOfTheMonth\":[\"First\",\"First\",\"Invalid\",\"Third\"]},\"retentionTimes\":[\"2021-04-11T05:09:16Z\"],\"retentionDuration\":{\"count\":958421959,\"durationType\":\"Years\"}}}")
            .toObject(LongTermRetentionPolicy.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-03T03:00:46Z"),
            model.dailySchedule().retentionTimes().get(0));
        Assertions.assertEquals(240582317, model.dailySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.MONTHS, model.dailySchedule().retentionDuration().durationType());
        Assertions.assertEquals(DayOfWeek.MONDAY, model.weeklySchedule().daysOfTheWeek().get(0));
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-11T18:38:45Z"),
            model.weeklySchedule().retentionTimes().get(0));
        Assertions.assertEquals(367170768, model.weeklySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.DAYS, model.weeklySchedule().retentionDuration().durationType());
        Assertions.assertEquals(RetentionScheduleFormat.WEEKLY, model.monthlySchedule().retentionScheduleFormatType());
        Assertions.assertEquals(370827804,
            model.monthlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).date());
        Assertions.assertFalse(model.monthlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).isLast());
        Assertions.assertEquals(DayOfWeek.SATURDAY,
            model.monthlySchedule().retentionScheduleWeekly().daysOfTheWeek().get(0));
        Assertions.assertEquals(WeekOfMonth.FIRST,
            model.monthlySchedule().retentionScheduleWeekly().weeksOfTheMonth().get(0));
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-27T14:33:17Z"),
            model.monthlySchedule().retentionTimes().get(0));
        Assertions.assertEquals(642883737, model.monthlySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.MONTHS,
            model.monthlySchedule().retentionDuration().durationType());
        Assertions.assertEquals(RetentionScheduleFormat.WEEKLY, model.yearlySchedule().retentionScheduleFormatType());
        Assertions.assertEquals(MonthOfYear.DECEMBER, model.yearlySchedule().monthsOfYear().get(0));
        Assertions.assertEquals(436205084,
            model.yearlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).date());
        Assertions.assertTrue(model.yearlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).isLast());
        Assertions.assertEquals(DayOfWeek.SUNDAY,
            model.yearlySchedule().retentionScheduleWeekly().daysOfTheWeek().get(0));
        Assertions.assertEquals(WeekOfMonth.FIRST,
            model.yearlySchedule().retentionScheduleWeekly().weeksOfTheMonth().get(0));
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-11T05:09:16Z"),
            model.yearlySchedule().retentionTimes().get(0));
        Assertions.assertEquals(958421959, model.yearlySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.YEARS, model.yearlySchedule().retentionDuration().durationType());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        LongTermRetentionPolicy model = new LongTermRetentionPolicy()
            .withDailySchedule(new DailyRetentionSchedule()
                .withRetentionTimes(Arrays.asList(OffsetDateTime.parse("2021-05-03T03:00:46Z"),
                    OffsetDateTime.parse("2021-09-10T23:02:27Z"), OffsetDateTime.parse("2021-11-14T08:40:48Z")))
                .withRetentionDuration(
                    new RetentionDuration().withCount(240582317).withDurationType(RetentionDurationType.MONTHS)))
            .withWeeklySchedule(new WeeklyRetentionSchedule()
                .withDaysOfTheWeek(
                    Arrays.asList(DayOfWeek.MONDAY, DayOfWeek.WEDNESDAY, DayOfWeek.MONDAY, DayOfWeek.SATURDAY))
                .withRetentionTimes(Arrays.asList(OffsetDateTime.parse("2021-10-11T18:38:45Z"),
                    OffsetDateTime.parse("2021-01-20T19:50:29Z"), OffsetDateTime.parse("2021-08-16T03:47:52Z")))
                .withRetentionDuration(
                    new RetentionDuration().withCount(367170768).withDurationType(RetentionDurationType.DAYS)))
            .withMonthlySchedule(
                new MonthlyRetentionSchedule().withRetentionScheduleFormatType(RetentionScheduleFormat.WEEKLY)
                    .withRetentionScheduleDaily(new DailyRetentionFormat()
                        .withDaysOfTheMonth(Arrays.asList(new Day().withDate(370827804).withIsLast(false))))
                    .withRetentionScheduleWeekly(new WeeklyRetentionFormat()
                        .withDaysOfTheWeek(
                            Arrays.asList(DayOfWeek.SATURDAY, DayOfWeek.FRIDAY, DayOfWeek.FRIDAY, DayOfWeek.SUNDAY))
                        .withWeeksOfTheMonth(
                            Arrays.asList(WeekOfMonth.FIRST, WeekOfMonth.THIRD, WeekOfMonth.THIRD, WeekOfMonth.LAST)))
                    .withRetentionTimes(Arrays.asList(OffsetDateTime.parse("2021-04-27T14:33:17Z"),
                        OffsetDateTime.parse("2021-07-31T13:07:21Z")))
                    .withRetentionDuration(
                        new RetentionDuration().withCount(642883737).withDurationType(RetentionDurationType.MONTHS)))
            .withYearlySchedule(new YearlyRetentionSchedule()
                .withRetentionScheduleFormatType(RetentionScheduleFormat.WEEKLY)
                .withMonthsOfYear(Arrays.asList(MonthOfYear.DECEMBER))
                .withRetentionScheduleDaily(new DailyRetentionFormat().withDaysOfTheMonth(Arrays.asList(
                    new Day().withDate(436205084).withIsLast(true), new Day().withDate(1412186545).withIsLast(false),
                    new Day().withDate(2085491837).withIsLast(true), new Day().withDate(361835019).withIsLast(false))))
                .withRetentionScheduleWeekly(
                    new WeeklyRetentionFormat().withDaysOfTheWeek(Arrays.asList(DayOfWeek.SUNDAY))
                        .withWeeksOfTheMonth(Arrays.asList(WeekOfMonth.FIRST, WeekOfMonth.FIRST, WeekOfMonth.INVALID,
                            WeekOfMonth.THIRD)))
                .withRetentionTimes(Arrays.asList(OffsetDateTime.parse("2021-04-11T05:09:16Z")))
                .withRetentionDuration(
                    new RetentionDuration().withCount(958421959).withDurationType(RetentionDurationType.YEARS)));
        model = BinaryData.fromObject(model).toObject(LongTermRetentionPolicy.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-03T03:00:46Z"),
            model.dailySchedule().retentionTimes().get(0));
        Assertions.assertEquals(240582317, model.dailySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.MONTHS, model.dailySchedule().retentionDuration().durationType());
        Assertions.assertEquals(DayOfWeek.MONDAY, model.weeklySchedule().daysOfTheWeek().get(0));
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-11T18:38:45Z"),
            model.weeklySchedule().retentionTimes().get(0));
        Assertions.assertEquals(367170768, model.weeklySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.DAYS, model.weeklySchedule().retentionDuration().durationType());
        Assertions.assertEquals(RetentionScheduleFormat.WEEKLY, model.monthlySchedule().retentionScheduleFormatType());
        Assertions.assertEquals(370827804,
            model.monthlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).date());
        Assertions.assertFalse(model.monthlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).isLast());
        Assertions.assertEquals(DayOfWeek.SATURDAY,
            model.monthlySchedule().retentionScheduleWeekly().daysOfTheWeek().get(0));
        Assertions.assertEquals(WeekOfMonth.FIRST,
            model.monthlySchedule().retentionScheduleWeekly().weeksOfTheMonth().get(0));
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-27T14:33:17Z"),
            model.monthlySchedule().retentionTimes().get(0));
        Assertions.assertEquals(642883737, model.monthlySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.MONTHS,
            model.monthlySchedule().retentionDuration().durationType());
        Assertions.assertEquals(RetentionScheduleFormat.WEEKLY, model.yearlySchedule().retentionScheduleFormatType());
        Assertions.assertEquals(MonthOfYear.DECEMBER, model.yearlySchedule().monthsOfYear().get(0));
        Assertions.assertEquals(436205084,
            model.yearlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).date());
        Assertions.assertTrue(model.yearlySchedule().retentionScheduleDaily().daysOfTheMonth().get(0).isLast());
        Assertions.assertEquals(DayOfWeek.SUNDAY,
            model.yearlySchedule().retentionScheduleWeekly().daysOfTheWeek().get(0));
        Assertions.assertEquals(WeekOfMonth.FIRST,
            model.yearlySchedule().retentionScheduleWeekly().weeksOfTheMonth().get(0));
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-11T05:09:16Z"),
            model.yearlySchedule().retentionTimes().get(0));
        Assertions.assertEquals(958421959, model.yearlySchedule().retentionDuration().count());
        Assertions.assertEquals(RetentionDurationType.YEARS, model.yearlySchedule().retentionDuration().durationType());
    }
}
