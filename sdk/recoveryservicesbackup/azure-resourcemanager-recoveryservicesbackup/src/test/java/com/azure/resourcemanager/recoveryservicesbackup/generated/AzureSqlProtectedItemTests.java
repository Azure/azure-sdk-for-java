// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesbackup.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesbackup.models.AzureSqlProtectedItem;
import com.azure.resourcemanager.recoveryservicesbackup.models.AzureSqlProtectedItemExtendedInfo;
import com.azure.resourcemanager.recoveryservicesbackup.models.CreateMode;
import com.azure.resourcemanager.recoveryservicesbackup.models.ProtectedItemState;
import com.azure.resourcemanager.recoveryservicesbackup.models.SourceSideScanInfo;
import com.azure.resourcemanager.recoveryservicesbackup.models.SourceSideScanStatus;
import com.azure.resourcemanager.recoveryservicesbackup.models.SourceSideScanSummary;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class AzureSqlProtectedItemTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AzureSqlProtectedItem model = BinaryData.fromString(
            "{\"protectedItemType\":\"Microsoft.Sql/servers/databases\",\"protectedItemDataId\":\"ltyfsop\",\"protectionState\":\"IRPending\",\"extendedInfo\":{\"oldestRecoveryPoint\":\"2020-12-22T21:06:46Z\",\"recoveryPointCount\":517935134,\"policyState\":\"dejbavo\"},\"backupManagementType\":\"DPM\",\"workloadType\":\"Exchange\",\"containerName\":\"hctbqvudwxdn\",\"sourceResourceId\":\"vo\",\"policyId\":\"ujjugwdkcglh\",\"lastRecoveryPoint\":\"2021-08-25T22:16:35Z\",\"backupSetName\":\"jdyggdtji\",\"createMode\":\"Recover\",\"deferredDeleteTimeInUTC\":\"2021-11-28T10:21:02Z\",\"isScheduledForDeferredDelete\":true,\"deferredDeleteTimeRemaining\":\"wey\",\"isDeferredDeleteScheduleUpcoming\":true,\"isRehydrate\":false,\"resourceGuardOperationRequests\":[\"fyexfwhy\",\"cibvyvdcsitynn\"],\"isArchiveEnabled\":true,\"policyName\":\"ectehf\",\"softDeleteRetentionPeriodInDays\":1860942440,\"vaultId\":\"jeyp\",\"sourceSideScanInfo\":{\"sourceSideScanStatus\":\"NotApplicable\",\"sourceSideScanSummary\":\"Suspicious\"}}")
            .toObject(AzureSqlProtectedItem.class);
        Assertions.assertEquals("hctbqvudwxdn", model.containerName());
        Assertions.assertEquals("vo", model.sourceResourceId());
        Assertions.assertEquals("ujjugwdkcglh", model.policyId());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-25T22:16:35Z"), model.lastRecoveryPoint());
        Assertions.assertEquals("jdyggdtji", model.backupSetName());
        Assertions.assertEquals(CreateMode.RECOVER, model.createMode());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-28T10:21:02Z"), model.deferredDeleteTimeInUtc());
        Assertions.assertTrue(model.isScheduledForDeferredDelete());
        Assertions.assertEquals("wey", model.deferredDeleteTimeRemaining());
        Assertions.assertTrue(model.isDeferredDeleteScheduleUpcoming());
        Assertions.assertFalse(model.isRehydrate());
        Assertions.assertEquals("fyexfwhy", model.resourceGuardOperationRequests().get(0));
        Assertions.assertTrue(model.isArchiveEnabled());
        Assertions.assertEquals("ectehf", model.policyName());
        Assertions.assertEquals(1860942440, model.softDeleteRetentionPeriodInDays());
        Assertions.assertEquals(SourceSideScanStatus.NOT_APPLICABLE, model.sourceSideScanInfo().sourceSideScanStatus());
        Assertions.assertEquals(SourceSideScanSummary.SUSPICIOUS, model.sourceSideScanInfo().sourceSideScanSummary());
        Assertions.assertEquals("ltyfsop", model.protectedItemDataId());
        Assertions.assertEquals(ProtectedItemState.IRPENDING, model.protectionState());
        Assertions.assertEquals(OffsetDateTime.parse("2020-12-22T21:06:46Z"),
            model.extendedInfo().oldestRecoveryPoint());
        Assertions.assertEquals(517935134, model.extendedInfo().recoveryPointCount());
        Assertions.assertEquals("dejbavo", model.extendedInfo().policyState());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AzureSqlProtectedItem model = new AzureSqlProtectedItem().withContainerName("hctbqvudwxdn")
            .withSourceResourceId("vo")
            .withPolicyId("ujjugwdkcglh")
            .withLastRecoveryPoint(OffsetDateTime.parse("2021-08-25T22:16:35Z"))
            .withBackupSetName("jdyggdtji")
            .withCreateMode(CreateMode.RECOVER)
            .withDeferredDeleteTimeInUtc(OffsetDateTime.parse("2021-11-28T10:21:02Z"))
            .withIsScheduledForDeferredDelete(true)
            .withDeferredDeleteTimeRemaining("wey")
            .withIsDeferredDeleteScheduleUpcoming(true)
            .withIsRehydrate(false)
            .withResourceGuardOperationRequests(Arrays.asList("fyexfwhy", "cibvyvdcsitynn"))
            .withIsArchiveEnabled(true)
            .withPolicyName("ectehf")
            .withSoftDeleteRetentionPeriodInDays(1860942440)
            .withSourceSideScanInfo(
                new SourceSideScanInfo().withSourceSideScanStatus(SourceSideScanStatus.NOT_APPLICABLE)
                    .withSourceSideScanSummary(SourceSideScanSummary.SUSPICIOUS))
            .withProtectedItemDataId("ltyfsop")
            .withProtectionState(ProtectedItemState.IRPENDING)
            .withExtendedInfo(new AzureSqlProtectedItemExtendedInfo()
                .withOldestRecoveryPoint(OffsetDateTime.parse("2020-12-22T21:06:46Z"))
                .withRecoveryPointCount(517935134)
                .withPolicyState("dejbavo"));
        model = BinaryData.fromObject(model).toObject(AzureSqlProtectedItem.class);
        Assertions.assertEquals("hctbqvudwxdn", model.containerName());
        Assertions.assertEquals("vo", model.sourceResourceId());
        Assertions.assertEquals("ujjugwdkcglh", model.policyId());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-25T22:16:35Z"), model.lastRecoveryPoint());
        Assertions.assertEquals("jdyggdtji", model.backupSetName());
        Assertions.assertEquals(CreateMode.RECOVER, model.createMode());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-28T10:21:02Z"), model.deferredDeleteTimeInUtc());
        Assertions.assertTrue(model.isScheduledForDeferredDelete());
        Assertions.assertEquals("wey", model.deferredDeleteTimeRemaining());
        Assertions.assertTrue(model.isDeferredDeleteScheduleUpcoming());
        Assertions.assertFalse(model.isRehydrate());
        Assertions.assertEquals("fyexfwhy", model.resourceGuardOperationRequests().get(0));
        Assertions.assertTrue(model.isArchiveEnabled());
        Assertions.assertEquals("ectehf", model.policyName());
        Assertions.assertEquals(1860942440, model.softDeleteRetentionPeriodInDays());
        Assertions.assertEquals(SourceSideScanStatus.NOT_APPLICABLE, model.sourceSideScanInfo().sourceSideScanStatus());
        Assertions.assertEquals(SourceSideScanSummary.SUSPICIOUS, model.sourceSideScanInfo().sourceSideScanSummary());
        Assertions.assertEquals("ltyfsop", model.protectedItemDataId());
        Assertions.assertEquals(ProtectedItemState.IRPENDING, model.protectionState());
        Assertions.assertEquals(OffsetDateTime.parse("2020-12-22T21:06:46Z"),
            model.extendedInfo().oldestRecoveryPoint());
        Assertions.assertEquals(517935134, model.extendedInfo().recoveryPointCount());
        Assertions.assertEquals("dejbavo", model.extendedInfo().policyState());
    }
}
