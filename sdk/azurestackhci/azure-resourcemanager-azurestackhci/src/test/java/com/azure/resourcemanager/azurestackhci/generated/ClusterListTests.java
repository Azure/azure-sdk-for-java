// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.azurestackhci.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.azurestackhci.fluent.models.ClusterInner;
import com.azure.resourcemanager.azurestackhci.models.ClusterDesiredProperties;
import com.azure.resourcemanager.azurestackhci.models.ClusterList;
import com.azure.resourcemanager.azurestackhci.models.DiagnosticLevel;
import com.azure.resourcemanager.azurestackhci.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.azurestackhci.models.SoftwareAssuranceIntent;
import com.azure.resourcemanager.azurestackhci.models.SoftwareAssuranceProperties;
import com.azure.resourcemanager.azurestackhci.models.UserAssignedIdentity;
import com.azure.resourcemanager.azurestackhci.models.WindowsServerSubscription;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ClusterListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ClusterList model = BinaryData.fromString(
            "{\"value\":[{\"identity\":{\"principalId\":\"3d976595-8cd1-47c9-aea5-80b60c9c0154\",\"tenantId\":\"74c119f8-e5d1-45b2-80e1-049b1794b498\",\"type\":\"None\",\"userAssignedIdentities\":{\"jyj\":{\"principalId\":\"6b6ef411-2f32-4de6-8cd9-cbed3a1fedc2\",\"clientId\":\"2127a08c-0644-4aec-b4a3-790ea508e260\"},\"aoyfhrtxilnerkuj\":{\"principalId\":\"5c29f0b2-b6ac-4e9b-9c93-3cd21cb803e0\",\"clientId\":\"771b7cea-16b3-4544-ac82-d387abf03402\"},\"l\":{\"principalId\":\"ca52de09-0cba-4dc3-a217-0683e26b4d18\",\"clientId\":\"6dadad8e-10bb-45fc-9e41-9e53ddfe71ed\"},\"vfqawrlyxwjkcpr\":{\"principalId\":\"ab3211b1-8746-48fd-b6b0-045efbccbc05\",\"clientId\":\"a69c6eb2-c120-46d0-bf14-c8e0d0700c52\"}}},\"properties\":{\"provisioningState\":\"Succeeded\",\"status\":\"DeploymentFailed\",\"connectivityStatus\":\"Connected\",\"cloudId\":\"bvpyss\",\"cloudManagementEndpoint\":\"nruj\",\"aadClientId\":\"uhmuouqfprwzwbn\",\"aadTenantId\":\"itnwuizgazxufi\",\"aadApplicationObjectId\":\"ckyfih\",\"aadServicePrincipalObjectId\":\"idf\",\"softwareAssuranceProperties\":{\"softwareAssuranceStatus\":\"Disabled\",\"softwareAssuranceIntent\":\"Enable\",\"lastUpdated\":\"2021-04-15T03:14:07Z\"},\"desiredProperties\":{\"windowsServerSubscription\":\"Disabled\",\"diagnosticLevel\":\"Basic\"},\"reportedProperties\":{\"clusterName\":\"fthwxmnteiwa\",\"clusterId\":\"vkmijcmmxdcuf\",\"clusterVersion\":\"srp\",\"nodes\":[{},{},{},{}],\"lastUpdated\":\"2020-12-28T02:07:44Z\",\"imdsAttestation\":\"Disabled\",\"diagnosticLevel\":\"Enhanced\",\"supportedCapabilities\":[\"tbzsgfyccs\",\"ewmdw\",\"jeiachboosfl\",\"ro\"],\"clusterType\":\"FirstParty\",\"manufacturer\":\"t\",\"oemActivation\":\"Disabled\"},\"isolatedVmAttestationConfiguration\":{\"attestationResourceId\":\"vypyqrimzinpv\",\"relyingPartyServiceEndpoint\":\"jdkirsoodqx\",\"attestationServiceEndpoint\":\"rmnohj\"},\"trialDaysRemaining\":13.129669,\"billingModel\":\"h\",\"registrationTimestamp\":\"2021-05-11T08:11:32Z\",\"lastSyncTimestamp\":\"2021-07-22T01:38:16Z\",\"lastBillingTimestamp\":\"2021-12-04T15:56:22Z\",\"serviceEndpoint\":\"pjxsqwpgrjbznor\",\"resourceProviderObjectId\":\"xv\"},\"location\":\"byxqabn\",\"tags\":{\"zafb\":\"pcyshu\"},\"id\":\"jjgpb\",\"name\":\"oq\",\"type\":\"jmkljavbqidtqajz\"},{\"identity\":{\"principalId\":\"1330302a-a5a2-4604-b05b-332fdb753230\",\"tenantId\":\"261d20aa-eab2-4e36-9d7a-a547416e37dd\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"rlkhbzhfepgzgq\":{\"principalId\":\"646aa4b6-3e45-4bab-86da-543bb87c855d\",\"clientId\":\"3fba3c5c-1de6-454b-b9bf-5ec2f9c4989b\"}}},\"properties\":{\"provisioningState\":\"Failed\",\"status\":\"Error\",\"connectivityStatus\":\"NotSpecified\",\"cloudId\":\"paierh\",\"cloudManagementEndpoint\":\"csglum\",\"aadClientId\":\"jtjaodxobnbdxkq\",\"aadTenantId\":\"okaj\",\"aadApplicationObjectId\":\"npime\",\"aadServicePrincipalObjectId\":\"stxgc\",\"softwareAssuranceProperties\":{\"softwareAssuranceStatus\":\"Enabled\",\"softwareAssuranceIntent\":\"Enable\",\"lastUpdated\":\"2021-08-14T01:03:38Z\"},\"desiredProperties\":{\"windowsServerSubscription\":\"Enabled\",\"diagnosticLevel\":\"Basic\"},\"reportedProperties\":{\"clusterName\":\"rlovmclwhijcoej\",\"clusterId\":\"bzaqsqsycbkbfk\",\"clusterVersion\":\"kdkexxp\",\"nodes\":[{}],\"lastUpdated\":\"2021-05-26T04:34:13Z\",\"imdsAttestation\":\"Disabled\",\"diagnosticLevel\":\"Enhanced\",\"supportedCapabilities\":[\"ddtocjjxhvp\",\"o\"],\"clusterType\":\"ThirdParty\",\"manufacturer\":\"dzxibqeojnxqbzvd\",\"oemActivation\":\"Disabled\"},\"isolatedVmAttestationConfiguration\":{\"attestationResourceId\":\"deicbtwnpzao\",\"relyingPartyServiceEndpoint\":\"uhrhcffcyddgl\",\"attestationServiceEndpoint\":\"t\"},\"trialDaysRemaining\":74.24029,\"billingModel\":\"wpyeicxmqciwqvh\",\"registrationTimestamp\":\"2021-03-25T23:46:11Z\",\"lastSyncTimestamp\":\"2021-04-08T23:48:15Z\",\"lastBillingTimestamp\":\"2021-04-28T05:58:26Z\",\"serviceEndpoint\":\"topbobjogh\",\"resourceProviderObjectId\":\"w\"},\"location\":\"m\",\"tags\":{\"t\":\"rzayv\",\"ln\":\"gvdfgiotkftutq\",\"qmi\":\"xlefgugnxkrx\",\"abhjybi\":\"tthzrvqd\"},\"id\":\"ehoqfbowskan\",\"name\":\"ktzlcuiywg\",\"type\":\"ywgndrv\"},{\"identity\":{\"principalId\":\"58963884-83fd-4e93-9a8e-7e5e829c8108\",\"tenantId\":\"a2068eb8-e2e8-447a-954f-fb41d5676cdf\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"cgyncocpecf\":{\"principalId\":\"96523ad9-5f7d-4c13-9d89-8cdc51eefeea\",\"clientId\":\"303c2458-d554-4d22-86f2-278b19eefc47\"},\"coofsxlzev\":{\"principalId\":\"27dc2d7b-94b6-464e-91a0-70a339415bfa\",\"clientId\":\"9a620650-6537-4644-8f4d-45b177b04305\"},\"qjqabcypmivkwl\":{\"principalId\":\"33ae2fee-9e71-4b63-a29a-0281928573ee\",\"clientId\":\"f5694c88-f213-46db-a5d2-feae60c58e84\"}}},\"properties\":{\"provisioningState\":\"DisableInProgress\",\"status\":\"NotSpecified\",\"connectivityStatus\":\"NotYetRegistered\",\"cloudId\":\"nbacfi\",\"cloudManagementEndpoint\":\"l\",\"aadClientId\":\"x\",\"aadTenantId\":\"qgtz\",\"aadApplicationObjectId\":\"pnqbqqwxrjfe\",\"aadServicePrincipalObjectId\":\"lnwsubisn\",\"softwareAssuranceProperties\":{\"softwareAssuranceStatus\":\"Enabled\",\"softwareAssuranceIntent\":\"Disable\",\"lastUpdated\":\"2021-03-01T16:11:14Z\"},\"desiredProperties\":{\"windowsServerSubscription\":\"Disabled\",\"diagnosticLevel\":\"Basic\"},\"reportedProperties\":{\"clusterName\":\"ooch\",\"clusterId\":\"onq\",\"clusterVersion\":\"kvlrxnj\",\"nodes\":[{},{}],\"lastUpdated\":\"2021-02-05T10:28:18Z\",\"imdsAttestation\":\"Enabled\",\"diagnosticLevel\":\"Off\",\"supportedCapabilities\":[\"okeyyienj\",\"dlwtgrhpdj\"],\"clusterType\":\"ThirdParty\",\"manufacturer\":\"asxazjpqyegualhb\",\"oemActivation\":\"Disabled\"},\"isolatedVmAttestationConfiguration\":{\"attestationResourceId\":\"jzzvdud\",\"relyingPartyServiceEndpoint\":\"dslfhotwmcy\",\"attestationServiceEndpoint\":\"wlbjnpgacftade\"},\"trialDaysRemaining\":97.39918,\"billingModel\":\"tyfsoppusuesn\",\"registrationTimestamp\":\"2021-09-06T02:27:12Z\",\"lastSyncTimestamp\":\"2021-01-14T15:45:02Z\",\"lastBillingTimestamp\":\"2021-09-18T23:27:19Z\",\"serviceEndpoint\":\"orxzdmohctbqvud\",\"resourceProviderObjectId\":\"dndnvow\"},\"location\":\"jjugwdkcglhslaz\",\"tags\":{\"jixhbk\":\"ggd\",\"fwhybcibvy\":\"ofqweykhmenevfye\",\"ynnaam\":\"dcsi\"},\"id\":\"ectehf\",\"name\":\"qsc\",\"type\":\"eypvhezrkg\"},{\"identity\":{\"principalId\":\"2a9166ab-d77f-4da0-91a8-929d4742d629\",\"tenantId\":\"a676eff6-73ef-4faf-8103-90996dd122c0\",\"type\":\"SystemAssigned, UserAssigned\",\"userAssignedIdentities\":{\"gm\":{\"principalId\":\"2a7f0cfe-d791-415b-8b09-af2781a7d25f\",\"clientId\":\"65604b86-33d1-45d8-8ec6-70230d8aced1\"},\"leyyvx\":{\"principalId\":\"974ebce8-bade-432c-ad5b-e81a6b4ed070\",\"clientId\":\"931030e3-aec4-4532-806b-6ea4352f83c6\"},\"pkc\":{\"principalId\":\"c5437805-70c6-4af1-ae4d-f8910b7a0b70\",\"clientId\":\"d81c60f5-384e-481c-be4f-34870f347c23\"},\"pngjcrcczsqpjhvm\":{\"principalId\":\"29c86d67-beda-4039-932e-4b22e7c9fdf7\",\"clientId\":\"a35a3c08-9b6b-492d-8beb-f2359bd6c325\"}}},\"properties\":{\"provisioningState\":\"Moving\",\"status\":\"Succeeded\",\"connectivityStatus\":\"Disconnected\",\"cloudId\":\"nqecanoaeup\",\"cloudManagementEndpoint\":\"yhltrpmopjmcm\",\"aadClientId\":\"u\",\"aadTenantId\":\"thfuiuaodsfcpkvx\",\"aadApplicationObjectId\":\"puozmyzydag\",\"aadServicePrincipalObjectId\":\"axbezyiuo\",\"softwareAssuranceProperties\":{\"softwareAssuranceStatus\":\"Disabled\",\"softwareAssuranceIntent\":\"Disable\",\"lastUpdated\":\"2021-09-10T15:31:21Z\"},\"desiredProperties\":{\"windowsServerSubscription\":\"Enabled\",\"diagnosticLevel\":\"Basic\"},\"reportedProperties\":{\"clusterName\":\"bsureximo\",\"clusterId\":\"ocfs\",\"clusterVersion\":\"s\",\"nodes\":[{},{},{},{}],\"lastUpdated\":\"2021-01-31T18:49:05Z\",\"imdsAttestation\":\"Disabled\",\"diagnosticLevel\":\"Off\",\"supportedCapabilities\":[\"xhqyudxorrqnb\"],\"clusterType\":\"FirstParty\",\"manufacturer\":\"vyifqrvkdvjsl\",\"oemActivation\":\"Disabled\"},\"isolatedVmAttestationConfiguration\":{\"attestationResourceId\":\"d\",\"relyingPartyServiceEndpoint\":\"atkpnp\",\"attestationServiceEndpoint\":\"exxbczwtr\"},\"trialDaysRemaining\":25.228268,\"billingModel\":\"zb\",\"registrationTimestamp\":\"2021-02-10T16:58:51Z\",\"lastSyncTimestamp\":\"2021-10-26T05:51:52Z\",\"lastBillingTimestamp\":\"2021-01-03T16:48:03Z\",\"serviceEndpoint\":\"okacspk\",\"resourceProviderObjectId\":\"hzdobpxjmflbvvnc\"},\"location\":\"kcciwwzjuqkhr\",\"tags\":{\"ghsauuimjmvxied\":\"iwkuofos\",\"byao\":\"ugidyjrr\",\"xc\":\"v\",\"hocohslkev\":\"onpc\"},\"id\":\"eggzfb\",\"name\":\"hfmvfaxkffe\",\"type\":\"ithlvmezyvshxm\"}],\"nextLink\":\"bbzoggig\"}")
            .toObject(ClusterList.class);
        Assertions.assertEquals("byxqabn", model.value().get(0).location());
        Assertions.assertEquals("pcyshu", model.value().get(0).tags().get("zafb"));
        Assertions.assertEquals(ManagedServiceIdentityType.NONE, model.value().get(0).typeIdentityType());
        Assertions.assertEquals("nruj", model.value().get(0).cloudManagementEndpoint());
        Assertions.assertEquals("uhmuouqfprwzwbn", model.value().get(0).aadClientId());
        Assertions.assertEquals("itnwuizgazxufi", model.value().get(0).aadTenantId());
        Assertions.assertEquals("ckyfih", model.value().get(0).aadApplicationObjectId());
        Assertions.assertEquals("idf", model.value().get(0).aadServicePrincipalObjectId());
        Assertions.assertEquals(SoftwareAssuranceIntent.ENABLE,
            model.value().get(0).softwareAssuranceProperties().softwareAssuranceIntent());
        Assertions.assertEquals(WindowsServerSubscription.DISABLED,
            model.value().get(0).desiredProperties().windowsServerSubscription());
        Assertions.assertEquals(DiagnosticLevel.BASIC, model.value().get(0).desiredProperties().diagnosticLevel());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ClusterList model = new ClusterList().withValue(Arrays.asList(
            new ClusterInner().withLocation("byxqabn")
                .withTags(mapOf("zafb", "pcyshu"))
                .withTypeIdentityType(ManagedServiceIdentityType.NONE)
                .withUserAssignedIdentities(
                    mapOf("jyj", new UserAssignedIdentity(), "aoyfhrtxilnerkuj", new UserAssignedIdentity(), "l",
                        new UserAssignedIdentity(), "vfqawrlyxwjkcpr", new UserAssignedIdentity()))
                .withCloudManagementEndpoint("nruj")
                .withAadClientId("uhmuouqfprwzwbn")
                .withAadTenantId("itnwuizgazxufi")
                .withAadApplicationObjectId("ckyfih")
                .withAadServicePrincipalObjectId("idf")
                .withSoftwareAssuranceProperties(
                    new SoftwareAssuranceProperties().withSoftwareAssuranceIntent(SoftwareAssuranceIntent.ENABLE))
                .withDesiredProperties(
                    new ClusterDesiredProperties().withWindowsServerSubscription(WindowsServerSubscription.DISABLED)
                        .withDiagnosticLevel(DiagnosticLevel.BASIC)),
            new ClusterInner().withLocation("m")
                .withTags(mapOf("t", "rzayv", "ln", "gvdfgiotkftutq", "qmi", "xlefgugnxkrx", "abhjybi", "tthzrvqd"))
                .withTypeIdentityType(ManagedServiceIdentityType.USER_ASSIGNED)
                .withUserAssignedIdentities(mapOf("rlkhbzhfepgzgq", new UserAssignedIdentity()))
                .withCloudManagementEndpoint("csglum")
                .withAadClientId("jtjaodxobnbdxkq")
                .withAadTenantId("okaj")
                .withAadApplicationObjectId("npime")
                .withAadServicePrincipalObjectId("stxgc")
                .withSoftwareAssuranceProperties(
                    new SoftwareAssuranceProperties().withSoftwareAssuranceIntent(SoftwareAssuranceIntent.ENABLE))
                .withDesiredProperties(
                    new ClusterDesiredProperties().withWindowsServerSubscription(WindowsServerSubscription.ENABLED)
                        .withDiagnosticLevel(DiagnosticLevel.BASIC)),
            new ClusterInner().withLocation("jjugwdkcglhslaz")
                .withTags(mapOf("jixhbk", "ggd", "fwhybcibvy", "ofqweykhmenevfye", "ynnaam", "dcsi"))
                .withTypeIdentityType(ManagedServiceIdentityType.USER_ASSIGNED)
                .withUserAssignedIdentities(mapOf("cgyncocpecf", new UserAssignedIdentity(), "coofsxlzev",
                    new UserAssignedIdentity(), "qjqabcypmivkwl", new UserAssignedIdentity()))
                .withCloudManagementEndpoint("l")
                .withAadClientId("x")
                .withAadTenantId("qgtz")
                .withAadApplicationObjectId("pnqbqqwxrjfe")
                .withAadServicePrincipalObjectId("lnwsubisn")
                .withSoftwareAssuranceProperties(
                    new SoftwareAssuranceProperties().withSoftwareAssuranceIntent(SoftwareAssuranceIntent.DISABLE))
                .withDesiredProperties(
                    new ClusterDesiredProperties().withWindowsServerSubscription(WindowsServerSubscription.DISABLED)
                        .withDiagnosticLevel(DiagnosticLevel.BASIC)),
            new ClusterInner().withLocation("kcciwwzjuqkhr")
                .withTags(mapOf("ghsauuimjmvxied", "iwkuofos", "byao", "ugidyjrr", "xc", "v", "hocohslkev", "onpc"))
                .withTypeIdentityType(ManagedServiceIdentityType.SYSTEM_ASSIGNED_USER_ASSIGNED)
                .withUserAssignedIdentities(
                    mapOf("gm", new UserAssignedIdentity(), "leyyvx", new UserAssignedIdentity(), "pkc",
                        new UserAssignedIdentity(), "pngjcrcczsqpjhvm", new UserAssignedIdentity()))
                .withCloudManagementEndpoint("yhltrpmopjmcm")
                .withAadClientId("u")
                .withAadTenantId("thfuiuaodsfcpkvx")
                .withAadApplicationObjectId("puozmyzydag")
                .withAadServicePrincipalObjectId("axbezyiuo")
                .withSoftwareAssuranceProperties(
                    new SoftwareAssuranceProperties().withSoftwareAssuranceIntent(SoftwareAssuranceIntent.DISABLE))
                .withDesiredProperties(
                    new ClusterDesiredProperties().withWindowsServerSubscription(WindowsServerSubscription.ENABLED)
                        .withDiagnosticLevel(DiagnosticLevel.BASIC))));
        model = BinaryData.fromObject(model).toObject(ClusterList.class);
        Assertions.assertEquals("byxqabn", model.value().get(0).location());
        Assertions.assertEquals("pcyshu", model.value().get(0).tags().get("zafb"));
        Assertions.assertEquals(ManagedServiceIdentityType.NONE, model.value().get(0).typeIdentityType());
        Assertions.assertEquals("nruj", model.value().get(0).cloudManagementEndpoint());
        Assertions.assertEquals("uhmuouqfprwzwbn", model.value().get(0).aadClientId());
        Assertions.assertEquals("itnwuizgazxufi", model.value().get(0).aadTenantId());
        Assertions.assertEquals("ckyfih", model.value().get(0).aadApplicationObjectId());
        Assertions.assertEquals("idf", model.value().get(0).aadServicePrincipalObjectId());
        Assertions.assertEquals(SoftwareAssuranceIntent.ENABLE,
            model.value().get(0).softwareAssuranceProperties().softwareAssuranceIntent());
        Assertions.assertEquals(WindowsServerSubscription.DISABLED,
            model.value().get(0).desiredProperties().windowsServerSubscription());
        Assertions.assertEquals(DiagnosticLevel.BASIC, model.value().get(0).desiredProperties().diagnosticLevel());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
