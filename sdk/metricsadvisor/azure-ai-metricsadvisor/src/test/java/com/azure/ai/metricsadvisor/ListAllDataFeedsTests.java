// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.ai.metricsadvisor;

import com.azure.ai.metricsadvisor.models.DataFeedDetail;
import com.azure.ai.metricsadvisor.models.ListDataFeedFilter;
import com.azure.ai.metricsadvisor.models.ListDataFeedOptions;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.util.Context;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class ListAllDataFeedsTests extends com.azure.ai.metricsadvisor.MetricsAdvisorClientTestBase {
    @Test
    public void testListAllDataFeedsTests() {
        String name = "Sample - cost/revenue - city/category";
        PagedIterable<DataFeedDetail> response = metricsAdvisorClient.listDataFeeds(new ListDataFeedOptions()
            .setListDataFeedFilter(new ListDataFeedFilter().setName(name)), Context.NONE);
        Assertions.assertEquals(200, response.iterableByPage().iterator().next().getStatusCode());
        Assertions.assertTrue(response.stream().anyMatch(d -> d.getDataFeedName().equals(name)));
    }
}
