// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.mediaservices.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyRestrictionTokenKey;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyRestrictionTokenType;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyTokenClaim;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyTokenRestriction;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class ContentKeyPolicyTokenRestrictionTests {
    @Test
    public void testDeserialize() {
        ContentKeyPolicyTokenRestriction model =
            BinaryData
                .fromString(
                    "{\"@odata.type\":\"#Microsoft.Media.ContentKeyPolicyTokenRestriction\",\"issuer\":\"tqxepn\",\"audience\":\"lbfu\",\"primaryVerificationKey\":{\"@odata.type\":\"ContentKeyPolicyRestrictionTokenKey\"},\"alternateVerificationKeys\":[{\"@odata.type\":\"ContentKeyPolicyRestrictionTokenKey\"}],\"requiredClaims\":[{\"claimType\":\"lvofqzhvfcibyfmo\",\"claimValue\":\"xrkjpvdw\"},{\"claimType\":\"zwiivwzjbhyzs\",\"claimValue\":\"rkambt\"},{\"claimType\":\"egv\",\"claimValue\":\"vuqeqvldspast\"},{\"claimType\":\"kkdmfl\",\"claimValue\":\"stmjlxrri\"}],\"restrictionTokenType\":\"Jwt\",\"openIdConnectDiscoveryDocument\":\"apeewchpxlkt\"}")
                .toObject(ContentKeyPolicyTokenRestriction.class);
        Assertions.assertEquals("tqxepn", model.issuer());
        Assertions.assertEquals("lbfu", model.audience());
        Assertions.assertEquals("lvofqzhvfcibyfmo", model.requiredClaims().get(0).claimType());
        Assertions.assertEquals("xrkjpvdw", model.requiredClaims().get(0).claimValue());
        Assertions.assertEquals(ContentKeyPolicyRestrictionTokenType.JWT, model.restrictionTokenType());
        Assertions.assertEquals("apeewchpxlkt", model.openIdConnectDiscoveryDocument());
    }

    @Test
    public void testSerialize() {
        ContentKeyPolicyTokenRestriction model =
            new ContentKeyPolicyTokenRestriction()
                .withIssuer("tqxepn")
                .withAudience("lbfu")
                .withPrimaryVerificationKey(new ContentKeyPolicyRestrictionTokenKey())
                .withAlternateVerificationKeys(Arrays.asList(new ContentKeyPolicyRestrictionTokenKey()))
                .withRequiredClaims(
                    Arrays
                        .asList(
                            new ContentKeyPolicyTokenClaim()
                                .withClaimType("lvofqzhvfcibyfmo")
                                .withClaimValue("xrkjpvdw"),
                            new ContentKeyPolicyTokenClaim().withClaimType("zwiivwzjbhyzs").withClaimValue("rkambt"),
                            new ContentKeyPolicyTokenClaim().withClaimType("egv").withClaimValue("vuqeqvldspast"),
                            new ContentKeyPolicyTokenClaim().withClaimType("kkdmfl").withClaimValue("stmjlxrri")))
                .withRestrictionTokenType(ContentKeyPolicyRestrictionTokenType.JWT)
                .withOpenIdConnectDiscoveryDocument("apeewchpxlkt");
        model = BinaryData.fromObject(model).toObject(ContentKeyPolicyTokenRestriction.class);
        Assertions.assertEquals("tqxepn", model.issuer());
        Assertions.assertEquals("lbfu", model.audience());
        Assertions.assertEquals("lvofqzhvfcibyfmo", model.requiredClaims().get(0).claimType());
        Assertions.assertEquals("xrkjpvdw", model.requiredClaims().get(0).claimValue());
        Assertions.assertEquals(ContentKeyPolicyRestrictionTokenType.JWT, model.restrictionTokenType());
        Assertions.assertEquals("apeewchpxlkt", model.openIdConnectDiscoveryDocument());
    }
}
