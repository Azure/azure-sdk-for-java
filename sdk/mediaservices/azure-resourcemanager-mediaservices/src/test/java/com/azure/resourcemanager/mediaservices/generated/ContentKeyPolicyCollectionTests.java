// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.mediaservices.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.mediaservices.fluent.models.ContentKeyPolicyInner;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyCollection;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyConfiguration;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyOption;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyRestriction;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ContentKeyPolicyCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ContentKeyPolicyCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"policyId\":\"a335daa4-0c9a-4ca3-9392-53cd3ccb2049\",\"created\":\"2021-02-09T09:52:19Z\",\"lastModified\":\"2021-01-12T19:16:50Z\",\"description\":\"vseotgqrl\",\"options\":[{\"policyOptionId\":\"b4a96077-68bf-4f11-b840-6d957f96e543\",\"name\":\"wlauwzizxbmpg\",\"configuration\":{\"@odata.type\":\"ContentKeyPolicyConfiguration\"},\"restriction\":{\"@odata.type\":\"ContentKeyPolicyRestriction\"}},{\"policyOptionId\":\"0286e28f-a11d-44aa-aca4-3f18a97b3165\",\"name\":\"fuzmuvpbtt\",\"configuration\":{\"@odata.type\":\"ContentKeyPolicyConfiguration\"},\"restriction\":{\"@odata.type\":\"ContentKeyPolicyRestriction\"}},{\"policyOptionId\":\"997cec0d-11a7-4714-86d2-097ce0864cab\",\"name\":\"orppxebmnzbtb\",\"configuration\":{\"@odata.type\":\"ContentKeyPolicyConfiguration\"},\"restriction\":{\"@odata.type\":\"ContentKeyPolicyRestriction\"}}]},\"id\":\"pglkf\",\"name\":\"ohdneuel\",\"type\":\"phsdyhto\"},{\"properties\":{\"policyId\":\"235151f2-c42f-43ca-b928-298a732250d1\",\"created\":\"2021-04-04T21:16:34Z\",\"lastModified\":\"2021-11-18T18:02:06Z\",\"description\":\"quuvxzxcl\",\"options\":[{\"policyOptionId\":\"a90d312d-874b-4d10-82ef-1ba10ed60c74\",\"name\":\"hqzonosggbhcoh\",\"configuration\":{\"@odata.type\":\"ContentKeyPolicyConfiguration\"},\"restriction\":{\"@odata.type\":\"ContentKeyPolicyRestriction\"}},{\"policyOptionId\":\"1c77e002-e70f-4733-9a71-87d9030be6da\",\"name\":\"sjnkal\",\"configuration\":{\"@odata.type\":\"ContentKeyPolicyConfiguration\"},\"restriction\":{\"@odata.type\":\"ContentKeyPolicyRestriction\"}}]},\"id\":\"tiiswacffg\",\"name\":\"k\",\"type\":\"zewk\"}],\"@odata.nextLink\":\"hqcrailvpnpp\"}")
            .toObject(ContentKeyPolicyCollection.class);
        Assertions.assertEquals("vseotgqrl", model.value().get(0).description());
        Assertions.assertEquals("wlauwzizxbmpg", model.value().get(0).options().get(0).name());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ContentKeyPolicyCollection model = new ContentKeyPolicyCollection().withValue(Arrays.asList(
            new ContentKeyPolicyInner().withDescription("vseotgqrl")
                .withOptions(Arrays.asList(
                    new ContentKeyPolicyOption().withName("wlauwzizxbmpg")
                        .withConfiguration(new ContentKeyPolicyConfiguration())
                        .withRestriction(new ContentKeyPolicyRestriction()),
                    new ContentKeyPolicyOption().withName("fuzmuvpbtt")
                        .withConfiguration(new ContentKeyPolicyConfiguration())
                        .withRestriction(new ContentKeyPolicyRestriction()),
                    new ContentKeyPolicyOption().withName("orppxebmnzbtb")
                        .withConfiguration(new ContentKeyPolicyConfiguration())
                        .withRestriction(new ContentKeyPolicyRestriction()))),
            new ContentKeyPolicyInner().withDescription("quuvxzxcl")
                .withOptions(Arrays.asList(
                    new ContentKeyPolicyOption().withName("hqzonosggbhcoh")
                        .withConfiguration(new ContentKeyPolicyConfiguration())
                        .withRestriction(new ContentKeyPolicyRestriction()),
                    new ContentKeyPolicyOption().withName("sjnkal")
                        .withConfiguration(new ContentKeyPolicyConfiguration())
                        .withRestriction(new ContentKeyPolicyRestriction())))));
        model = BinaryData.fromObject(model).toObject(ContentKeyPolicyCollection.class);
        Assertions.assertEquals("vseotgqrl", model.value().get(0).description());
        Assertions.assertEquals("wlauwzizxbmpg", model.value().get(0).options().get(0).name());
    }
}
