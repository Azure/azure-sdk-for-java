// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.mediaservices.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyPlayReadyConfiguration;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyPlayReadyContentKeyLocation;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyPlayReadyContentType;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyPlayReadyLicense;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyPlayReadyLicenseType;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyPlayReadyPlayRight;
import com.azure.resourcemanager.mediaservices.models.ContentKeyPolicyPlayReadyUnknownOutputPassingOption;
import java.time.Duration;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class ContentKeyPolicyPlayReadyConfigurationTests {
    @Test
    public void testDeserialize() {
        ContentKeyPolicyPlayReadyConfiguration model =
            BinaryData
                .fromString(
                    "{\"@odata.type\":\"#Microsoft.Media.ContentKeyPolicyPlayReadyConfiguration\",\"licenses\":[{\"allowTestDevices\":false,\"beginDate\":\"2021-06-26T17:11:18Z\",\"expirationDate\":\"2021-07-18T01:41:15Z\",\"relativeBeginDate\":\"PT9H58M42S\",\"relativeExpirationDate\":\"PT209H17M6S\",\"gracePeriod\":\"PT187H37M53S\",\"playRight\":{\"firstPlayExpiration\":\"PT172H24M8S\",\"scmsRestriction\":1002446412,\"agcAndColorStripeRestriction\":950056847,\"digitalVideoOnlyContentRestriction\":false,\"imageConstraintForAnalogComponentVideoRestriction\":false,\"imageConstraintForAnalogComputerMonitorRestriction\":true,\"allowPassingVideoContentToUnknownOutput\":\"Unknown\",\"uncompressedDigitalVideoOpl\":201174669,\"compressedDigitalVideoOpl\":401684399,\"analogVideoOpl\":360309363,\"compressedDigitalAudioOpl\":1606634891,\"uncompressedDigitalAudioOpl\":1543856769},\"licenseType\":\"Persistent\",\"contentKeyLocation\":{\"@odata.type\":\"ContentKeyPolicyPlayReadyContentKeyLocation\"},\"contentType\":\"Unspecified\"},{\"allowTestDevices\":false,\"beginDate\":\"2021-01-20T06:37:50Z\",\"expirationDate\":\"2021-01-11T16:25:49Z\",\"relativeBeginDate\":\"PT14H44M36S\",\"relativeExpirationDate\":\"PT221H22M26S\",\"gracePeriod\":\"PT60H17M49S\",\"playRight\":{\"firstPlayExpiration\":\"PT13H1M31S\",\"scmsRestriction\":1702697228,\"agcAndColorStripeRestriction\":726969242,\"digitalVideoOnlyContentRestriction\":false,\"imageConstraintForAnalogComponentVideoRestriction\":true,\"imageConstraintForAnalogComputerMonitorRestriction\":false,\"allowPassingVideoContentToUnknownOutput\":\"NotAllowed\",\"uncompressedDigitalVideoOpl\":559055127,\"compressedDigitalVideoOpl\":1383258036,\"analogVideoOpl\":289007834,\"compressedDigitalAudioOpl\":408345247,\"uncompressedDigitalAudioOpl\":1925116648},\"licenseType\":\"Persistent\",\"contentKeyLocation\":{\"@odata.type\":\"ContentKeyPolicyPlayReadyContentKeyLocation\"},\"contentType\":\"Unspecified\"},{\"allowTestDevices\":false,\"beginDate\":\"2021-03-13T03:48:40Z\",\"expirationDate\":\"2021-01-08T21:19:01Z\",\"relativeBeginDate\":\"PT90H15M52S\",\"relativeExpirationDate\":\"PT25H37M\",\"gracePeriod\":\"PT169H32M22S\",\"playRight\":{\"firstPlayExpiration\":\"PT69H39M36S\",\"scmsRestriction\":1970549549,\"agcAndColorStripeRestriction\":566063527,\"digitalVideoOnlyContentRestriction\":false,\"imageConstraintForAnalogComponentVideoRestriction\":false,\"imageConstraintForAnalogComputerMonitorRestriction\":false,\"allowPassingVideoContentToUnknownOutput\":\"NotAllowed\",\"uncompressedDigitalVideoOpl\":675680646,\"compressedDigitalVideoOpl\":635512255,\"analogVideoOpl\":2090573911,\"compressedDigitalAudioOpl\":789950787,\"uncompressedDigitalAudioOpl\":443285023},\"licenseType\":\"Persistent\",\"contentKeyLocation\":{\"@odata.type\":\"ContentKeyPolicyPlayReadyContentKeyLocation\"},\"contentType\":\"Unknown\"},{\"allowTestDevices\":true,\"beginDate\":\"2021-04-30T06:35:53Z\",\"expirationDate\":\"2021-09-19T17:45:42Z\",\"relativeBeginDate\":\"PT140H26S\",\"relativeExpirationDate\":\"PT12H33M53S\",\"gracePeriod\":\"PT207H3M20S\",\"playRight\":{\"firstPlayExpiration\":\"PT226H14M30S\",\"scmsRestriction\":1808660907,\"agcAndColorStripeRestriction\":2022094145,\"digitalVideoOnlyContentRestriction\":false,\"imageConstraintForAnalogComponentVideoRestriction\":true,\"imageConstraintForAnalogComputerMonitorRestriction\":true,\"allowPassingVideoContentToUnknownOutput\":\"Unknown\",\"uncompressedDigitalVideoOpl\":47458099,\"compressedDigitalVideoOpl\":235772258,\"analogVideoOpl\":2070422255,\"compressedDigitalAudioOpl\":244749255,\"uncompressedDigitalAudioOpl\":1339269194},\"licenseType\":\"Persistent\",\"contentKeyLocation\":{\"@odata.type\":\"ContentKeyPolicyPlayReadyContentKeyLocation\"},\"contentType\":\"UltraVioletDownload\"}],\"responseCustomData\":\"xhom\"}")
                .toObject(ContentKeyPolicyPlayReadyConfiguration.class);
        Assertions.assertEquals(false, model.licenses().get(0).allowTestDevices());
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-26T17:11:18Z"), model.licenses().get(0).beginDate());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-18T01:41:15Z"), model.licenses().get(0).expirationDate());
        Assertions.assertEquals(Duration.parse("PT9H58M42S"), model.licenses().get(0).relativeBeginDate());
        Assertions.assertEquals(Duration.parse("PT209H17M6S"), model.licenses().get(0).relativeExpirationDate());
        Assertions.assertEquals(Duration.parse("PT187H37M53S"), model.licenses().get(0).gracePeriod());
        Assertions
            .assertEquals(Duration.parse("PT172H24M8S"), model.licenses().get(0).playRight().firstPlayExpiration());
        Assertions.assertEquals(1002446412, model.licenses().get(0).playRight().scmsRestriction());
        Assertions.assertEquals(950056847, model.licenses().get(0).playRight().agcAndColorStripeRestriction());
        Assertions.assertEquals(false, model.licenses().get(0).playRight().digitalVideoOnlyContentRestriction());
        Assertions
            .assertEquals(
                false, model.licenses().get(0).playRight().imageConstraintForAnalogComponentVideoRestriction());
        Assertions
            .assertEquals(
                true, model.licenses().get(0).playRight().imageConstraintForAnalogComputerMonitorRestriction());
        Assertions
            .assertEquals(
                ContentKeyPolicyPlayReadyUnknownOutputPassingOption.UNKNOWN,
                model.licenses().get(0).playRight().allowPassingVideoContentToUnknownOutput());
        Assertions.assertEquals(201174669, model.licenses().get(0).playRight().uncompressedDigitalVideoOpl());
        Assertions.assertEquals(401684399, model.licenses().get(0).playRight().compressedDigitalVideoOpl());
        Assertions.assertEquals(360309363, model.licenses().get(0).playRight().analogVideoOpl());
        Assertions.assertEquals(1606634891, model.licenses().get(0).playRight().compressedDigitalAudioOpl());
        Assertions.assertEquals(1543856769, model.licenses().get(0).playRight().uncompressedDigitalAudioOpl());
        Assertions.assertEquals(ContentKeyPolicyPlayReadyLicenseType.PERSISTENT, model.licenses().get(0).licenseType());
        Assertions
            .assertEquals(ContentKeyPolicyPlayReadyContentType.UNSPECIFIED, model.licenses().get(0).contentType());
        Assertions.assertEquals("xhom", model.responseCustomData());
    }

    @Test
    public void testSerialize() {
        ContentKeyPolicyPlayReadyConfiguration model =
            new ContentKeyPolicyPlayReadyConfiguration()
                .withLicenses(
                    Arrays
                        .asList(
                            new ContentKeyPolicyPlayReadyLicense()
                                .withAllowTestDevices(false)
                                .withBeginDate(OffsetDateTime.parse("2021-06-26T17:11:18Z"))
                                .withExpirationDate(OffsetDateTime.parse("2021-07-18T01:41:15Z"))
                                .withRelativeBeginDate(Duration.parse("PT9H58M42S"))
                                .withRelativeExpirationDate(Duration.parse("PT209H17M6S"))
                                .withGracePeriod(Duration.parse("PT187H37M53S"))
                                .withPlayRight(
                                    new ContentKeyPolicyPlayReadyPlayRight()
                                        .withFirstPlayExpiration(Duration.parse("PT172H24M8S"))
                                        .withScmsRestriction(1002446412)
                                        .withAgcAndColorStripeRestriction(950056847)
                                        .withDigitalVideoOnlyContentRestriction(false)
                                        .withImageConstraintForAnalogComponentVideoRestriction(false)
                                        .withImageConstraintForAnalogComputerMonitorRestriction(true)
                                        .withAllowPassingVideoContentToUnknownOutput(
                                            ContentKeyPolicyPlayReadyUnknownOutputPassingOption.UNKNOWN)
                                        .withUncompressedDigitalVideoOpl(201174669)
                                        .withCompressedDigitalVideoOpl(401684399)
                                        .withAnalogVideoOpl(360309363)
                                        .withCompressedDigitalAudioOpl(1606634891)
                                        .withUncompressedDigitalAudioOpl(1543856769))
                                .withLicenseType(ContentKeyPolicyPlayReadyLicenseType.PERSISTENT)
                                .withContentKeyLocation(new ContentKeyPolicyPlayReadyContentKeyLocation())
                                .withContentType(ContentKeyPolicyPlayReadyContentType.UNSPECIFIED),
                            new ContentKeyPolicyPlayReadyLicense()
                                .withAllowTestDevices(false)
                                .withBeginDate(OffsetDateTime.parse("2021-01-20T06:37:50Z"))
                                .withExpirationDate(OffsetDateTime.parse("2021-01-11T16:25:49Z"))
                                .withRelativeBeginDate(Duration.parse("PT14H44M36S"))
                                .withRelativeExpirationDate(Duration.parse("PT221H22M26S"))
                                .withGracePeriod(Duration.parse("PT60H17M49S"))
                                .withPlayRight(
                                    new ContentKeyPolicyPlayReadyPlayRight()
                                        .withFirstPlayExpiration(Duration.parse("PT13H1M31S"))
                                        .withScmsRestriction(1702697228)
                                        .withAgcAndColorStripeRestriction(726969242)
                                        .withDigitalVideoOnlyContentRestriction(false)
                                        .withImageConstraintForAnalogComponentVideoRestriction(true)
                                        .withImageConstraintForAnalogComputerMonitorRestriction(false)
                                        .withAllowPassingVideoContentToUnknownOutput(
                                            ContentKeyPolicyPlayReadyUnknownOutputPassingOption.NOT_ALLOWED)
                                        .withUncompressedDigitalVideoOpl(559055127)
                                        .withCompressedDigitalVideoOpl(1383258036)
                                        .withAnalogVideoOpl(289007834)
                                        .withCompressedDigitalAudioOpl(408345247)
                                        .withUncompressedDigitalAudioOpl(1925116648))
                                .withLicenseType(ContentKeyPolicyPlayReadyLicenseType.PERSISTENT)
                                .withContentKeyLocation(new ContentKeyPolicyPlayReadyContentKeyLocation())
                                .withContentType(ContentKeyPolicyPlayReadyContentType.UNSPECIFIED),
                            new ContentKeyPolicyPlayReadyLicense()
                                .withAllowTestDevices(false)
                                .withBeginDate(OffsetDateTime.parse("2021-03-13T03:48:40Z"))
                                .withExpirationDate(OffsetDateTime.parse("2021-01-08T21:19:01Z"))
                                .withRelativeBeginDate(Duration.parse("PT90H15M52S"))
                                .withRelativeExpirationDate(Duration.parse("PT25H37M"))
                                .withGracePeriod(Duration.parse("PT169H32M22S"))
                                .withPlayRight(
                                    new ContentKeyPolicyPlayReadyPlayRight()
                                        .withFirstPlayExpiration(Duration.parse("PT69H39M36S"))
                                        .withScmsRestriction(1970549549)
                                        .withAgcAndColorStripeRestriction(566063527)
                                        .withDigitalVideoOnlyContentRestriction(false)
                                        .withImageConstraintForAnalogComponentVideoRestriction(false)
                                        .withImageConstraintForAnalogComputerMonitorRestriction(false)
                                        .withAllowPassingVideoContentToUnknownOutput(
                                            ContentKeyPolicyPlayReadyUnknownOutputPassingOption.NOT_ALLOWED)
                                        .withUncompressedDigitalVideoOpl(675680646)
                                        .withCompressedDigitalVideoOpl(635512255)
                                        .withAnalogVideoOpl(2090573911)
                                        .withCompressedDigitalAudioOpl(789950787)
                                        .withUncompressedDigitalAudioOpl(443285023))
                                .withLicenseType(ContentKeyPolicyPlayReadyLicenseType.PERSISTENT)
                                .withContentKeyLocation(new ContentKeyPolicyPlayReadyContentKeyLocation())
                                .withContentType(ContentKeyPolicyPlayReadyContentType.UNKNOWN),
                            new ContentKeyPolicyPlayReadyLicense()
                                .withAllowTestDevices(true)
                                .withBeginDate(OffsetDateTime.parse("2021-04-30T06:35:53Z"))
                                .withExpirationDate(OffsetDateTime.parse("2021-09-19T17:45:42Z"))
                                .withRelativeBeginDate(Duration.parse("PT140H26S"))
                                .withRelativeExpirationDate(Duration.parse("PT12H33M53S"))
                                .withGracePeriod(Duration.parse("PT207H3M20S"))
                                .withPlayRight(
                                    new ContentKeyPolicyPlayReadyPlayRight()
                                        .withFirstPlayExpiration(Duration.parse("PT226H14M30S"))
                                        .withScmsRestriction(1808660907)
                                        .withAgcAndColorStripeRestriction(2022094145)
                                        .withDigitalVideoOnlyContentRestriction(false)
                                        .withImageConstraintForAnalogComponentVideoRestriction(true)
                                        .withImageConstraintForAnalogComputerMonitorRestriction(true)
                                        .withAllowPassingVideoContentToUnknownOutput(
                                            ContentKeyPolicyPlayReadyUnknownOutputPassingOption.UNKNOWN)
                                        .withUncompressedDigitalVideoOpl(47458099)
                                        .withCompressedDigitalVideoOpl(235772258)
                                        .withAnalogVideoOpl(2070422255)
                                        .withCompressedDigitalAudioOpl(244749255)
                                        .withUncompressedDigitalAudioOpl(1339269194))
                                .withLicenseType(ContentKeyPolicyPlayReadyLicenseType.PERSISTENT)
                                .withContentKeyLocation(new ContentKeyPolicyPlayReadyContentKeyLocation())
                                .withContentType(ContentKeyPolicyPlayReadyContentType.ULTRA_VIOLET_DOWNLOAD)))
                .withResponseCustomData("xhom");
        model = BinaryData.fromObject(model).toObject(ContentKeyPolicyPlayReadyConfiguration.class);
        Assertions.assertEquals(false, model.licenses().get(0).allowTestDevices());
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-26T17:11:18Z"), model.licenses().get(0).beginDate());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-18T01:41:15Z"), model.licenses().get(0).expirationDate());
        Assertions.assertEquals(Duration.parse("PT9H58M42S"), model.licenses().get(0).relativeBeginDate());
        Assertions.assertEquals(Duration.parse("PT209H17M6S"), model.licenses().get(0).relativeExpirationDate());
        Assertions.assertEquals(Duration.parse("PT187H37M53S"), model.licenses().get(0).gracePeriod());
        Assertions
            .assertEquals(Duration.parse("PT172H24M8S"), model.licenses().get(0).playRight().firstPlayExpiration());
        Assertions.assertEquals(1002446412, model.licenses().get(0).playRight().scmsRestriction());
        Assertions.assertEquals(950056847, model.licenses().get(0).playRight().agcAndColorStripeRestriction());
        Assertions.assertEquals(false, model.licenses().get(0).playRight().digitalVideoOnlyContentRestriction());
        Assertions
            .assertEquals(
                false, model.licenses().get(0).playRight().imageConstraintForAnalogComponentVideoRestriction());
        Assertions
            .assertEquals(
                true, model.licenses().get(0).playRight().imageConstraintForAnalogComputerMonitorRestriction());
        Assertions
            .assertEquals(
                ContentKeyPolicyPlayReadyUnknownOutputPassingOption.UNKNOWN,
                model.licenses().get(0).playRight().allowPassingVideoContentToUnknownOutput());
        Assertions.assertEquals(201174669, model.licenses().get(0).playRight().uncompressedDigitalVideoOpl());
        Assertions.assertEquals(401684399, model.licenses().get(0).playRight().compressedDigitalVideoOpl());
        Assertions.assertEquals(360309363, model.licenses().get(0).playRight().analogVideoOpl());
        Assertions.assertEquals(1606634891, model.licenses().get(0).playRight().compressedDigitalAudioOpl());
        Assertions.assertEquals(1543856769, model.licenses().get(0).playRight().uncompressedDigitalAudioOpl());
        Assertions.assertEquals(ContentKeyPolicyPlayReadyLicenseType.PERSISTENT, model.licenses().get(0).licenseType());
        Assertions
            .assertEquals(ContentKeyPolicyPlayReadyContentType.UNSPECIFIED, model.licenses().get(0).contentType());
        Assertions.assertEquals("xhom", model.responseCustomData());
    }
}
