// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.networkcloud.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.networkcloud.NetworkCloudManager;
import com.azure.resourcemanager.networkcloud.models.ClusterManager;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentityType;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class ClusterManagersGetByResourceGroupWithResponseMockTests {
    @Test
    public void testGetByResourceGroupWithResponse() throws Exception {
        String responseStr
            = "{\"etag\":\"mwbzxpdc\",\"identity\":{\"principalId\":\"78f83374-d45d-452a-b799-8290f9499cec\",\"tenantId\":\"5f79b1cd-b9f0-4705-965c-64520b8ce174\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"laimouxwk\":{\"principalId\":\"f67fbfa3-d769-4b5c-9554-094f149a26ea\",\"clientId\":\"bab7b878-eea0-4783-a1b5-092ea1a18dd0\"}}},\"properties\":{\"analyticsWorkspaceId\":\"mud\",\"availabilityZones\":[\"oibi\",\"ziuswsw\",\"rk\",\"qsj\"],\"clusterVersions\":[{\"supportExpiryDate\":\"q\",\"targetClusterVersion\":\"fs\"},{\"supportExpiryDate\":\"rfwb\",\"targetClusterVersion\":\"qvogfuyz\"}],\"detailedStatus\":\"ProvisioningFailed\",\"detailedStatusMessage\":\"limbyqecroodlik\",\"fabricControllerId\":\"drdaasa\",\"managedResourceGroupConfiguration\":{\"location\":\"bsmfkwiyjvz\",\"name\":\"osrnawnvzmlnkoy\"},\"managerExtendedLocation\":{\"name\":\"xvjabjq\",\"type\":\"axuyvymcnud\"},\"provisioningState\":\"Provisioning\",\"vmSize\":\"bhjxwxqweuipmpv\"},\"location\":\"m\",\"tags\":{\"fhyrfrakk\":\"sqxtltclkrdpq\",\"rcwfcmfcnrjajq\":\"d\"},\"id\":\"atxjtiel\",\"name\":\"zqgxx\",\"type\":\"fbbmtlp\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        NetworkCloudManager manager = NetworkCloudManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        ClusterManager response = manager.clusterManagers()
            .getByResourceGroupWithResponse("ujd", "gatolekscbctnan", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals("m", response.location());
        Assertions.assertEquals("sqxtltclkrdpq", response.tags().get("fhyrfrakk"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, response.identity().type());
        Assertions.assertEquals("mud", response.analyticsWorkspaceId());
        Assertions.assertEquals("oibi", response.availabilityZones().get(0));
        Assertions.assertEquals("drdaasa", response.fabricControllerId());
        Assertions.assertEquals("bsmfkwiyjvz", response.managedResourceGroupConfiguration().location());
        Assertions.assertEquals("osrnawnvzmlnkoy", response.managedResourceGroupConfiguration().name());
        Assertions.assertEquals("bhjxwxqweuipmpv", response.vmSize());
    }
}
