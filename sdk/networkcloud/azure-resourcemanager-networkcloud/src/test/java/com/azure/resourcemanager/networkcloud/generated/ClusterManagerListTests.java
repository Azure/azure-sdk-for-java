// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.networkcloud.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.networkcloud.fluent.models.ClusterManagerInner;
import com.azure.resourcemanager.networkcloud.models.ClusterManagerList;
import com.azure.resourcemanager.networkcloud.models.ManagedResourceGroupConfiguration;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentity;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.networkcloud.models.UserAssignedIdentity;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ClusterManagerListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ClusterManagerList model = BinaryData.fromString(
            "{\"nextLink\":\"ali\",\"value\":[{\"identity\":{\"principalId\":\"6598dc1e-ce7a-4c62-b9b3-a7b5ac80b58c\",\"tenantId\":\"000c362e-394b-4a92-a3f9-e839120e0665\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"shsfwxosowzxcu\":{\"principalId\":\"7d6a14cd-dacf-46f5-bbe8-ff570a1d8453\",\"clientId\":\"d425d5c0-f198-44b7-a405-f4fc62c7a729\"},\"jooxdjebw\":{\"principalId\":\"7d4e0258-015f-4bf9-8862-5545facd022e\",\"clientId\":\"4bf29512-a5d4-4d36-9d30-23f49d46e791\"},\"wwfvov\":{\"principalId\":\"51ba056e-cd40-458d-b7ff-3cea737a752a\",\"clientId\":\"72754ae5-5d3c-4f82-bb6c-575f1e09ccaf\"}}},\"properties\":{\"analyticsWorkspaceId\":\"meue\",\"availabilityZones\":[\"yhz\",\"euojgjrwju\",\"iotwmcdytdxwit\",\"nrjawgqwg\"],\"clusterVersions\":[{\"supportExpiryDate\":\"skxfbk\",\"targetClusterVersion\":\"cg\"}],\"detailedStatus\":\"ProvisioningFailed\",\"detailedStatusMessage\":\"dnhjdauwhvylw\",\"fabricControllerId\":\"btdhxujznbm\",\"managedResourceGroupConfiguration\":{\"location\":\"uwprzql\",\"name\":\"ualupjmkh\"},\"managerExtendedLocation\":{\"name\":\"obbc\",\"type\":\"wsrtjriplrbpbe\"},\"provisioningState\":\"Updating\",\"vmSize\":\"fgb\"},\"location\":\"gw\",\"tags\":{\"ebwwaloayqc\":\"lvqhjkbegibtnmx\",\"uzgwyzmhtx\":\"wrtz\",\"wxqpsrknftguvri\":\"ngmtsavjcb\"},\"id\":\"hprwmdyv\",\"name\":\"qtayri\",\"type\":\"wroyqbexrmcq\"},{\"identity\":{\"principalId\":\"de3d5ffa-7226-4dda-883d-36cee956f853\",\"tenantId\":\"10a9504b-acb9-4600-b6d3-2030211e09d3\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"nmefqsgzvahapj\":{\"principalId\":\"5461d4ac-9653-443d-bcd6-9bc6e8a29158\",\"clientId\":\"143cdadd-c9ee-4f0a-a5bc-b1a281ab9cd8\"}}},\"properties\":{\"analyticsWorkspaceId\":\"hpvgqz\",\"availabilityZones\":[\"vxdjzlmwlxkvugf\",\"zovawjvz\",\"nluthnnp\"],\"clusterVersions\":[{\"supportExpiryDate\":\"peilpjzuaejxdu\",\"targetClusterVersion\":\"skzbb\"},{\"supportExpiryDate\":\"zumveekgpwo\",\"targetClusterVersion\":\"hkfpbs\"},{\"supportExpiryDate\":\"ofd\",\"targetClusterVersion\":\"uusdttouwa\"},{\"supportExpiryDate\":\"ekqvkeln\",\"targetClusterVersion\":\"vbxwyjsflhh\"}],\"detailedStatus\":\"Provisioning\",\"detailedStatusMessage\":\"n\",\"fabricControllerId\":\"ixisxyawjoy\",\"managedResourceGroupConfiguration\":{\"location\":\"slyjpkiid\",\"name\":\"exznelixhnr\"},\"managerExtendedLocation\":{\"name\":\"folhbnxknal\",\"type\":\"ulppggdtpnapnyir\"},\"provisioningState\":\"Updating\",\"vmSize\":\"pigvpgylgqgitx\"},\"location\":\"djvcsl\",\"tags\":{\"rmgucnap\":\"wwncwzzhxgk\",\"oellwp\":\"t\"},\"id\":\"fdygpfqbuaceopz\",\"name\":\"qrhhu\",\"type\":\"opppcqeq\"},{\"identity\":{\"principalId\":\"2224873b-4629-4513-9178-7e21b6aad767\",\"tenantId\":\"2cddde40-f287-4258-aeba-f1970d50808a\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"ctobg\":{\"principalId\":\"75c94e55-cfb1-4b30-bc30-875724824102\",\"clientId\":\"13705cfb-718a-4c40-b11a-024ca556ea43\"},\"moizpos\":{\"principalId\":\"2fc2fe2e-7388-490e-8594-77a22285f0ea\",\"clientId\":\"8dde4980-6304-43ed-90d1-473446e20429\"}}},\"properties\":{\"analyticsWorkspaceId\":\"grcfb\",\"availabilityZones\":[\"mfqjhhkxbp\",\"jy\",\"jhxxjyn\",\"u\"],\"clusterVersions\":[{\"supportExpiryDate\":\"r\",\"targetClusterVersion\":\"wbxqzvszjfau\"}],\"detailedStatus\":\"Available\",\"detailedStatusMessage\":\"xxivetv\",\"fabricControllerId\":\"cqaqtdoqmcbx\",\"managedResourceGroupConfiguration\":{\"location\":\"xyslqbh\",\"name\":\"xoblytkbl\"},\"managerExtendedLocation\":{\"name\":\"ewwwfbkrvrnsv\",\"type\":\"hqjohxcrsbfova\"},\"provisioningState\":\"Failed\",\"vmSize\":\"v\"},\"location\":\"hsqfsubcgjbirxbp\",\"tags\":{\"twss\":\"rfbjf\",\"tpvjzbexilzznfqq\":\"t\",\"taruoujmkcj\":\"vwpm\"},\"id\":\"wqytjrybnwjewgdr\",\"name\":\"ervnaenqpehi\",\"type\":\"doy\"}]}")
            .toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ClusterManagerList model = new ClusterManagerList().withNextLink("ali")
            .withValue(Arrays.asList(
                new ClusterManagerInner().withLocation("gw")
                    .withTags(
                        mapOf("ebwwaloayqc", "lvqhjkbegibtnmx", "uzgwyzmhtx", "wrtz", "wxqpsrknftguvri", "ngmtsavjcb"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("shsfwxosowzxcu", new UserAssignedIdentity(), "jooxdjebw",
                            new UserAssignedIdentity(), "wwfvov", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("meue")
                    .withAvailabilityZones(Arrays.asList("yhz", "euojgjrwju", "iotwmcdytdxwit", "nrjawgqwg"))
                    .withFabricControllerId("btdhxujznbm")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("uwprzql").withName("ualupjmkh"))
                    .withVmSize("fgb"),
                new ClusterManagerInner().withLocation("djvcsl")
                    .withTags(mapOf("rmgucnap", "wwncwzzhxgk", "oellwp", "t"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("nmefqsgzvahapj", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("hpvgqz")
                    .withAvailabilityZones(Arrays.asList("vxdjzlmwlxkvugf", "zovawjvz", "nluthnnp"))
                    .withFabricControllerId("ixisxyawjoy")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("slyjpkiid").withName("exznelixhnr"))
                    .withVmSize("pigvpgylgqgitx"),
                new ClusterManagerInner().withLocation("hsqfsubcgjbirxbp")
                    .withTags(mapOf("twss", "rfbjf", "tpvjzbexilzznfqq", "t", "taruoujmkcj", "vwpm"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(
                            mapOf("ctobg", new UserAssignedIdentity(), "moizpos", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("grcfb")
                    .withAvailabilityZones(Arrays.asList("mfqjhhkxbp", "jy", "jhxxjyn", "u"))
                    .withFabricControllerId("cqaqtdoqmcbx")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("xyslqbh").withName("xoblytkbl"))
                    .withVmSize("v")));
        model = BinaryData.fromObject(model).toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
