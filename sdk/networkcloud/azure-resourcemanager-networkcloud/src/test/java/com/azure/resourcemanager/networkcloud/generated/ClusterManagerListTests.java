// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.networkcloud.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.networkcloud.fluent.models.ClusterManagerInner;
import com.azure.resourcemanager.networkcloud.models.ClusterManagerList;
import com.azure.resourcemanager.networkcloud.models.ManagedResourceGroupConfiguration;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentity;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.networkcloud.models.UserAssignedIdentity;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ClusterManagerListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ClusterManagerList model = BinaryData.fromString(
            "{\"nextLink\":\"ali\",\"value\":[{\"identity\":{\"principalId\":\"49a09063-aa36-479d-9551-00187b1b7428\",\"tenantId\":\"758d0c53-3250-4f27-9968-90f643842156\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"shsfwxosowzxcu\":{\"principalId\":\"38774de8-4b88-4148-9feb-4b6b8b7b9229\",\"clientId\":\"d45b640d-e10c-4488-b5c4-15edd9d6958c\"},\"jooxdjebw\":{\"principalId\":\"548464c7-fe28-4dae-96e7-fa92bf6cfc2f\",\"clientId\":\"7e90a6ce-b44d-4a28-9ddc-cdc8c4489c0e\"},\"wwfvov\":{\"principalId\":\"fe58d95f-95d5-4696-b0ab-5726d560f651\",\"clientId\":\"b5675bdf-17af-47b4-b08b-8895f0381054\"}}},\"properties\":{\"analyticsWorkspaceId\":\"meue\",\"availabilityZones\":[\"yhz\",\"euojgjrwju\",\"iotwmcdytdxwit\",\"nrjawgqwg\"],\"clusterVersions\":[{\"supportExpiryDate\":\"skxfbk\",\"targetClusterVersion\":\"cg\"}],\"detailedStatus\":\"ProvisioningFailed\",\"detailedStatusMessage\":\"dnhjdauwhvylw\",\"fabricControllerId\":\"btdhxujznbm\",\"managedResourceGroupConfiguration\":{\"location\":\"uwprzql\",\"name\":\"ualupjmkh\"},\"managerExtendedLocation\":{\"name\":\"obbc\",\"type\":\"wsrtjriplrbpbe\"},\"provisioningState\":\"Updating\",\"vmSize\":\"fgb\"},\"location\":\"gw\",\"tags\":{\"ebwwaloayqc\":\"lvqhjkbegibtnmx\",\"uzgwyzmhtx\":\"wrtz\",\"wxqpsrknftguvri\":\"ngmtsavjcb\"},\"id\":\"hprwmdyv\",\"name\":\"qtayri\",\"type\":\"wroyqbexrmcq\"},{\"identity\":{\"principalId\":\"19dad387-8a89-4baf-a63f-080001245d99\",\"tenantId\":\"b5e2ee71-4ebb-4e56-95c1-359f53c88932\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"nmefqsgzvahapj\":{\"principalId\":\"6965eb73-482e-4d14-ae32-1d0518d079e5\",\"clientId\":\"d01d9d87-5bdb-4a6a-a324-c58d6969f07c\"}}},\"properties\":{\"analyticsWorkspaceId\":\"hpvgqz\",\"availabilityZones\":[\"vxdjzlmwlxkvugf\",\"zovawjvz\",\"nluthnnp\"],\"clusterVersions\":[{\"supportExpiryDate\":\"peilpjzuaejxdu\",\"targetClusterVersion\":\"skzbb\"},{\"supportExpiryDate\":\"zumveekgpwo\",\"targetClusterVersion\":\"hkfpbs\"},{\"supportExpiryDate\":\"ofd\",\"targetClusterVersion\":\"uusdttouwa\"},{\"supportExpiryDate\":\"ekqvkeln\",\"targetClusterVersion\":\"vbxwyjsflhh\"}],\"detailedStatus\":\"Provisioning\",\"detailedStatusMessage\":\"n\",\"fabricControllerId\":\"ixisxyawjoy\",\"managedResourceGroupConfiguration\":{\"location\":\"slyjpkiid\",\"name\":\"exznelixhnr\"},\"managerExtendedLocation\":{\"name\":\"folhbnxknal\",\"type\":\"ulppggdtpnapnyir\"},\"provisioningState\":\"Updating\",\"vmSize\":\"pigvpgylgqgitx\"},\"location\":\"djvcsl\",\"tags\":{\"rmgucnap\":\"wwncwzzhxgk\",\"oellwp\":\"t\"},\"id\":\"fdygpfqbuaceopz\",\"name\":\"qrhhu\",\"type\":\"opppcqeq\"},{\"identity\":{\"principalId\":\"5c4cab3e-f69e-4a03-aa69-262b1c3080cb\",\"tenantId\":\"d1adf45f-a687-4007-90d1-8ca7aa58b89e\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"ctobg\":{\"principalId\":\"6c643165-fa7b-4736-a580-5ced82c851a8\",\"clientId\":\"c49b4da3-628d-4dc8-88fb-13afa8f8eb7d\"},\"moizpos\":{\"principalId\":\"87f1646e-cc50-4f67-ad47-9eb4a0ce7860\",\"clientId\":\"085bb405-4662-46df-b524-7228ff57db76\"}}},\"properties\":{\"analyticsWorkspaceId\":\"grcfb\",\"availabilityZones\":[\"mfqjhhkxbp\",\"jy\",\"jhxxjyn\",\"u\"],\"clusterVersions\":[{\"supportExpiryDate\":\"r\",\"targetClusterVersion\":\"wbxqzvszjfau\"}],\"detailedStatus\":\"Available\",\"detailedStatusMessage\":\"xxivetv\",\"fabricControllerId\":\"cqaqtdoqmcbx\",\"managedResourceGroupConfiguration\":{\"location\":\"xyslqbh\",\"name\":\"xoblytkbl\"},\"managerExtendedLocation\":{\"name\":\"ewwwfbkrvrnsv\",\"type\":\"hqjohxcrsbfova\"},\"provisioningState\":\"Failed\",\"vmSize\":\"v\"},\"location\":\"hsqfsubcgjbirxbp\",\"tags\":{\"twss\":\"rfbjf\",\"tpvjzbexilzznfqq\":\"t\",\"taruoujmkcj\":\"vwpm\"},\"id\":\"wqytjrybnwjewgdr\",\"name\":\"ervnaenqpehi\",\"type\":\"doy\"}]}")
            .toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ClusterManagerList model = new ClusterManagerList().withNextLink("ali")
            .withValue(Arrays.asList(
                new ClusterManagerInner().withLocation("gw")
                    .withTags(
                        mapOf("ebwwaloayqc", "lvqhjkbegibtnmx", "uzgwyzmhtx", "wrtz", "wxqpsrknftguvri", "ngmtsavjcb"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("shsfwxosowzxcu", new UserAssignedIdentity(), "jooxdjebw",
                            new UserAssignedIdentity(), "wwfvov", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("meue")
                    .withAvailabilityZones(Arrays.asList("yhz", "euojgjrwju", "iotwmcdytdxwit", "nrjawgqwg"))
                    .withFabricControllerId("btdhxujznbm")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("uwprzql").withName("ualupjmkh"))
                    .withVmSize("fgb"),
                new ClusterManagerInner().withLocation("djvcsl")
                    .withTags(mapOf("rmgucnap", "wwncwzzhxgk", "oellwp", "t"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("nmefqsgzvahapj", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("hpvgqz")
                    .withAvailabilityZones(Arrays.asList("vxdjzlmwlxkvugf", "zovawjvz", "nluthnnp"))
                    .withFabricControllerId("ixisxyawjoy")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("slyjpkiid").withName("exznelixhnr"))
                    .withVmSize("pigvpgylgqgitx"),
                new ClusterManagerInner().withLocation("hsqfsubcgjbirxbp")
                    .withTags(mapOf("twss", "rfbjf", "tpvjzbexilzznfqq", "t", "taruoujmkcj", "vwpm"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(
                            mapOf("ctobg", new UserAssignedIdentity(), "moizpos", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("grcfb")
                    .withAvailabilityZones(Arrays.asList("mfqjhhkxbp", "jy", "jhxxjyn", "u"))
                    .withFabricControllerId("cqaqtdoqmcbx")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("xyslqbh").withName("xoblytkbl"))
                    .withVmSize("v")));
        model = BinaryData.fromObject(model).toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
