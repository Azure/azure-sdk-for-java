// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.networkcloud.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.networkcloud.fluent.models.ClusterManagerInner;
import com.azure.resourcemanager.networkcloud.models.ClusterManagerList;
import com.azure.resourcemanager.networkcloud.models.ManagedResourceGroupConfiguration;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentity;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.networkcloud.models.UserAssignedIdentity;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ClusterManagerListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ClusterManagerList model = BinaryData.fromString(
            "{\"nextLink\":\"ali\",\"value\":[{\"identity\":{\"principalId\":\"27d8cc2a-c22e-4e87-9fa1-df13979cca3b\",\"tenantId\":\"2d54b98c-feb1-43c1-abf2-7c15b9664b27\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"shsfwxosowzxcu\":{\"principalId\":\"7bbab1e9-4bc1-4d08-ba2a-212b24c2334b\",\"clientId\":\"b29b9661-fc77-494a-b8ac-fea4ab79e657\"},\"jooxdjebw\":{\"principalId\":\"b9710d52-3bc0-41b0-a859-e21d0394ccdc\",\"clientId\":\"99bb132a-8b86-40b9-a616-9f1082a448dd\"},\"wwfvov\":{\"principalId\":\"0aa8cec4-8da3-49dd-9710-bafb24b51bb5\",\"clientId\":\"7f5c84cd-b158-47a4-ab22-e84cd3341bce\"}}},\"properties\":{\"analyticsWorkspaceId\":\"meue\",\"availabilityZones\":[\"yhz\",\"euojgjrwju\",\"iotwmcdytdxwit\",\"nrjawgqwg\"],\"clusterVersions\":[{\"supportExpiryDate\":\"skxfbk\",\"targetClusterVersion\":\"cg\"}],\"detailedStatus\":\"ProvisioningFailed\",\"detailedStatusMessage\":\"dnhjdauwhvylw\",\"fabricControllerId\":\"btdhxujznbm\",\"managedResourceGroupConfiguration\":{\"location\":\"uwprzql\",\"name\":\"ualupjmkh\"},\"managerExtendedLocation\":{\"name\":\"obbc\",\"type\":\"wsrtjriplrbpbe\"},\"provisioningState\":\"Updating\",\"vmSize\":\"fgb\"},\"location\":\"gw\",\"tags\":{\"ebwwaloayqc\":\"lvqhjkbegibtnmx\",\"uzgwyzmhtx\":\"wrtz\",\"wxqpsrknftguvri\":\"ngmtsavjcb\"},\"id\":\"hprwmdyv\",\"name\":\"qtayri\",\"type\":\"wroyqbexrmcq\"},{\"identity\":{\"principalId\":\"7be3e001-a026-4387-b3f2-856d10d4d212\",\"tenantId\":\"eaa28bad-783b-4954-996a-0f44380789ba\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"nmefqsgzvahapj\":{\"principalId\":\"49cf157c-6a93-4d32-bc67-350583579825\",\"clientId\":\"e8fbb7ae-5375-47a9-b4db-6968d56eadc8\"}}},\"properties\":{\"analyticsWorkspaceId\":\"hpvgqz\",\"availabilityZones\":[\"vxdjzlmwlxkvugf\",\"zovawjvz\",\"nluthnnp\"],\"clusterVersions\":[{\"supportExpiryDate\":\"peilpjzuaejxdu\",\"targetClusterVersion\":\"skzbb\"},{\"supportExpiryDate\":\"zumveekgpwo\",\"targetClusterVersion\":\"hkfpbs\"},{\"supportExpiryDate\":\"ofd\",\"targetClusterVersion\":\"uusdttouwa\"},{\"supportExpiryDate\":\"ekqvkeln\",\"targetClusterVersion\":\"vbxwyjsflhh\"}],\"detailedStatus\":\"Provisioning\",\"detailedStatusMessage\":\"n\",\"fabricControllerId\":\"ixisxyawjoy\",\"managedResourceGroupConfiguration\":{\"location\":\"slyjpkiid\",\"name\":\"exznelixhnr\"},\"managerExtendedLocation\":{\"name\":\"folhbnxknal\",\"type\":\"ulppggdtpnapnyir\"},\"provisioningState\":\"Updating\",\"vmSize\":\"pigvpgylgqgitx\"},\"location\":\"djvcsl\",\"tags\":{\"rmgucnap\":\"wwncwzzhxgk\",\"oellwp\":\"t\"},\"id\":\"fdygpfqbuaceopz\",\"name\":\"qrhhu\",\"type\":\"opppcqeq\"},{\"identity\":{\"principalId\":\"39dd26e5-615e-4094-b293-d2adf89d1cff\",\"tenantId\":\"9b794428-1f30-4e4d-9847-b6e497a540d3\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"ctobg\":{\"principalId\":\"cc652f2a-3f5b-4c4d-bf65-8cf1959310ac\",\"clientId\":\"fccda1af-55a8-42e4-b847-f4b793c109dc\"},\"moizpos\":{\"principalId\":\"d11515e3-e214-4011-9b53-15859f298f87\",\"clientId\":\"ae42f78a-bb6d-41c3-bee3-f57b377e6dda\"}}},\"properties\":{\"analyticsWorkspaceId\":\"grcfb\",\"availabilityZones\":[\"mfqjhhkxbp\",\"jy\",\"jhxxjyn\",\"u\"],\"clusterVersions\":[{\"supportExpiryDate\":\"r\",\"targetClusterVersion\":\"wbxqzvszjfau\"}],\"detailedStatus\":\"Available\",\"detailedStatusMessage\":\"xxivetv\",\"fabricControllerId\":\"cqaqtdoqmcbx\",\"managedResourceGroupConfiguration\":{\"location\":\"xyslqbh\",\"name\":\"xoblytkbl\"},\"managerExtendedLocation\":{\"name\":\"ewwwfbkrvrnsv\",\"type\":\"hqjohxcrsbfova\"},\"provisioningState\":\"Failed\",\"vmSize\":\"v\"},\"location\":\"hsqfsubcgjbirxbp\",\"tags\":{\"twss\":\"rfbjf\",\"tpvjzbexilzznfqq\":\"t\",\"taruoujmkcj\":\"vwpm\"},\"id\":\"wqytjrybnwjewgdr\",\"name\":\"ervnaenqpehi\",\"type\":\"doy\"}]}")
            .toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ClusterManagerList model = new ClusterManagerList().withNextLink("ali")
            .withValue(Arrays.asList(
                new ClusterManagerInner().withLocation("gw")
                    .withTags(
                        mapOf("ebwwaloayqc", "lvqhjkbegibtnmx", "uzgwyzmhtx", "wrtz", "wxqpsrknftguvri", "ngmtsavjcb"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("shsfwxosowzxcu", new UserAssignedIdentity(), "jooxdjebw",
                            new UserAssignedIdentity(), "wwfvov", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("meue")
                    .withAvailabilityZones(Arrays.asList("yhz", "euojgjrwju", "iotwmcdytdxwit", "nrjawgqwg"))
                    .withFabricControllerId("btdhxujznbm")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("uwprzql").withName("ualupjmkh"))
                    .withVmSize("fgb"),
                new ClusterManagerInner().withLocation("djvcsl")
                    .withTags(mapOf("rmgucnap", "wwncwzzhxgk", "oellwp", "t"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("nmefqsgzvahapj", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("hpvgqz")
                    .withAvailabilityZones(Arrays.asList("vxdjzlmwlxkvugf", "zovawjvz", "nluthnnp"))
                    .withFabricControllerId("ixisxyawjoy")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("slyjpkiid").withName("exznelixhnr"))
                    .withVmSize("pigvpgylgqgitx"),
                new ClusterManagerInner().withLocation("hsqfsubcgjbirxbp")
                    .withTags(mapOf("twss", "rfbjf", "tpvjzbexilzznfqq", "t", "taruoujmkcj", "vwpm"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(
                            mapOf("ctobg", new UserAssignedIdentity(), "moizpos", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("grcfb")
                    .withAvailabilityZones(Arrays.asList("mfqjhhkxbp", "jy", "jhxxjyn", "u"))
                    .withFabricControllerId("cqaqtdoqmcbx")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("xyslqbh").withName("xoblytkbl"))
                    .withVmSize("v")));
        model = BinaryData.fromObject(model).toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
