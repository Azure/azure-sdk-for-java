// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.networkcloud.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.networkcloud.fluent.models.ClusterManagerInner;
import com.azure.resourcemanager.networkcloud.models.ClusterManagerList;
import com.azure.resourcemanager.networkcloud.models.ManagedResourceGroupConfiguration;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentity;
import com.azure.resourcemanager.networkcloud.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.networkcloud.models.UserAssignedIdentity;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ClusterManagerListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ClusterManagerList model = BinaryData.fromString(
            "{\"nextLink\":\"ali\",\"value\":[{\"identity\":{\"principalId\":\"774bb6e9-2227-4a5e-9260-efa9a40e670c\",\"tenantId\":\"996ab2c2-3195-4177-be52-de57e2870fc2\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"shsfwxosowzxcu\":{\"principalId\":\"00360df8-a097-489a-9686-d7e36c9e1e61\",\"clientId\":\"bacb47df-b5dd-4db8-9ca9-8f93cc003aa8\"},\"jooxdjebw\":{\"principalId\":\"cb6c6eb6-4280-475a-9433-361e83e1cb3e\",\"clientId\":\"ffd445e9-3c46-4b4a-8af0-a59f514e8100\"},\"wwfvov\":{\"principalId\":\"882df8b1-bc98-429e-ac17-6a8810814e39\",\"clientId\":\"d708f44a-e390-4d86-8297-ba7adc2fc59c\"}}},\"properties\":{\"analyticsWorkspaceId\":\"meue\",\"availabilityZones\":[\"yhz\",\"euojgjrwju\",\"iotwmcdytdxwit\",\"nrjawgqwg\"],\"clusterVersions\":[{\"supportExpiryDate\":\"skxfbk\",\"targetClusterVersion\":\"cg\"}],\"detailedStatus\":\"ProvisioningFailed\",\"detailedStatusMessage\":\"dnhjdauwhvylw\",\"fabricControllerId\":\"btdhxujznbm\",\"managedResourceGroupConfiguration\":{\"location\":\"uwprzql\",\"name\":\"ualupjmkh\"},\"managerExtendedLocation\":{\"name\":\"obbc\",\"type\":\"wsrtjriplrbpbe\"},\"provisioningState\":\"Updating\",\"vmSize\":\"fgb\"},\"location\":\"gw\",\"tags\":{\"ebwwaloayqc\":\"lvqhjkbegibtnmx\",\"uzgwyzmhtx\":\"wrtz\",\"wxqpsrknftguvri\":\"ngmtsavjcb\"},\"id\":\"hprwmdyv\",\"name\":\"qtayri\",\"type\":\"wroyqbexrmcq\"},{\"identity\":{\"principalId\":\"96567ddc-c959-4025-a483-b7859f3b9204\",\"tenantId\":\"96f0e8f3-ca19-4354-a446-0ff7bbb9a7eb\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"nmefqsgzvahapj\":{\"principalId\":\"09227b1b-2aa8-4d68-a517-2760bbf2f7d1\",\"clientId\":\"198eb677-7015-4f17-aa28-e0d6bd8c6542\"}}},\"properties\":{\"analyticsWorkspaceId\":\"hpvgqz\",\"availabilityZones\":[\"vxdjzlmwlxkvugf\",\"zovawjvz\",\"nluthnnp\"],\"clusterVersions\":[{\"supportExpiryDate\":\"peilpjzuaejxdu\",\"targetClusterVersion\":\"skzbb\"},{\"supportExpiryDate\":\"zumveekgpwo\",\"targetClusterVersion\":\"hkfpbs\"},{\"supportExpiryDate\":\"ofd\",\"targetClusterVersion\":\"uusdttouwa\"},{\"supportExpiryDate\":\"ekqvkeln\",\"targetClusterVersion\":\"vbxwyjsflhh\"}],\"detailedStatus\":\"Provisioning\",\"detailedStatusMessage\":\"n\",\"fabricControllerId\":\"ixisxyawjoy\",\"managedResourceGroupConfiguration\":{\"location\":\"slyjpkiid\",\"name\":\"exznelixhnr\"},\"managerExtendedLocation\":{\"name\":\"folhbnxknal\",\"type\":\"ulppggdtpnapnyir\"},\"provisioningState\":\"Updating\",\"vmSize\":\"pigvpgylgqgitx\"},\"location\":\"djvcsl\",\"tags\":{\"rmgucnap\":\"wwncwzzhxgk\",\"oellwp\":\"t\"},\"id\":\"fdygpfqbuaceopz\",\"name\":\"qrhhu\",\"type\":\"opppcqeq\"},{\"identity\":{\"principalId\":\"4ca34c49-d6de-46f6-9016-8987030f6037\",\"tenantId\":\"b360e908-c1ff-4967-aff8-2de08cfd1043\",\"type\":\"UserAssigned\",\"userAssignedIdentities\":{\"ctobg\":{\"principalId\":\"733f210e-45e3-4113-8a1c-304b8bec8435\",\"clientId\":\"b0966229-3307-4ccb-a7c5-7e2e93ef9234\"},\"moizpos\":{\"principalId\":\"46eba6a5-7669-4bca-89d9-a6ebe5a38984\",\"clientId\":\"7f88261d-9a96-430e-957a-419934da1a74\"}}},\"properties\":{\"analyticsWorkspaceId\":\"grcfb\",\"availabilityZones\":[\"mfqjhhkxbp\",\"jy\",\"jhxxjyn\",\"u\"],\"clusterVersions\":[{\"supportExpiryDate\":\"r\",\"targetClusterVersion\":\"wbxqzvszjfau\"}],\"detailedStatus\":\"Available\",\"detailedStatusMessage\":\"xxivetv\",\"fabricControllerId\":\"cqaqtdoqmcbx\",\"managedResourceGroupConfiguration\":{\"location\":\"xyslqbh\",\"name\":\"xoblytkbl\"},\"managerExtendedLocation\":{\"name\":\"ewwwfbkrvrnsv\",\"type\":\"hqjohxcrsbfova\"},\"provisioningState\":\"Failed\",\"vmSize\":\"v\"},\"location\":\"hsqfsubcgjbirxbp\",\"tags\":{\"twss\":\"rfbjf\",\"tpvjzbexilzznfqq\":\"t\",\"taruoujmkcj\":\"vwpm\"},\"id\":\"wqytjrybnwjewgdr\",\"name\":\"ervnaenqpehi\",\"type\":\"doy\"}]}")
            .toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ClusterManagerList model = new ClusterManagerList().withNextLink("ali")
            .withValue(Arrays.asList(
                new ClusterManagerInner().withLocation("gw")
                    .withTags(
                        mapOf("ebwwaloayqc", "lvqhjkbegibtnmx", "uzgwyzmhtx", "wrtz", "wxqpsrknftguvri", "ngmtsavjcb"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("shsfwxosowzxcu", new UserAssignedIdentity(), "jooxdjebw",
                            new UserAssignedIdentity(), "wwfvov", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("meue")
                    .withAvailabilityZones(Arrays.asList("yhz", "euojgjrwju", "iotwmcdytdxwit", "nrjawgqwg"))
                    .withFabricControllerId("btdhxujznbm")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("uwprzql").withName("ualupjmkh"))
                    .withVmSize("fgb"),
                new ClusterManagerInner().withLocation("djvcsl")
                    .withTags(mapOf("rmgucnap", "wwncwzzhxgk", "oellwp", "t"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(mapOf("nmefqsgzvahapj", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("hpvgqz")
                    .withAvailabilityZones(Arrays.asList("vxdjzlmwlxkvugf", "zovawjvz", "nluthnnp"))
                    .withFabricControllerId("ixisxyawjoy")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("slyjpkiid").withName("exznelixhnr"))
                    .withVmSize("pigvpgylgqgitx"),
                new ClusterManagerInner().withLocation("hsqfsubcgjbirxbp")
                    .withTags(mapOf("twss", "rfbjf", "tpvjzbexilzznfqq", "t", "taruoujmkcj", "vwpm"))
                    .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.USER_ASSIGNED)
                        .withUserAssignedIdentities(
                            mapOf("ctobg", new UserAssignedIdentity(), "moizpos", new UserAssignedIdentity())))
                    .withAnalyticsWorkspaceId("grcfb")
                    .withAvailabilityZones(Arrays.asList("mfqjhhkxbp", "jy", "jhxxjyn", "u"))
                    .withFabricControllerId("cqaqtdoqmcbx")
                    .withManagedResourceGroupConfiguration(
                        new ManagedResourceGroupConfiguration().withLocation("xyslqbh").withName("xoblytkbl"))
                    .withVmSize("v")));
        model = BinaryData.fromObject(model).toObject(ClusterManagerList.class);
        Assertions.assertEquals("ali", model.nextLink());
        Assertions.assertEquals("gw", model.value().get(0).location());
        Assertions.assertEquals("lvqhjkbegibtnmx", model.value().get(0).tags().get("ebwwaloayqc"));
        Assertions.assertEquals(ManagedServiceIdentityType.USER_ASSIGNED, model.value().get(0).identity().type());
        Assertions.assertEquals("meue", model.value().get(0).analyticsWorkspaceId());
        Assertions.assertEquals("yhz", model.value().get(0).availabilityZones().get(0));
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).fabricControllerId());
        Assertions.assertEquals("uwprzql", model.value().get(0).managedResourceGroupConfiguration().location());
        Assertions.assertEquals("ualupjmkh", model.value().get(0).managedResourceGroupConfiguration().name());
        Assertions.assertEquals("fgb", model.value().get(0).vmSize());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
