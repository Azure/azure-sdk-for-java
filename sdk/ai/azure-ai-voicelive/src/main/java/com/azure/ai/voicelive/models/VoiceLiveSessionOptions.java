// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.ai.voicelive.models;

import com.azure.core.annotation.Fluent;
import com.azure.core.annotation.Generated;
import com.azure.json.JsonReader;
import com.azure.json.JsonSerializable;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import java.io.IOException;
import java.util.List;

/**
 * Base for session configuration shared between request and response.
 */
@Fluent
public final class VoiceLiveSessionOptions implements JsonSerializable<VoiceLiveSessionOptions> {
    /*
     * The model for the session.
     */
    @Generated
    private String model;

    /*
     * The modalities to be used in the session.
     */
    @Generated
    private List<InteractionModality> modalities;

    /*
     * The animation configuration for the session.
     */
    @Generated
    private AnimationOptions animation;

    /*
     * The voice configuration for the session.
     */
    @Generated
    private VoiceProvider voice;

    /*
     * Optional instructions to guide the model's behavior throughout the session.
     */
    @Generated
    private String instructions;

    /*
     * Input audio sampling rate in Hz. Available values:
     *
     * - For pcm16: 8000, 16000, 24000
     *
     * - For g711_alaw/g711_ulaw: 8000
     */
    @Generated
    private Integer inputAudioSamplingRate;

    /*
     * Input audio format. Default is 'pcm16'.
     */
    @Generated
    private InputAudioFormat inputAudioFormat;

    /*
     * Output audio format. Default is 'pcm16'.
     */
    @Generated
    private OutputAudioFormat outputAudioFormat;

    /*
     * Type of turn detection to use.
     */
    @Generated
    private TurnDetection turnDetection;

    /*
     * Configuration for input audio noise reduction.
     */
    @Generated
    private AudioNoiseReduction inputAudioNoiseReduction;

    /*
     * Configuration for echo cancellation during server-side audio processing.
     */
    @Generated
    private AudioEchoCancellation inputAudioEchoCancellation;

    /*
     * Configuration for avatar streaming and behavior during the session.
     */
    @Generated
    private AvatarConfiguration avatar;

    /*
     * Configuration for input audio transcription.
     */
    @Generated
    private AudioInputTranscriptionOptions inputAudioTranscription;

    /*
     * Types of timestamps to include in audio response content.
     */
    @Generated
    private List<AudioTimestampType> outputAudioTimestampTypes;

    /*
     * Configuration for tools to be used during the session, if applicable.
     */
    @Generated
    private List<VoiceLiveToolDefinition> tools;

    /*
     * Specifies which tools the model is allowed to call during the session.
     */
    @Generated
    private ToolChoice toolChoice;

    /*
     * Controls the randomness of the model's output. Range: 0.0 to 1.0. Default is 0.7.
     */
    @Generated
    private Double temperature;

    /*
     * Maximum number of tokens to generate in the response. Default is unlimited.
     */
    @Generated
    private MaxOutputTokens maxResponseOutputTokens;

    /**
     * Creates an instance of VoiceLiveSessionOptions class.
     */
    @Generated
    public VoiceLiveSessionOptions() {
    }

    /**
     * Get the model property: The model for the session.
     *
     * @return the model value.
     */
    @Generated
    public String getModel() {
        return this.model;
    }

    /**
     * Set the model property: The model for the session.
     *
     * @param model the model value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setModel(String model) {
        this.model = model;
        return this;
    }

    /**
     * Get the modalities property: The modalities to be used in the session.
     *
     * @return the modalities value.
     */
    @Generated
    public List<InteractionModality> getModalities() {
        return this.modalities;
    }

    /**
     * Set the modalities property: The modalities to be used in the session.
     *
     * @param modalities the modalities value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setModalities(List<InteractionModality> modalities) {
        this.modalities = modalities;
        return this;
    }

    /**
     * Get the animation property: The animation configuration for the session.
     *
     * @return the animation value.
     */
    @Generated
    public AnimationOptions getAnimation() {
        return this.animation;
    }

    /**
     * Set the animation property: The animation configuration for the session.
     *
     * @param animation the animation value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setAnimation(AnimationOptions animation) {
        this.animation = animation;
        return this;
    }

    /**
     * Get the voice property: The voice configuration for the session.
     *
     * @return the voice value.
     */
    @Generated
    public VoiceProvider getVoice() {
        return this.voice;
    }

    /**
     * Set the voice property: The voice configuration for the session.
     *
     * @param voice the voice value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setVoice(VoiceProvider voice) {
        this.voice = voice;
        return this;
    }

    /**
     * Get the instructions property: Optional instructions to guide the model's behavior throughout the session.
     *
     * @return the instructions value.
     */
    @Generated
    public String getInstructions() {
        return this.instructions;
    }

    /**
     * Set the instructions property: Optional instructions to guide the model's behavior throughout the session.
     *
     * @param instructions the instructions value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setInstructions(String instructions) {
        this.instructions = instructions;
        return this;
    }

    /**
     * Get the inputAudioSamplingRate property: Input audio sampling rate in Hz. Available values:
     *
     * - For pcm16: 8000, 16000, 24000
     *
     * - For g711_alaw/g711_ulaw: 8000.
     *
     * @return the inputAudioSamplingRate value.
     */
    @Generated
    public Integer getInputAudioSamplingRate() {
        return this.inputAudioSamplingRate;
    }

    /**
     * Set the inputAudioSamplingRate property: Input audio sampling rate in Hz. Available values:
     *
     * - For pcm16: 8000, 16000, 24000
     *
     * - For g711_alaw/g711_ulaw: 8000.
     *
     * @param inputAudioSamplingRate the inputAudioSamplingRate value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setInputAudioSamplingRate(Integer inputAudioSamplingRate) {
        this.inputAudioSamplingRate = inputAudioSamplingRate;
        return this;
    }

    /**
     * Get the inputAudioFormat property: Input audio format. Default is 'pcm16'.
     *
     * @return the inputAudioFormat value.
     */
    @Generated
    public InputAudioFormat getInputAudioFormat() {
        return this.inputAudioFormat;
    }

    /**
     * Set the inputAudioFormat property: Input audio format. Default is 'pcm16'.
     *
     * @param inputAudioFormat the inputAudioFormat value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setInputAudioFormat(InputAudioFormat inputAudioFormat) {
        this.inputAudioFormat = inputAudioFormat;
        return this;
    }

    /**
     * Get the outputAudioFormat property: Output audio format. Default is 'pcm16'.
     *
     * @return the outputAudioFormat value.
     */
    @Generated
    public OutputAudioFormat getOutputAudioFormat() {
        return this.outputAudioFormat;
    }

    /**
     * Set the outputAudioFormat property: Output audio format. Default is 'pcm16'.
     *
     * @param outputAudioFormat the outputAudioFormat value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setOutputAudioFormat(OutputAudioFormat outputAudioFormat) {
        this.outputAudioFormat = outputAudioFormat;
        return this;
    }

    /**
     * Get the turnDetection property: Type of turn detection to use.
     *
     * @return the turnDetection value.
     */
    @Generated
    public TurnDetection getTurnDetection() {
        return this.turnDetection;
    }

    /**
     * Set the turnDetection property: Type of turn detection to use.
     *
     * @param turnDetection the turnDetection value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setTurnDetection(TurnDetection turnDetection) {
        this.turnDetection = turnDetection;
        return this;
    }

    /**
     * Get the inputAudioNoiseReduction property: Configuration for input audio noise reduction.
     *
     * @return the inputAudioNoiseReduction value.
     */
    @Generated
    public AudioNoiseReduction getInputAudioNoiseReduction() {
        return this.inputAudioNoiseReduction;
    }

    /**
     * Set the inputAudioNoiseReduction property: Configuration for input audio noise reduction.
     *
     * @param inputAudioNoiseReduction the inputAudioNoiseReduction value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setInputAudioNoiseReduction(AudioNoiseReduction inputAudioNoiseReduction) {
        this.inputAudioNoiseReduction = inputAudioNoiseReduction;
        return this;
    }

    /**
     * Get the inputAudioEchoCancellation property: Configuration for echo cancellation during server-side audio
     * processing.
     *
     * @return the inputAudioEchoCancellation value.
     */
    @Generated
    public AudioEchoCancellation getInputAudioEchoCancellation() {
        return this.inputAudioEchoCancellation;
    }

    /**
     * Set the inputAudioEchoCancellation property: Configuration for echo cancellation during server-side audio
     * processing.
     *
     * @param inputAudioEchoCancellation the inputAudioEchoCancellation value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setInputAudioEchoCancellation(AudioEchoCancellation inputAudioEchoCancellation) {
        this.inputAudioEchoCancellation = inputAudioEchoCancellation;
        return this;
    }

    /**
     * Get the avatar property: Configuration for avatar streaming and behavior during the session.
     *
     * @return the avatar value.
     */
    @Generated
    public AvatarConfiguration getAvatar() {
        return this.avatar;
    }

    /**
     * Set the avatar property: Configuration for avatar streaming and behavior during the session.
     *
     * @param avatar the avatar value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setAvatar(AvatarConfiguration avatar) {
        this.avatar = avatar;
        return this;
    }

    /**
     * Get the inputAudioTranscription property: Configuration for input audio transcription.
     *
     * @return the inputAudioTranscription value.
     */
    @Generated
    public AudioInputTranscriptionOptions getInputAudioTranscription() {
        return this.inputAudioTranscription;
    }

    /**
     * Set the inputAudioTranscription property: Configuration for input audio transcription.
     *
     * @param inputAudioTranscription the inputAudioTranscription value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setInputAudioTranscription(AudioInputTranscriptionOptions inputAudioTranscription) {
        this.inputAudioTranscription = inputAudioTranscription;
        return this;
    }

    /**
     * Get the outputAudioTimestampTypes property: Types of timestamps to include in audio response content.
     *
     * @return the outputAudioTimestampTypes value.
     */
    @Generated
    public List<AudioTimestampType> getOutputAudioTimestampTypes() {
        return this.outputAudioTimestampTypes;
    }

    /**
     * Set the outputAudioTimestampTypes property: Types of timestamps to include in audio response content.
     *
     * @param outputAudioTimestampTypes the outputAudioTimestampTypes value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setOutputAudioTimestampTypes(List<AudioTimestampType> outputAudioTimestampTypes) {
        this.outputAudioTimestampTypes = outputAudioTimestampTypes;
        return this;
    }

    /**
     * Get the tools property: Configuration for tools to be used during the session, if applicable.
     *
     * @return the tools value.
     */
    @Generated
    public List<VoiceLiveToolDefinition> getTools() {
        return this.tools;
    }

    /**
     * Set the tools property: Configuration for tools to be used during the session, if applicable.
     *
     * @param tools the tools value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setTools(List<VoiceLiveToolDefinition> tools) {
        this.tools = tools;
        return this;
    }

    /**
     * Get the toolChoice property: Specifies which tools the model is allowed to call during the session.
     *
     * @return the toolChoice value.
     */
    @Generated
    public ToolChoice getToolChoice() {
        return this.toolChoice;
    }

    /**
     * Set the toolChoice property: Specifies which tools the model is allowed to call during the session.
     *
     * @param toolChoice the toolChoice value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setToolChoice(ToolChoice toolChoice) {
        this.toolChoice = toolChoice;
        return this;
    }

    /**
     * Get the temperature property: Controls the randomness of the model's output. Range: 0.0 to 1.0. Default is 0.7.
     *
     * @return the temperature value.
     */
    @Generated
    public Double getTemperature() {
        return this.temperature;
    }

    /**
     * Set the temperature property: Controls the randomness of the model's output. Range: 0.0 to 1.0. Default is 0.7.
     *
     * @param temperature the temperature value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setTemperature(Double temperature) {
        this.temperature = temperature;
        return this;
    }

    /**
     * Get the maxResponseOutputTokens property: Maximum number of tokens to generate in the response. Default is
     * unlimited.
     *
     * @return the maxResponseOutputTokens value.
     */
    @Generated
    public MaxOutputTokens getMaxResponseOutputTokens() {
        return this.maxResponseOutputTokens;
    }

    /**
     * Set the maxResponseOutputTokens property: Maximum number of tokens to generate in the response. Default is
     * unlimited.
     *
     * @param maxResponseOutputTokens the maxResponseOutputTokens value to set.
     * @return the VoiceLiveSessionOptions object itself.
     */
    @Generated
    public VoiceLiveSessionOptions setMaxResponseOutputTokens(MaxOutputTokens maxResponseOutputTokens) {
        this.maxResponseOutputTokens = maxResponseOutputTokens;
        return this;
    }

    /**
     * {@inheritDoc}
     */
    @Generated
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeStringField("model", this.model);
        jsonWriter.writeArrayField("modalities", this.modalities,
            (writer, element) -> writer.writeString(element == null ? null : element.toString()));
        jsonWriter.writeJsonField("animation", this.animation);
        if (this.voice != null) {
            jsonWriter.writeFieldName("voice");
            this.voice.toJson(jsonWriter);
        }
        jsonWriter.writeStringField("instructions", this.instructions);
        jsonWriter.writeNumberField("input_audio_sampling_rate", this.inputAudioSamplingRate);
        jsonWriter.writeStringField("input_audio_format",
            this.inputAudioFormat == null ? null : this.inputAudioFormat.toString());
        jsonWriter.writeStringField("output_audio_format",
            this.outputAudioFormat == null ? null : this.outputAudioFormat.toString());
        jsonWriter.writeJsonField("turn_detection", this.turnDetection);
        jsonWriter.writeJsonField("input_audio_noise_reduction", this.inputAudioNoiseReduction);
        jsonWriter.writeJsonField("input_audio_echo_cancellation", this.inputAudioEchoCancellation);
        jsonWriter.writeJsonField("avatar", this.avatar);
        jsonWriter.writeJsonField("input_audio_transcription", this.inputAudioTranscription);
        jsonWriter.writeArrayField("output_audio_timestamp_types", this.outputAudioTimestampTypes,
            (writer, element) -> writer.writeString(element == null ? null : element.toString()));
        jsonWriter.writeArrayField("tools", this.tools, (writer, element) -> writer.writeJson(element));
        if (this.toolChoice != null) {
            jsonWriter.writeFieldName("tool_choice");
            this.toolChoice.toJson(jsonWriter);
        }
        jsonWriter.writeNumberField("temperature", this.temperature);
        jsonWriter.writeJsonField("max_response_output_tokens", this.maxResponseOutputTokens);
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of VoiceLiveSessionOptions from the JsonReader.
     *
     * @param jsonReader The JsonReader being read.
     * @return An instance of VoiceLiveSessionOptions if the JsonReader was pointing to an instance of it, or null if it
     * was pointing to JSON null.
     * @throws IOException If an error occurs while reading the VoiceLiveSessionOptions.
     */
    @Generated
    public static VoiceLiveSessionOptions fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            VoiceLiveSessionOptions deserializedVoiceLiveSessionOptions = new VoiceLiveSessionOptions();
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();

                if ("model".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.model = reader.getString();
                } else if ("modalities".equals(fieldName)) {
                    List<InteractionModality> modalities
                        = reader.readArray(reader1 -> InteractionModality.fromString(reader1.getString()));
                    deserializedVoiceLiveSessionOptions.modalities = modalities;
                } else if ("animation".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.animation = AnimationOptions.fromJson(reader);
                } else if ("voice".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.voice = VoiceProvider.fromJson(reader);
                } else if ("instructions".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.instructions = reader.getString();
                } else if ("input_audio_sampling_rate".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.inputAudioSamplingRate = reader.getNullable(JsonReader::getInt);
                } else if ("input_audio_format".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.inputAudioFormat
                        = InputAudioFormat.fromString(reader.getString());
                } else if ("output_audio_format".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.outputAudioFormat
                        = OutputAudioFormat.fromString(reader.getString());
                } else if ("turn_detection".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.turnDetection = TurnDetection.fromJson(reader);
                } else if ("input_audio_noise_reduction".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.inputAudioNoiseReduction = AudioNoiseReduction.fromJson(reader);
                } else if ("input_audio_echo_cancellation".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.inputAudioEchoCancellation
                        = AudioEchoCancellation.fromJson(reader);
                } else if ("avatar".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.avatar = AvatarConfiguration.fromJson(reader);
                } else if ("input_audio_transcription".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.inputAudioTranscription
                        = AudioInputTranscriptionOptions.fromJson(reader);
                } else if ("output_audio_timestamp_types".equals(fieldName)) {
                    List<AudioTimestampType> outputAudioTimestampTypes
                        = reader.readArray(reader1 -> AudioTimestampType.fromString(reader1.getString()));
                    deserializedVoiceLiveSessionOptions.outputAudioTimestampTypes = outputAudioTimestampTypes;
                } else if ("tools".equals(fieldName)) {
                    List<VoiceLiveToolDefinition> tools
                        = reader.readArray(reader1 -> VoiceLiveToolDefinition.fromJson(reader1));
                    deserializedVoiceLiveSessionOptions.tools = tools;
                } else if ("tool_choice".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.toolChoice
                        = reader.getNullable(nonNullReader -> ToolChoice.fromJson(nonNullReader));
                } else if ("temperature".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.temperature = reader.getNullable(JsonReader::getDouble);
                } else if ("max_response_output_tokens".equals(fieldName)) {
                    deserializedVoiceLiveSessionOptions.maxResponseOutputTokens = MaxOutputTokens.fromJson(reader);
                } else {
                    reader.skipChildren();
                }
            }

            return deserializedVoiceLiveSessionOptions;
        });
    }
}
