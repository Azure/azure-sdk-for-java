// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.
package com.azure.ai.projects.models;

import com.azure.core.annotation.Generated;
import com.azure.core.annotation.Immutable;
import com.azure.json.JsonReader;
import com.azure.json.JsonSerializable;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import java.io.IOException;

/**
 * Metric comparison for a treatment against the baseline.
 */
@Immutable
public final class EvaluationRunResultCompareItem implements JsonSerializable<EvaluationRunResultCompareItem> {

    /*
     * The treatment run ID.
     */
    @Generated
    private final String treatmentRunId;

    /*
     * Summary statistics of the treatment run.
     */
    @Generated
    private final EvaluationRunResultSummary treatmentRunSummary;

    /*
     * Estimated difference between treatment and baseline.
     */
    @Generated
    private final double deltaEstimate;

    /*
     * P-value for the treatment effect.
     */
    @Generated
    private final double pValue;

    /*
     * Type of treatment effect.
     */
    @Generated
    private final TreatmentEffectType treatmentEffect;

    /**
     * Creates an instance of EvaluationRunResultCompareItem class.
     *
     * @param treatmentRunId the treatmentRunId value to set.
     * @param treatmentRunSummary the treatmentRunSummary value to set.
     * @param deltaEstimate the deltaEstimate value to set.
     * @param pValue the pValue value to set.
     * @param treatmentEffect the treatmentEffect value to set.
     */
    @Generated
    private EvaluationRunResultCompareItem(String treatmentRunId, EvaluationRunResultSummary treatmentRunSummary,
        double deltaEstimate, double pValue, TreatmentEffectType treatmentEffect) {
        this.treatmentRunId = treatmentRunId;
        this.treatmentRunSummary = treatmentRunSummary;
        this.deltaEstimate = deltaEstimate;
        this.pValue = pValue;
        this.treatmentEffect = treatmentEffect;
    }

    /**
     * Get the treatmentRunId property: The treatment run ID.
     *
     * @return the treatmentRunId value.
     */
    @Generated
    public String getTreatmentRunId() {
        return this.treatmentRunId;
    }

    /**
     * Get the treatmentRunSummary property: Summary statistics of the treatment run.
     *
     * @return the treatmentRunSummary value.
     */
    @Generated
    public EvaluationRunResultSummary getTreatmentRunSummary() {
        return this.treatmentRunSummary;
    }

    /**
     * Get the deltaEstimate property: Estimated difference between treatment and baseline.
     *
     * @return the deltaEstimate value.
     */
    @Generated
    public double getDeltaEstimate() {
        return this.deltaEstimate;
    }

    /**
     * Get the pValue property: P-value for the treatment effect.
     *
     * @return the pValue value.
     */
    @Generated
    public double getPValue() {
        return this.pValue;
    }

    /**
     * Get the treatmentEffect property: Type of treatment effect.
     *
     * @return the treatmentEffect value.
     */
    @Generated
    public TreatmentEffectType getTreatmentEffect() {
        return this.treatmentEffect;
    }

    /**
     * {@inheritDoc}
     */
    @Generated
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeStringField("treatmentRunId", this.treatmentRunId);
        jsonWriter.writeJsonField("treatmentRunSummary", this.treatmentRunSummary);
        jsonWriter.writeDoubleField("deltaEstimate", this.deltaEstimate);
        jsonWriter.writeDoubleField("pValue", this.pValue);
        jsonWriter.writeStringField("treatmentEffect",
            this.treatmentEffect == null ? null : this.treatmentEffect.toString());
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of EvaluationRunResultCompareItem from the JsonReader.
     *
     * @param jsonReader The JsonReader being read.
     * @return An instance of EvaluationRunResultCompareItem if the JsonReader was pointing to an instance of it, or
     * null if it was pointing to JSON null.
     * @throws IllegalStateException If the deserialized JSON object was missing any required properties.
     * @throws IOException If an error occurs while reading the EvaluationRunResultCompareItem.
     */
    @Generated
    public static EvaluationRunResultCompareItem fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            String treatmentRunId = null;
            EvaluationRunResultSummary treatmentRunSummary = null;
            double deltaEstimate = 0.0;
            double pValue = 0.0;
            TreatmentEffectType treatmentEffect = null;
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();
                if ("treatmentRunId".equals(fieldName)) {
                    treatmentRunId = reader.getString();
                } else if ("treatmentRunSummary".equals(fieldName)) {
                    treatmentRunSummary = EvaluationRunResultSummary.fromJson(reader);
                } else if ("deltaEstimate".equals(fieldName)) {
                    deltaEstimate = reader.getDouble();
                } else if ("pValue".equals(fieldName)) {
                    pValue = reader.getDouble();
                } else if ("treatmentEffect".equals(fieldName)) {
                    treatmentEffect = TreatmentEffectType.fromString(reader.getString());
                } else {
                    reader.skipChildren();
                }
            }
            return new EvaluationRunResultCompareItem(treatmentRunId, treatmentRunSummary, deltaEstimate, pValue,
                treatmentEffect);
        });
    }
}
