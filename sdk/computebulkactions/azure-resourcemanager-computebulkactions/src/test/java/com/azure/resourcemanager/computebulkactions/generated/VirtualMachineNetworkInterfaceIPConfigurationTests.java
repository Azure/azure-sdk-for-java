// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.computebulkactions.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.computebulkactions.models.DeleteOptions;
import com.azure.resourcemanager.computebulkactions.models.DomainNameLabelScopeTypes;
import com.azure.resourcemanager.computebulkactions.models.IPVersions;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSku;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSkuName;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSkuTier;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAllocationMethod;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineIpTag;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineNetworkInterfaceIPConfiguration;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineNetworkInterfaceIPConfigurationProperties;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressConfiguration;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressConfigurationProperties;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressDnsSettingsConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineNetworkInterfaceIPConfigurationTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineNetworkInterfaceIPConfiguration model = BinaryData.fromString(
            "{\"name\":\"exq\",\"properties\":{\"subnet\":{\"id\":\"dmwsrcrgvxpvgomz\"},\"primary\":false,\"publicIPAddressConfiguration\":{\"name\":\"sgwbnbbeld\",\"properties\":{\"idleTimeoutInMinutes\":555346684,\"deleteOption\":\"Delete\",\"dnsSettings\":{\"domainNameLabel\":\"io\",\"domainNameLabelScope\":\"ResourceGroupReuse\"},\"ipTags\":[{\"ipTagType\":\"auhashsfwx\",\"tag\":\"owzxcu\"},{\"ipTagType\":\"cjooxdjebwpucwwf\",\"tag\":\"vbvmeu\"}],\"publicIPPrefix\":{\"id\":\"vyhzceuojgjrwj\"},\"publicIPAddressVersion\":\"IPv6\",\"publicIPAllocationMethod\":\"Dynamic\"},\"sku\":{\"name\":\"Basic\",\"tier\":\"Regional\"},\"tags\":{\"it\":\"x\",\"hniskxfbkpyc\":\"nrjawgqwg\"}},\"privateIPAddressVersion\":\"IPv4\",\"applicationSecurityGroups\":[{\"id\":\"nhjdauw\"},{\"id\":\"ylwz\"}],\"applicationGatewayBackendAddressPools\":[{\"id\":\"xujznbmpowu\"},{\"id\":\"rzqlveu\"},{\"id\":\"upjm\"}],\"loadBalancerBackendAddressPools\":[{\"id\":\"obbc\"},{\"id\":\"s\"},{\"id\":\"jriplrbpbewtghf\"}]}}")
            .toObject(VirtualMachineNetworkInterfaceIPConfiguration.class);
        Assertions.assertEquals("exq", model.name());
        Assertions.assertEquals("dmwsrcrgvxpvgomz", model.properties().subnet().id());
        Assertions.assertFalse(model.properties().primary());
        Assertions.assertEquals("sgwbnbbeld", model.properties().publicIPAddressConfiguration().name());
        Assertions.assertEquals(555346684,
            model.properties().publicIPAddressConfiguration().properties().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DELETE,
            model.properties().publicIPAddressConfiguration().properties().deleteOption());
        Assertions.assertEquals("io",
            model.properties().publicIPAddressConfiguration().properties().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.RESOURCE_GROUP_REUSE,
            model.properties().publicIPAddressConfiguration().properties().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("auhashsfwx",
            model.properties().publicIPAddressConfiguration().properties().ipTags().get(0).ipTagType());
        Assertions.assertEquals("owzxcu",
            model.properties().publicIPAddressConfiguration().properties().ipTags().get(0).tag());
        Assertions.assertEquals("vyhzceuojgjrwj",
            model.properties().publicIPAddressConfiguration().properties().publicIPPrefix().id());
        Assertions.assertEquals(IPVersions.IPV6,
            model.properties().publicIPAddressConfiguration().properties().publicIPAddressVersion());
        Assertions.assertEquals(PublicIPAllocationMethod.DYNAMIC,
            model.properties().publicIPAddressConfiguration().properties().publicIPAllocationMethod());
        Assertions.assertEquals(PublicIPAddressSkuName.BASIC,
            model.properties().publicIPAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIPAddressSkuTier.REGIONAL,
            model.properties().publicIPAddressConfiguration().sku().tier());
        Assertions.assertEquals("x", model.properties().publicIPAddressConfiguration().tags().get("it"));
        Assertions.assertEquals(IPVersions.IPV4, model.properties().privateIPAddressVersion());
        Assertions.assertEquals("nhjdauw", model.properties().applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("xujznbmpowu", model.properties().applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("obbc", model.properties().loadBalancerBackendAddressPools().get(0).id());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineNetworkInterfaceIPConfiguration model
            = new VirtualMachineNetworkInterfaceIPConfiguration().withName("exq")
                .withProperties(new VirtualMachineNetworkInterfaceIPConfigurationProperties()
                    .withSubnet(new SubResource().withId("dmwsrcrgvxpvgomz"))
                    .withPrimary(false)
                    .withPublicIPAddressConfiguration(new VirtualMachinePublicIPAddressConfiguration()
                        .withName("sgwbnbbeld")
                        .withProperties(new VirtualMachinePublicIPAddressConfigurationProperties()
                            .withIdleTimeoutInMinutes(555346684)
                            .withDeleteOption(DeleteOptions.DELETE)
                            .withDnsSettings(
                                new VirtualMachinePublicIPAddressDnsSettingsConfiguration().withDomainNameLabel("io")
                                    .withDomainNameLabelScope(DomainNameLabelScopeTypes.RESOURCE_GROUP_REUSE))
                            .withIpTags(
                                Arrays.asList(new VirtualMachineIpTag().withIpTagType("auhashsfwx").withTag("owzxcu"),
                                    new VirtualMachineIpTag().withIpTagType("cjooxdjebwpucwwf").withTag("vbvmeu")))
                            .withPublicIPPrefix(new SubResource().withId("vyhzceuojgjrwj"))
                            .withPublicIPAddressVersion(IPVersions.IPV6)
                            .withPublicIPAllocationMethod(PublicIPAllocationMethod.DYNAMIC))
                        .withSku(new PublicIPAddressSku().withName(PublicIPAddressSkuName.BASIC)
                            .withTier(PublicIPAddressSkuTier.REGIONAL))
                        .withTags(mapOf("it", "x", "hniskxfbkpyc", "nrjawgqwg")))
                    .withPrivateIPAddressVersion(IPVersions.IPV4)
                    .withApplicationSecurityGroups(
                        Arrays.asList(new SubResource().withId("nhjdauw"), new SubResource().withId("ylwz")))
                    .withApplicationGatewayBackendAddressPools(Arrays.asList(new SubResource().withId("xujznbmpowu"),
                        new SubResource().withId("rzqlveu"), new SubResource().withId("upjm")))
                    .withLoadBalancerBackendAddressPools(Arrays.asList(new SubResource().withId("obbc"),
                        new SubResource().withId("s"), new SubResource().withId("jriplrbpbewtghf"))));
        model = BinaryData.fromObject(model).toObject(VirtualMachineNetworkInterfaceIPConfiguration.class);
        Assertions.assertEquals("exq", model.name());
        Assertions.assertEquals("dmwsrcrgvxpvgomz", model.properties().subnet().id());
        Assertions.assertFalse(model.properties().primary());
        Assertions.assertEquals("sgwbnbbeld", model.properties().publicIPAddressConfiguration().name());
        Assertions.assertEquals(555346684,
            model.properties().publicIPAddressConfiguration().properties().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DELETE,
            model.properties().publicIPAddressConfiguration().properties().deleteOption());
        Assertions.assertEquals("io",
            model.properties().publicIPAddressConfiguration().properties().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.RESOURCE_GROUP_REUSE,
            model.properties().publicIPAddressConfiguration().properties().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("auhashsfwx",
            model.properties().publicIPAddressConfiguration().properties().ipTags().get(0).ipTagType());
        Assertions.assertEquals("owzxcu",
            model.properties().publicIPAddressConfiguration().properties().ipTags().get(0).tag());
        Assertions.assertEquals("vyhzceuojgjrwj",
            model.properties().publicIPAddressConfiguration().properties().publicIPPrefix().id());
        Assertions.assertEquals(IPVersions.IPV6,
            model.properties().publicIPAddressConfiguration().properties().publicIPAddressVersion());
        Assertions.assertEquals(PublicIPAllocationMethod.DYNAMIC,
            model.properties().publicIPAddressConfiguration().properties().publicIPAllocationMethod());
        Assertions.assertEquals(PublicIPAddressSkuName.BASIC,
            model.properties().publicIPAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIPAddressSkuTier.REGIONAL,
            model.properties().publicIPAddressConfiguration().sku().tier());
        Assertions.assertEquals("x", model.properties().publicIPAddressConfiguration().tags().get("it"));
        Assertions.assertEquals(IPVersions.IPV4, model.properties().privateIPAddressVersion());
        Assertions.assertEquals("nhjdauw", model.properties().applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("xujznbmpowu", model.properties().applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("obbc", model.properties().loadBalancerBackendAddressPools().get(0).id());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
