// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.computebulkactions.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.computebulkactions.models.DeleteOptions;
import com.azure.resourcemanager.computebulkactions.models.IPVersions;
import com.azure.resourcemanager.computebulkactions.models.NetworkInterfaceAuxiliaryMode;
import com.azure.resourcemanager.computebulkactions.models.NetworkInterfaceAuxiliarySku;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSku;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSkuName;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSkuTier;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAllocationMethod;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineIpTag;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineNetworkInterfaceConfigurationProperties;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineNetworkInterfaceDnsSettingsConfiguration;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineNetworkInterfaceIPConfiguration;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineNetworkInterfaceIPConfigurationProperties;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressConfiguration;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressConfigurationProperties;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressDnsSettingsConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineNetworkInterfaceConfigurationPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineNetworkInterfaceConfigurationProperties model = BinaryData.fromString(
            "{\"primary\":true,\"deleteOption\":\"Detach\",\"enableAcceleratedNetworking\":false,\"disableTcpStateTracking\":false,\"enableFpga\":true,\"enableIPForwarding\":false,\"networkSecurityGroup\":{\"id\":\"vce\"},\"dnsSettings\":{\"dnsServers\":[\"lo\",\"notyfjfcnjbkcn\"]},\"ipConfigurations\":[{\"name\":\"hbttkphyw\",\"properties\":{\"subnet\":{\"id\":\"t\"},\"primary\":false,\"publicIPAddressConfiguration\":{\"name\":\"rmclfplphoxu\",\"properties\":{\"idleTimeoutInMinutes\":2041952882,\"deleteOption\":\"Delete\",\"dnsSettings\":{\"domainNameLabel\":\"ye\"},\"ipTags\":[{},{},{},{}],\"publicIPPrefix\":{},\"publicIPAddressVersion\":\"IPv6\",\"publicIPAllocationMethod\":\"Static\"},\"sku\":{\"name\":\"Standard\",\"tier\":\"Regional\"},\"tags\":{\"ids\":\"ueefjzwfqkqu\",\"ocqxtccmg\":\"yonobgl\"}},\"privateIPAddressVersion\":\"IPv4\",\"applicationSecurityGroups\":[{\"id\":\"lmoyrx\"},{\"id\":\"fudwpznt\"},{\"id\":\"dzhlrq\"},{\"id\":\"hckfrlhrx\"}],\"applicationGatewayBackendAddressPools\":[{\"id\":\"vpycanuzbp\"}],\"loadBalancerBackendAddressPools\":[{\"id\":\"kuwbcrnwb\"},{\"id\":\"hhseyv\"}]}}],\"dscpConfiguration\":{\"id\":\"rts\"},\"auxiliaryMode\":\"Floating\",\"auxiliarySku\":\"A1\"}")
            .toObject(VirtualMachineNetworkInterfaceConfigurationProperties.class);
        Assertions.assertTrue(model.primary());
        Assertions.assertEquals(DeleteOptions.DETACH, model.deleteOption());
        Assertions.assertFalse(model.enableAcceleratedNetworking());
        Assertions.assertFalse(model.disableTcpStateTracking());
        Assertions.assertTrue(model.enableFpga());
        Assertions.assertFalse(model.enableIPForwarding());
        Assertions.assertEquals("vce", model.networkSecurityGroup().id());
        Assertions.assertEquals("lo", model.dnsSettings().dnsServers().get(0));
        Assertions.assertEquals("hbttkphyw", model.ipConfigurations().get(0).name());
        Assertions.assertEquals("t", model.ipConfigurations().get(0).properties().subnet().id());
        Assertions.assertFalse(model.ipConfigurations().get(0).properties().primary());
        Assertions.assertEquals("rmclfplphoxu",
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().name());
        Assertions.assertEquals(2041952882,
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DELETE,
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().properties().deleteOption());
        Assertions.assertEquals("ye",
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .dnsSettings()
                .domainNameLabel());
        Assertions.assertEquals(IPVersions.IPV6,
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .publicIPAddressVersion());
        Assertions.assertEquals(PublicIPAllocationMethod.STATIC,
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .publicIPAllocationMethod());
        Assertions.assertEquals(PublicIPAddressSkuName.STANDARD,
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIPAddressSkuTier.REGIONAL,
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().sku().tier());
        Assertions.assertEquals("ueefjzwfqkqu",
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().tags().get("ids"));
        Assertions.assertEquals(IPVersions.IPV4,
            model.ipConfigurations().get(0).properties().privateIPAddressVersion());
        Assertions.assertEquals("lmoyrx",
            model.ipConfigurations().get(0).properties().applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("vpycanuzbp",
            model.ipConfigurations().get(0).properties().applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("kuwbcrnwb",
            model.ipConfigurations().get(0).properties().loadBalancerBackendAddressPools().get(0).id());
        Assertions.assertEquals("rts", model.dscpConfiguration().id());
        Assertions.assertEquals(NetworkInterfaceAuxiliaryMode.FLOATING, model.auxiliaryMode());
        Assertions.assertEquals(NetworkInterfaceAuxiliarySku.A1, model.auxiliarySku());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineNetworkInterfaceConfigurationProperties model
            = new VirtualMachineNetworkInterfaceConfigurationProperties().withPrimary(true)
                .withDeleteOption(DeleteOptions.DETACH)
                .withEnableAcceleratedNetworking(false)
                .withDisableTcpStateTracking(false)
                .withEnableFpga(true)
                .withEnableIPForwarding(false)
                .withNetworkSecurityGroup(new SubResource().withId("vce"))
                .withDnsSettings(new VirtualMachineNetworkInterfaceDnsSettingsConfiguration()
                    .withDnsServers(Arrays.asList("lo", "notyfjfcnjbkcn")))
                .withIpConfigurations(
                    Arrays
                        .asList(new VirtualMachineNetworkInterfaceIPConfiguration().withName("hbttkphyw")
                            .withProperties(new VirtualMachineNetworkInterfaceIPConfigurationProperties()
                                .withSubnet(new SubResource().withId("t"))
                                .withPrimary(false)
                                .withPublicIPAddressConfiguration(new VirtualMachinePublicIPAddressConfiguration()
                                    .withName("rmclfplphoxu")
                                    .withProperties(new VirtualMachinePublicIPAddressConfigurationProperties()
                                        .withIdleTimeoutInMinutes(2041952882)
                                        .withDeleteOption(DeleteOptions.DELETE)
                                        .withDnsSettings(new VirtualMachinePublicIPAddressDnsSettingsConfiguration()
                                            .withDomainNameLabel("ye"))
                                        .withIpTags(Arrays.asList(new VirtualMachineIpTag(), new VirtualMachineIpTag(),
                                            new VirtualMachineIpTag(), new VirtualMachineIpTag()))
                                        .withPublicIPPrefix(new SubResource())
                                        .withPublicIPAddressVersion(IPVersions.IPV6)
                                        .withPublicIPAllocationMethod(PublicIPAllocationMethod.STATIC))
                                    .withSku(new PublicIPAddressSku().withName(PublicIPAddressSkuName.STANDARD)
                                        .withTier(PublicIPAddressSkuTier.REGIONAL))
                                    .withTags(mapOf("ids", "ueefjzwfqkqu", "ocqxtccmg", "yonobgl")))
                                .withPrivateIPAddressVersion(IPVersions.IPV4)
                                .withApplicationSecurityGroups(Arrays.asList(new SubResource().withId("lmoyrx"),
                                    new SubResource().withId("fudwpznt"), new SubResource().withId("dzhlrq"),
                                    new SubResource().withId("hckfrlhrx")))
                                .withApplicationGatewayBackendAddressPools(
                                    Arrays.asList(new SubResource().withId("vpycanuzbp")))
                                .withLoadBalancerBackendAddressPools(Arrays.asList(
                                    new SubResource().withId("kuwbcrnwb"), new SubResource().withId("hhseyv"))))))
                .withDscpConfiguration(new SubResource().withId("rts"))
                .withAuxiliaryMode(NetworkInterfaceAuxiliaryMode.FLOATING)
                .withAuxiliarySku(NetworkInterfaceAuxiliarySku.A1);
        model = BinaryData.fromObject(model).toObject(VirtualMachineNetworkInterfaceConfigurationProperties.class);
        Assertions.assertTrue(model.primary());
        Assertions.assertEquals(DeleteOptions.DETACH, model.deleteOption());
        Assertions.assertFalse(model.enableAcceleratedNetworking());
        Assertions.assertFalse(model.disableTcpStateTracking());
        Assertions.assertTrue(model.enableFpga());
        Assertions.assertFalse(model.enableIPForwarding());
        Assertions.assertEquals("vce", model.networkSecurityGroup().id());
        Assertions.assertEquals("lo", model.dnsSettings().dnsServers().get(0));
        Assertions.assertEquals("hbttkphyw", model.ipConfigurations().get(0).name());
        Assertions.assertEquals("t", model.ipConfigurations().get(0).properties().subnet().id());
        Assertions.assertFalse(model.ipConfigurations().get(0).properties().primary());
        Assertions.assertEquals("rmclfplphoxu",
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().name());
        Assertions.assertEquals(2041952882,
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DELETE,
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().properties().deleteOption());
        Assertions.assertEquals("ye",
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .dnsSettings()
                .domainNameLabel());
        Assertions.assertEquals(IPVersions.IPV6,
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .publicIPAddressVersion());
        Assertions.assertEquals(PublicIPAllocationMethod.STATIC,
            model.ipConfigurations()
                .get(0)
                .properties()
                .publicIPAddressConfiguration()
                .properties()
                .publicIPAllocationMethod());
        Assertions.assertEquals(PublicIPAddressSkuName.STANDARD,
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIPAddressSkuTier.REGIONAL,
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().sku().tier());
        Assertions.assertEquals("ueefjzwfqkqu",
            model.ipConfigurations().get(0).properties().publicIPAddressConfiguration().tags().get("ids"));
        Assertions.assertEquals(IPVersions.IPV4,
            model.ipConfigurations().get(0).properties().privateIPAddressVersion());
        Assertions.assertEquals("lmoyrx",
            model.ipConfigurations().get(0).properties().applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("vpycanuzbp",
            model.ipConfigurations().get(0).properties().applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("kuwbcrnwb",
            model.ipConfigurations().get(0).properties().loadBalancerBackendAddressPools().get(0).id());
        Assertions.assertEquals("rts", model.dscpConfiguration().id());
        Assertions.assertEquals(NetworkInterfaceAuxiliaryMode.FLOATING, model.auxiliaryMode());
        Assertions.assertEquals(NetworkInterfaceAuxiliarySku.A1, model.auxiliarySku());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
