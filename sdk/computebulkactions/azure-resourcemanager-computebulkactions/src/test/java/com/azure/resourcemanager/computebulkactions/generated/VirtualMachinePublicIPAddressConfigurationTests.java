// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.computebulkactions.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.computebulkactions.models.DeleteOptions;
import com.azure.resourcemanager.computebulkactions.models.DomainNameLabelScopeTypes;
import com.azure.resourcemanager.computebulkactions.models.IPVersions;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSku;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSkuName;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAddressSkuTier;
import com.azure.resourcemanager.computebulkactions.models.PublicIPAllocationMethod;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachineIpTag;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressConfiguration;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressConfigurationProperties;
import com.azure.resourcemanager.computebulkactions.models.VirtualMachinePublicIPAddressDnsSettingsConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachinePublicIPAddressConfigurationTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachinePublicIPAddressConfiguration model = BinaryData.fromString(
            "{\"name\":\"jpkiidzyexznelix\",\"properties\":{\"idleTimeoutInMinutes\":417791826,\"deleteOption\":\"Detach\",\"dnsSettings\":{\"domainNameLabel\":\"lhbnxkna\",\"domainNameLabelScope\":\"NoReuse\"},\"ipTags\":[{\"ipTagType\":\"ggdtpnapnyiro\",\"tag\":\"hpigv\"}],\"publicIPPrefix\":{\"id\":\"lgqg\"},\"publicIPAddressVersion\":\"IPv6\",\"publicIPAllocationMethod\":\"Static\"},\"sku\":{\"name\":\"Basic\",\"tier\":\"Global\"},\"tags\":{\"wwncwzzhxgk\":\"n\",\"t\":\"rmgucnap\",\"fdygpfqbuaceopz\":\"oellwp\",\"opppcqeq\":\"qrhhu\"}}")
            .toObject(VirtualMachinePublicIPAddressConfiguration.class);
        Assertions.assertEquals("jpkiidzyexznelix", model.name());
        Assertions.assertEquals(417791826, model.properties().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DETACH, model.properties().deleteOption());
        Assertions.assertEquals("lhbnxkna", model.properties().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.NO_REUSE,
            model.properties().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("ggdtpnapnyiro", model.properties().ipTags().get(0).ipTagType());
        Assertions.assertEquals("hpigv", model.properties().ipTags().get(0).tag());
        Assertions.assertEquals("lgqg", model.properties().publicIPPrefix().id());
        Assertions.assertEquals(IPVersions.IPV6, model.properties().publicIPAddressVersion());
        Assertions.assertEquals(PublicIPAllocationMethod.STATIC, model.properties().publicIPAllocationMethod());
        Assertions.assertEquals(PublicIPAddressSkuName.BASIC, model.sku().name());
        Assertions.assertEquals(PublicIPAddressSkuTier.GLOBAL, model.sku().tier());
        Assertions.assertEquals("n", model.tags().get("wwncwzzhxgk"));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachinePublicIPAddressConfiguration model = new VirtualMachinePublicIPAddressConfiguration()
            .withName("jpkiidzyexznelix")
            .withProperties(new VirtualMachinePublicIPAddressConfigurationProperties()
                .withIdleTimeoutInMinutes(417791826)
                .withDeleteOption(DeleteOptions.DETACH)
                .withDnsSettings(
                    new VirtualMachinePublicIPAddressDnsSettingsConfiguration().withDomainNameLabel("lhbnxkna")
                        .withDomainNameLabelScope(DomainNameLabelScopeTypes.NO_REUSE))
                .withIpTags(Arrays.asList(new VirtualMachineIpTag().withIpTagType("ggdtpnapnyiro").withTag("hpigv")))
                .withPublicIPPrefix(new SubResource().withId("lgqg"))
                .withPublicIPAddressVersion(IPVersions.IPV6)
                .withPublicIPAllocationMethod(PublicIPAllocationMethod.STATIC))
            .withSku(
                new PublicIPAddressSku().withName(PublicIPAddressSkuName.BASIC).withTier(PublicIPAddressSkuTier.GLOBAL))
            .withTags(mapOf("wwncwzzhxgk", "n", "t", "rmgucnap", "fdygpfqbuaceopz", "oellwp", "opppcqeq", "qrhhu"));
        model = BinaryData.fromObject(model).toObject(VirtualMachinePublicIPAddressConfiguration.class);
        Assertions.assertEquals("jpkiidzyexznelix", model.name());
        Assertions.assertEquals(417791826, model.properties().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DETACH, model.properties().deleteOption());
        Assertions.assertEquals("lhbnxkna", model.properties().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.NO_REUSE,
            model.properties().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("ggdtpnapnyiro", model.properties().ipTags().get(0).ipTagType());
        Assertions.assertEquals("hpigv", model.properties().ipTags().get(0).tag());
        Assertions.assertEquals("lgqg", model.properties().publicIPPrefix().id());
        Assertions.assertEquals(IPVersions.IPV6, model.properties().publicIPAddressVersion());
        Assertions.assertEquals(PublicIPAllocationMethod.STATIC, model.properties().publicIPAllocationMethod());
        Assertions.assertEquals(PublicIPAddressSkuName.BASIC, model.sku().name());
        Assertions.assertEquals(PublicIPAddressSkuTier.GLOBAL, model.sku().tier());
        Assertions.assertEquals("n", model.tags().get("wwncwzzhxgk"));
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
