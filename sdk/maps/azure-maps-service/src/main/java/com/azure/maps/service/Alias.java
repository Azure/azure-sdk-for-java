// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.maps.service;

import com.azure.core.annotation.Delete;
import com.azure.core.annotation.ExpectedResponses;
import com.azure.core.annotation.Get;
import com.azure.core.annotation.HeaderParam;
import com.azure.core.annotation.Host;
import com.azure.core.annotation.HostParam;
import com.azure.core.annotation.PathParam;
import com.azure.core.annotation.Post;
import com.azure.core.annotation.Put;
import com.azure.core.annotation.QueryParam;
import com.azure.core.annotation.ReturnType;
import com.azure.core.annotation.ServiceInterface;
import com.azure.core.annotation.ServiceMethod;
import com.azure.core.annotation.UnexpectedResponseExceptionType;
import com.azure.core.http.rest.Response;
import com.azure.core.http.rest.RestProxy;
import com.azure.maps.service.models.AliasCreateResponse;
import com.azure.maps.service.models.AliasCreateResponseV2;
import com.azure.maps.service.models.AliasListItem;
import com.azure.maps.service.models.AliasListResponse;
import com.azure.maps.service.models.ErrorResponseException;
import reactor.core.publisher.Mono;

/** An instance of this class provides access to all the operations defined in Alias. */
public final class Alias {
    /** The proxy service used to perform REST calls. */
    private final AliasService service;

    /** The service client containing this operation class. */
    private final MapsClient client;

    /**
     * Initializes an instance of Alias.
     *
     * @param client the instance of the service client containing this operation class.
     */
    Alias(MapsClient client) {
        this.service = RestProxy.create(AliasService.class, client.getHttpPipeline(), client.getSerializerAdapter());
        this.client = client;
    }

    /**
     * The interface defining all the services for MapsClientAlias to be used by the proxy service to perform REST
     * calls.
     */
    @Host("{$host}")
    @ServiceInterface(name = "MapsClientAlias")
    private interface AliasService {
        @Post("/aliases")
        @ExpectedResponses({201, 201})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<AliasCreateResponse> create(
                @HostParam("$host") String host,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @QueryParam("creatorDataItemId") String creatorDataItemId,
                @HeaderParam("Accept") String accept);

        @Get("/aliases")
        @ExpectedResponses({200, 200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<AliasListResponse>> list(
                @HostParam("$host") String host,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @HeaderParam("Accept") String accept);

        @Put("/aliases/{aliasId}")
        @ExpectedResponses({200, 200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<AliasListItem>> assign(
                @HostParam("$host") String host,
                @PathParam("aliasId") String aliasId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @QueryParam("creatorDataItemId") String creatorDataItemId,
                @HeaderParam("Accept") String accept);

        @Delete("/aliases/{aliasId}")
        @ExpectedResponses({204})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<Void>> delete(
                @HostParam("$host") String host,
                @PathParam("aliasId") String aliasId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @HeaderParam("Accept") String accept);

        @Get("/aliases/{aliasId}")
        @ExpectedResponses({200, 200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<AliasListItem>> getDetails(
                @HostParam("$host") String host,
                @PathParam("aliasId") String aliasId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @HeaderParam("Accept") String accept);
    }

    /**
     * ## Alias - Create API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to create an alias. You can also assign the alias during the create request. An
     * alias can reference an ID generated by a creator service, but cannot reference another alias ID.
     *
     * <p>### Submit Create Request
     *
     * <p>To create your alias, you will use a `POST` request. If you would like to assign the alias during the
     * creation, you will pass the `resourceId` query parameter.
     *
     * <p>### Create Alias Response
     *
     * <p>The Create API returns a HTTP `201 Created` response with the alias resource in the body.
     *
     * <p>A sample response from creating an alias:
     *
     * <p>```json { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId": "a8a4b8bb-ecf4-fb27-a618-f41721552766",
     * "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14", "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" }
     * ```.
     *
     * @param creatorDataItemId The unique id that references a creator data item to be aliased.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return the response model for the Alias Create API for the case when the alias was successfully created.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<AliasCreateResponse> createWithResponseAsync(String creatorDataItemId) {
        final String apiVersion = "2.0";
        final String accept = "application/json, application/xml";
        return service.create(
                this.client.getHost(), this.client.getSubscriptionKey(), apiVersion, creatorDataItemId, accept);
    }

    /**
     * ## Alias - Create API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to create an alias. You can also assign the alias during the create request. An
     * alias can reference an ID generated by a creator service, but cannot reference another alias ID.
     *
     * <p>### Submit Create Request
     *
     * <p>To create your alias, you will use a `POST` request. If you would like to assign the alias during the
     * creation, you will pass the `resourceId` query parameter.
     *
     * <p>### Create Alias Response
     *
     * <p>The Create API returns a HTTP `201 Created` response with the alias resource in the body.
     *
     * <p>A sample response from creating an alias:
     *
     * <p>```json { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId": "a8a4b8bb-ecf4-fb27-a618-f41721552766",
     * "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14", "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" }
     * ```.
     *
     * @param creatorDataItemId The unique id that references a creator data item to be aliased.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return the response model for the Alias Create API for the case when the alias was successfully created.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<AliasCreateResponseV2> createAsync(String creatorDataItemId) {
        return createWithResponseAsync(creatorDataItemId)
                .flatMap(
                        (AliasCreateResponse res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * ## Alias - List API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to fetch a list of all previously successfully created aliases.
     *
     * <p>### Submit List Request
     *
     * <p>To list all your aliases, you will issue a `GET` request with no additional parameters.
     *
     * <p>### List Data Response
     *
     * <p>The List API returns the complete list of all aliases in `json` format. The response contains the following
     * details for each alias resource: &gt; createdTimestamp - The timestamp that the alias was created. Format
     * yyyy-MM-ddTHH:mm:ss.sssZ &gt; aliasId - The id for the alias. &gt; creatorDataItemId - The id for the creator
     * data item that this alias references (could be null if the alias has not been assigned). &gt;
     * lastUpdatedTimestamp - The last time the alias was assigned to a resource. Format yyyy-MM-ddTHH:mm:ss.sssZ
     *
     * <p>A sample response returning 2 alias resources:
     *
     * <p>```json { "aliases": [ { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId":
     * "a8a4b8bb-ecf4-fb27-a618-f41721552766", "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14",
     * "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" }, { "createdTimestamp": "2020-02-18T19:53:33.123Z",
     * "aliasId": "1856dbfc-7a66-ee5a-bf8d-51dbfe1906f6", "creatorDataItemId": null, "lastUpdatedTimestamp":
     * "2020-02-18T19:53:33.123Z" } ] } ```.
     *
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return the response model for the List API.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<AliasListResponse>> listWithResponseAsync() {
        final String apiVersion = "2.0";
        final String accept = "application/json, application/xml";
        return service.list(this.client.getHost(), this.client.getSubscriptionKey(), apiVersion, accept);
    }

    /**
     * ## Alias - List API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to fetch a list of all previously successfully created aliases.
     *
     * <p>### Submit List Request
     *
     * <p>To list all your aliases, you will issue a `GET` request with no additional parameters.
     *
     * <p>### List Data Response
     *
     * <p>The List API returns the complete list of all aliases in `json` format. The response contains the following
     * details for each alias resource: &gt; createdTimestamp - The timestamp that the alias was created. Format
     * yyyy-MM-ddTHH:mm:ss.sssZ &gt; aliasId - The id for the alias. &gt; creatorDataItemId - The id for the creator
     * data item that this alias references (could be null if the alias has not been assigned). &gt;
     * lastUpdatedTimestamp - The last time the alias was assigned to a resource. Format yyyy-MM-ddTHH:mm:ss.sssZ
     *
     * <p>A sample response returning 2 alias resources:
     *
     * <p>```json { "aliases": [ { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId":
     * "a8a4b8bb-ecf4-fb27-a618-f41721552766", "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14",
     * "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" }, { "createdTimestamp": "2020-02-18T19:53:33.123Z",
     * "aliasId": "1856dbfc-7a66-ee5a-bf8d-51dbfe1906f6", "creatorDataItemId": null, "lastUpdatedTimestamp":
     * "2020-02-18T19:53:33.123Z" } ] } ```.
     *
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return the response model for the List API.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<AliasListResponse> listAsync() {
        return listWithResponseAsync()
                .flatMap(
                        (Response<AliasListResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * ## Alias - Assign API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to assign an alias to reference a resource.
     *
     * <p>### Submit Assign Request
     *
     * <p>To assign your alias to a resource, you will use a `PUT` request with the `aliasId` in the path and the
     * `creatorDataItemId` passed as a query parameter.
     *
     * <p>### Assign Alias Response
     *
     * <p>The Assign API returns a HTTP `200 OK` response with the updated alias resource in the body, if the alias was
     * assigned successfully. A sample of the assign response is
     *
     * <p>```json { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId": "a8a4b8bb-ecf4-fb27-a618-f41721552766",
     * "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14", "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" }
     * ```.
     *
     * @param aliasId The unique id that references an existing alias.
     * @param creatorDataItemId The unique id that references a creator data item to be aliased.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return detailed information for the alias.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<AliasListItem>> assignWithResponseAsync(String aliasId, String creatorDataItemId) {
        final String apiVersion = "2.0";
        final String accept = "application/json, application/xml";
        return service.assign(
                this.client.getHost(),
                aliasId,
                this.client.getSubscriptionKey(),
                apiVersion,
                creatorDataItemId,
                accept);
    }

    /**
     * ## Alias - Assign API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to assign an alias to reference a resource.
     *
     * <p>### Submit Assign Request
     *
     * <p>To assign your alias to a resource, you will use a `PUT` request with the `aliasId` in the path and the
     * `creatorDataItemId` passed as a query parameter.
     *
     * <p>### Assign Alias Response
     *
     * <p>The Assign API returns a HTTP `200 OK` response with the updated alias resource in the body, if the alias was
     * assigned successfully. A sample of the assign response is
     *
     * <p>```json { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId": "a8a4b8bb-ecf4-fb27-a618-f41721552766",
     * "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14", "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" }
     * ```.
     *
     * @param aliasId The unique id that references an existing alias.
     * @param creatorDataItemId The unique id that references a creator data item to be aliased.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return detailed information for the alias.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<AliasListItem> assignAsync(String aliasId, String creatorDataItemId) {
        return assignWithResponseAsync(aliasId, creatorDataItemId)
                .flatMap(
                        (Response<AliasListItem> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * ## Alias - Delete API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to delete a previously created alias. You can also use this API to delete
     * old/unused aliases to create space for new content.This API does not delete the references resource, only the
     * alias referencing the resource.
     *
     * <p>### Submit Delete Request
     *
     * <p>To delete your alias you will issue a `DELETE` request where the path will contain the `aliasId` of the alias
     * to delete.
     *
     * <p>### Delete Alias Response
     *
     * <p>The Delete API returns a HTTP `204 No Content` response with an empty body, if the alias was deleted
     * successfully.
     *
     * @param aliasId The unique id that references an existing alias.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return the completion.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<Void>> deleteWithResponseAsync(String aliasId) {
        final String apiVersion = "2.0";
        final String accept = "application/json, application/xml";
        return service.delete(this.client.getHost(), aliasId, this.client.getSubscriptionKey(), apiVersion, accept);
    }

    /**
     * ## Alias - Delete API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to delete a previously created alias. You can also use this API to delete
     * old/unused aliases to create space for new content.This API does not delete the references resource, only the
     * alias referencing the resource.
     *
     * <p>### Submit Delete Request
     *
     * <p>To delete your alias you will issue a `DELETE` request where the path will contain the `aliasId` of the alias
     * to delete.
     *
     * <p>### Delete Alias Response
     *
     * <p>The Delete API returns a HTTP `204 No Content` response with an empty body, if the alias was deleted
     * successfully.
     *
     * @param aliasId The unique id that references an existing alias.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return the completion.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Void> deleteAsync(String aliasId) {
        return deleteWithResponseAsync(aliasId).flatMap((Response<Void> res) -> Mono.empty());
    }

    /**
     * ## Alias - Get Details API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to fetch the details of a previously created alias.
     *
     * <p>### Submit Get Details Request
     *
     * <p>To get the details of your alias, you will issue a `GET` request with the `aliasId` in the path.
     *
     * <p>### Get Details Response
     *
     * <p>The Get Details API returns the previously created alias in `json` format. The response contains the following
     * details for the alias resource: &gt; createdTimestamp - The timestamp that the alias was created. &gt; aliasId -
     * The id for the alias. &gt; creatorDataItemId - The id for the creator data item that this alias references (could
     * be null if the alias has not been assigned). &gt; lastUpdatedTimestamp - The last time the alias was assigned to
     * a resource.
     *
     * <p>Here's a sample response: ```json { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId":
     * "a8a4b8bb-ecf4-fb27-a618-f41721552766", "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14",
     * "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" } ```.
     *
     * @param aliasId The unique id that references an existing alias.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return detailed information for the alias.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<AliasListItem>> getDetailsWithResponseAsync(String aliasId) {
        final String apiVersion = "2.0";
        final String accept = "application/json, application/xml";
        return service.getDetails(this.client.getHost(), aliasId, this.client.getSubscriptionKey(), apiVersion, accept);
    }

    /**
     * ## Alias - Get Details API
     *
     * <p>### Applies to: S1 pricing tier.
     *
     * <p>This API allows the caller to fetch the details of a previously created alias.
     *
     * <p>### Submit Get Details Request
     *
     * <p>To get the details of your alias, you will issue a `GET` request with the `aliasId` in the path.
     *
     * <p>### Get Details Response
     *
     * <p>The Get Details API returns the previously created alias in `json` format. The response contains the following
     * details for the alias resource: &gt; createdTimestamp - The timestamp that the alias was created. &gt; aliasId -
     * The id for the alias. &gt; creatorDataItemId - The id for the creator data item that this alias references (could
     * be null if the alias has not been assigned). &gt; lastUpdatedTimestamp - The last time the alias was assigned to
     * a resource.
     *
     * <p>Here's a sample response: ```json { "createdTimestamp": "2020-02-13T21:19:11.123Z", "aliasId":
     * "a8a4b8bb-ecf4-fb27-a618-f41721552766", "creatorDataItemId": "e89aebb9-70a3-8fe1-32bb-1fbd0c725f14",
     * "lastUpdatedTimestamp": "2020-02-13T21:19:22.123Z" } ```.
     *
     * @param aliasId The unique id that references an existing alias.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return detailed information for the alias.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<AliasListItem> getDetailsAsync(String aliasId) {
        return getDetailsWithResponseAsync(aliasId)
                .flatMap(
                        (Response<AliasListItem> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }
}
