// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.microsoft.azure.maps.service;

import com.azure.core.annotation.BodyParam;
import com.azure.core.annotation.ExpectedResponses;
import com.azure.core.annotation.Get;
import com.azure.core.annotation.HeaderParam;
import com.azure.core.annotation.Host;
import com.azure.core.annotation.HostParam;
import com.azure.core.annotation.PathParam;
import com.azure.core.annotation.Post;
import com.azure.core.annotation.QueryParam;
import com.azure.core.annotation.ReturnType;
import com.azure.core.annotation.ServiceInterface;
import com.azure.core.annotation.ServiceMethod;
import com.azure.core.annotation.UnexpectedResponseExceptionType;
import com.azure.core.http.rest.Response;
import com.azure.core.http.rest.RestProxy;
import com.microsoft.azure.maps.service.models.BufferRequestBody;
import com.microsoft.azure.maps.service.models.BufferResponse;
import com.microsoft.azure.maps.service.models.ErrorResponseException;
import com.microsoft.azure.maps.service.models.GeoJsonFeatureCollection;
import com.microsoft.azure.maps.service.models.GeofenceMode;
import com.microsoft.azure.maps.service.models.GeofenceResponse;
import com.microsoft.azure.maps.service.models.GetClosestPointResponse;
import com.microsoft.azure.maps.service.models.GetPointInPolygonResponse;
import com.microsoft.azure.maps.service.models.GreatCircleDistanceResponse;
import com.microsoft.azure.maps.service.models.JsonFormat;
import com.microsoft.azure.maps.service.models.PostClosestPointResponse;
import com.microsoft.azure.maps.service.models.PostPointInPolygonResponse;
import com.microsoft.azure.maps.service.models.SpatialsGetGeofenceResponse;
import com.microsoft.azure.maps.service.models.SpatialsPostGeofenceResponse;
import reactor.core.publisher.Mono;

/** An instance of this class provides access to all the operations defined in Spatials. */
public final class Spatials {
    /** The proxy service used to perform REST calls. */
    private final SpatialsService service;

    /** The service client containing this operation class. */
    private final MapsClient client;

    /**
     * Initializes an instance of Spatials.
     *
     * @param client the instance of the service client containing this operation class.
     */
    Spatials(MapsClient client) {
        this.service = RestProxy.create(SpatialsService.class, client.getHttpPipeline(), client.getSerializerAdapter());
        this.client = client;
    }

    /**
     * The interface defining all the services for MapsClientSpatials to be used by the proxy service to perform REST
     * calls.
     */
    @Host("{$host}")
    @ServiceInterface(name = "MapsClientSpatials")
    private interface SpatialsService {
        @Get("/spatial/geofence/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<SpatialsGetGeofenceResponse> getGeofence(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("deviceId") String deviceId,
                @QueryParam("udId") String udId,
                @QueryParam("lat") float lat,
                @QueryParam("lon") float lon,
                @QueryParam("z") Float z,
                @QueryParam("userTime") String userTime,
                @QueryParam("searchBuffer") Float searchBuffer,
                @QueryParam("isAsync") Boolean isAsync,
                @QueryParam("mode") GeofenceMode mode,
                @HeaderParam("Accept") String accept);

        @Post("/spatial/geofence/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<SpatialsPostGeofenceResponse> postGeofence(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("deviceId") String deviceId,
                @QueryParam("lat") float lat,
                @QueryParam("lon") float lon,
                @QueryParam("z") Float z,
                @QueryParam("userTime") String userTime,
                @QueryParam("searchBuffer") Float searchBuffer,
                @QueryParam("isAsync") Boolean isAsync,
                @QueryParam("mode") GeofenceMode mode,
                @BodyParam("application/json") GeoJsonFeatureCollection searchGeofenceRequestBody,
                @HeaderParam("Accept") String accept);

        @Post("/spatial/buffer/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<BufferResponse>> postBuffer(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @BodyParam("application/json") BufferRequestBody bufferRequestBody,
                @HeaderParam("Accept") String accept);

        @Get("/spatial/buffer/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<BufferResponse>> getBuffer(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("udid") String udid,
                @QueryParam("distances") String distances,
                @HeaderParam("Accept") String accept);

        @Post("/spatial/closestPoint/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<PostClosestPointResponse>> postClosestPoint(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("lat") float lat,
                @QueryParam("lon") float lon,
                @QueryParam("numberOfClosestPoints") Integer numberOfClosestPoints,
                @BodyParam("application/json") GeoJsonFeatureCollection closestPointRequestBody,
                @HeaderParam("Accept") String accept);

        @Get("/spatial/closestPoint/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<GetClosestPointResponse>> getClosestPoint(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("udid") String udid,
                @QueryParam("lat") float lat,
                @QueryParam("lon") float lon,
                @QueryParam("numberOfClosestPoints") Integer numberOfClosestPoints,
                @HeaderParam("Accept") String accept);

        @Post("/spatial/pointInPolygon/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<PostPointInPolygonResponse>> postPointInPolygon(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("lat") float lat,
                @QueryParam("lon") float lon,
                @BodyParam("application/json") GeoJsonFeatureCollection pointInPolygonRequestBody,
                @HeaderParam("Accept") String accept);

        @Get("/spatial/pointInPolygon/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<GetPointInPolygonResponse>> getPointInPolygon(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("udid") String udid,
                @QueryParam("lat") float lat,
                @QueryParam("lon") float lon,
                @HeaderParam("Accept") String accept);

        @Get("/spatial/greatCircleDistance/{format}")
        @ExpectedResponses({200})
        @UnexpectedResponseExceptionType(
                value = ErrorResponseException.class,
                code = {400, 400, 401, 401, 403, 403, 404, 404, 500, 500})
        @UnexpectedResponseExceptionType(ErrorResponseException.class)
        Mono<Response<GreatCircleDistanceResponse>> getGreatCircleDistance(
                @HostParam("$host") String host,
                @HeaderParam("x-ms-client-id") String xMsClientId,
                @QueryParam("subscription-key") String subscriptionKey,
                @QueryParam("api-version") String apiVersion,
                @PathParam("format") JsonFormat format,
                @QueryParam("query") String query,
                @HeaderParam("Accept") String accept);
    }

    /**
     * **Search Geofence Get API**
     *
     * <p>**Applies to:** S1 Pricing tier.
     *
     * <p>The Geofence Get API allows you to retrieve the proximity of a coordinate to a geofence that has been uploaded
     * to the Data service. You can use the [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) to upload a geofence or set of fences.
     * See [Geofencing GeoJSON data](https://docs.microsoft.com/en-us/azure/azure-maps/geofence-geojson) for more
     * details on the geofence data format. To query the proximity of a coordinate, you supply the location of the
     * object you are tracking as well as the ID for the fence or set of fences, and the response will contain
     * information about the distance from the outer edge of the geofence. A negative value signifies that the
     * coordinate is inside of the fence while a positive value means that it is outside of the
     * fence.&lt;br&gt;&lt;br&gt;This API can be used for a variety of scenarios that include things like asset
     * tracking, fleet management, or setting up alerts for moving objects.
     *
     * <p>The API supports [integration with Event
     * Grid](https://docs.microsoft.com/azure/azure-maps/azure-maps-event-grid-integration). The isAsync parameter is
     * used to enable integration with Event Grid (disabled by default). To test this API, you can upload the sample
     * data from Post Geofence API examples(Request Body) via Data Upload API and replace the [udid] from the sample
     * request below with the udid returned by Data Upload API.
     *
     * <p>### Geofencing InnerError code
     *
     * <p>In geofencing response error contract, `innererror` is an object containing service specific information about
     * the error. `code` is a property in `innererror` which can map to a specific geofencing error type. The table
     * belows shows the code mapping between all the known client error type to the corresponding geofencing error
     * `message`.
     *
     * <p>innererror.code | error.message ---------------------------- | --------------------------------------
     * NullDeviceId | Device Id should not be null. NullUdid | Udid should not be null. UdidWrongFormat| Udid should be
     * acquired from user data ingestion API. InvalidUserTime| Usertime is invalid. InvalidSearchBuffer| Searchbuffer is
     * invalid. InvalidSearchRange| The value range of searchbuffer should be from 0 to 500 meters. InvalidLatLon| Lat
     * and/or lon parameters are invalid. InvalidIsAsyncValue| The IsAsync parameter is invalid. InvalidModeValue| The
     * mode parameter invalid. InvalidJson| Geofencing data is not a valid json file. NotSupportedGeoJson| Geofencing
     * data can't be read as a Feature or FeatureCollections. InvalidGeoJson| Geofencing data is invalid.
     * NoUserDataWithAccountOrSubscription| Can't find user geofencing data with provided account-id and/or
     * subscription-id. NoUserDataWithUdid| Can't find user geofencing data with provided udId.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param deviceId ID of the device.
     * @param udId The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param lat The latitude of the location being passed. Example: 48.36.
     * @param lon The longitude of the location being passed. Example: -124.63.
     * @param z The sea level in meter of the location being passed. If this parameter is presented, 2D extrusion is
     *     used. Example: 200.
     * @param userTime The user request time. If not presented in the request, the default value is DateTime.Now.
     * @param searchBuffer The radius of the buffer around the geofence in meters that defines how far to search inside
     *     and outside the border of the fence against the coordinate that was provided when calculating the result. The
     *     minimum value is 0, and the maximum is 500. The default value is 50.
     * @param isAsync If true, the request will use async event mechanism; if false, the request will be synchronized
     *     and do not trigger any event. The default value is false.
     * @param mode Mode of the geofencing async event mechanism.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a geofence proximity call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<SpatialsGetGeofenceResponse> getGeofenceWithResponseAsync(
            JsonFormat format,
            String deviceId,
            String udId,
            float lat,
            float lon,
            Float z,
            String userTime,
            Float searchBuffer,
            Boolean isAsync,
            GeofenceMode mode) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.getGeofence(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                deviceId,
                udId,
                lat,
                lon,
                z,
                userTime,
                searchBuffer,
                isAsync,
                mode,
                accept);
    }

    /**
     * **Search Geofence Get API**
     *
     * <p>**Applies to:** S1 Pricing tier.
     *
     * <p>The Geofence Get API allows you to retrieve the proximity of a coordinate to a geofence that has been uploaded
     * to the Data service. You can use the [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) to upload a geofence or set of fences.
     * See [Geofencing GeoJSON data](https://docs.microsoft.com/en-us/azure/azure-maps/geofence-geojson) for more
     * details on the geofence data format. To query the proximity of a coordinate, you supply the location of the
     * object you are tracking as well as the ID for the fence or set of fences, and the response will contain
     * information about the distance from the outer edge of the geofence. A negative value signifies that the
     * coordinate is inside of the fence while a positive value means that it is outside of the
     * fence.&lt;br&gt;&lt;br&gt;This API can be used for a variety of scenarios that include things like asset
     * tracking, fleet management, or setting up alerts for moving objects.
     *
     * <p>The API supports [integration with Event
     * Grid](https://docs.microsoft.com/azure/azure-maps/azure-maps-event-grid-integration). The isAsync parameter is
     * used to enable integration with Event Grid (disabled by default). To test this API, you can upload the sample
     * data from Post Geofence API examples(Request Body) via Data Upload API and replace the [udid] from the sample
     * request below with the udid returned by Data Upload API.
     *
     * <p>### Geofencing InnerError code
     *
     * <p>In geofencing response error contract, `innererror` is an object containing service specific information about
     * the error. `code` is a property in `innererror` which can map to a specific geofencing error type. The table
     * belows shows the code mapping between all the known client error type to the corresponding geofencing error
     * `message`.
     *
     * <p>innererror.code | error.message ---------------------------- | --------------------------------------
     * NullDeviceId | Device Id should not be null. NullUdid | Udid should not be null. UdidWrongFormat| Udid should be
     * acquired from user data ingestion API. InvalidUserTime| Usertime is invalid. InvalidSearchBuffer| Searchbuffer is
     * invalid. InvalidSearchRange| The value range of searchbuffer should be from 0 to 500 meters. InvalidLatLon| Lat
     * and/or lon parameters are invalid. InvalidIsAsyncValue| The IsAsync parameter is invalid. InvalidModeValue| The
     * mode parameter invalid. InvalidJson| Geofencing data is not a valid json file. NotSupportedGeoJson| Geofencing
     * data can't be read as a Feature or FeatureCollections. InvalidGeoJson| Geofencing data is invalid.
     * NoUserDataWithAccountOrSubscription| Can't find user geofencing data with provided account-id and/or
     * subscription-id. NoUserDataWithUdid| Can't find user geofencing data with provided udId.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param deviceId ID of the device.
     * @param udId The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param lat The latitude of the location being passed. Example: 48.36.
     * @param lon The longitude of the location being passed. Example: -124.63.
     * @param z The sea level in meter of the location being passed. If this parameter is presented, 2D extrusion is
     *     used. Example: 200.
     * @param userTime The user request time. If not presented in the request, the default value is DateTime.Now.
     * @param searchBuffer The radius of the buffer around the geofence in meters that defines how far to search inside
     *     and outside the border of the fence against the coordinate that was provided when calculating the result. The
     *     minimum value is 0, and the maximum is 500. The default value is 50.
     * @param isAsync If true, the request will use async event mechanism; if false, the request will be synchronized
     *     and do not trigger any event. The default value is false.
     * @param mode Mode of the geofencing async event mechanism.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a geofence proximity call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<GeofenceResponse> getGeofenceAsync(
            JsonFormat format,
            String deviceId,
            String udId,
            float lat,
            float lon,
            Float z,
            String userTime,
            Float searchBuffer,
            Boolean isAsync,
            GeofenceMode mode) {
        return getGeofenceWithResponseAsync(format, deviceId, udId, lat, lon, z, userTime, searchBuffer, isAsync, mode)
                .flatMap(
                        (SpatialsGetGeofenceResponse res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Search Geofence Post API** **Applies to:** S1 Pricing tier. The Geofence Post API allows you to retrieve the
     * proximity of a coordinate to a provided geofence or set of fences. With POST call, you do not have to upload the
     * fence data in advance, instead you supply the location of the object you are tracking in query parameters as well
     * as the fence or set of fences data in post request body. See [Geofencing GeoJSON
     * data](https://docs.microsoft.com/en-us/azure/azure-maps/geofence-geojson) for more details on the geofence data
     * format. The response will contain information about the distance from the outer edge of the geofence. A negative
     * value signifies that the coordinate is inside of the fence while a positive value means that it is outside of the
     * fence.&lt;br&gt;&lt;br&gt;This API can be used for a variety of scenarios that include things like asset
     * tracking, fleet management, or setting up alerts for moving objects.
     *
     * <p>The API supports [integration with Event
     * Grid](https://docs.microsoft.com/azure/azure-maps/azure-maps-event-grid-integration). The isAsync parameter is
     * used to enable integration with Event Grid (disabled by default).
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param deviceId ID of the device.
     * @param lat The latitude of the location being passed. Example: 48.36.
     * @param lon The longitude of the location being passed. Example: -124.63.
     * @param searchGeofenceRequestBody The geofencing GeoJSON data.
     * @param z The sea level in meter of the location being passed. If this parameter is presented, 2D extrusion
     *     geofencing is applied. Example: 200.
     * @param userTime The user request time. If not presented in the request, the default value is DateTime.UtcNow.
     * @param searchBuffer The radius of the buffer around the geofence in meters that defines how far to search inside
     *     and outside the border of the fence against the coordinate that was provided when calculating the result. The
     *     minimum value is 0, and the maximum is 500. The default value is 50.
     * @param isAsync If true, the request will use async event mechanism; if false, the request will be synchronized
     *     and do not trigger any event. The default value is false.
     * @param mode Mode of the geofencing async event mechanism.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a geofence proximity call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<SpatialsPostGeofenceResponse> postGeofenceWithResponseAsync(
            JsonFormat format,
            String deviceId,
            float lat,
            float lon,
            GeoJsonFeatureCollection searchGeofenceRequestBody,
            Float z,
            String userTime,
            Float searchBuffer,
            Boolean isAsync,
            GeofenceMode mode) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.postGeofence(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                deviceId,
                lat,
                lon,
                z,
                userTime,
                searchBuffer,
                isAsync,
                mode,
                searchGeofenceRequestBody,
                accept);
    }

    /**
     * **Search Geofence Post API** **Applies to:** S1 Pricing tier. The Geofence Post API allows you to retrieve the
     * proximity of a coordinate to a provided geofence or set of fences. With POST call, you do not have to upload the
     * fence data in advance, instead you supply the location of the object you are tracking in query parameters as well
     * as the fence or set of fences data in post request body. See [Geofencing GeoJSON
     * data](https://docs.microsoft.com/en-us/azure/azure-maps/geofence-geojson) for more details on the geofence data
     * format. The response will contain information about the distance from the outer edge of the geofence. A negative
     * value signifies that the coordinate is inside of the fence while a positive value means that it is outside of the
     * fence.&lt;br&gt;&lt;br&gt;This API can be used for a variety of scenarios that include things like asset
     * tracking, fleet management, or setting up alerts for moving objects.
     *
     * <p>The API supports [integration with Event
     * Grid](https://docs.microsoft.com/azure/azure-maps/azure-maps-event-grid-integration). The isAsync parameter is
     * used to enable integration with Event Grid (disabled by default).
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param deviceId ID of the device.
     * @param lat The latitude of the location being passed. Example: 48.36.
     * @param lon The longitude of the location being passed. Example: -124.63.
     * @param searchGeofenceRequestBody The geofencing GeoJSON data.
     * @param z The sea level in meter of the location being passed. If this parameter is presented, 2D extrusion
     *     geofencing is applied. Example: 200.
     * @param userTime The user request time. If not presented in the request, the default value is DateTime.UtcNow.
     * @param searchBuffer The radius of the buffer around the geofence in meters that defines how far to search inside
     *     and outside the border of the fence against the coordinate that was provided when calculating the result. The
     *     minimum value is 0, and the maximum is 500. The default value is 50.
     * @param isAsync If true, the request will use async event mechanism; if false, the request will be synchronized
     *     and do not trigger any event. The default value is false.
     * @param mode Mode of the geofencing async event mechanism.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a geofence proximity call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<GeofenceResponse> postGeofenceAsync(
            JsonFormat format,
            String deviceId,
            float lat,
            float lon,
            GeoJsonFeatureCollection searchGeofenceRequestBody,
            Float z,
            String userTime,
            Float searchBuffer,
            Boolean isAsync,
            GeofenceMode mode) {
        return postGeofenceWithResponseAsync(
                        format, deviceId, lat, lon, searchGeofenceRequestBody, z, userTime, searchBuffer, isAsync, mode)
                .flatMap(
                        (SpatialsPostGeofenceResponse res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a FeatureCollection where each Feature is a buffer around the corresponding indexed Feature
     * of the input. The buffer could be either on the outside or the inside of the provided Feature, depending on the
     * distance provided in the input. There must be either one distance provided per Feature in the FeatureCollection
     * input, or if only one distance is provided, then that distance is applied to every Feature in the collection. The
     * positive (or negative) buffer of a geometry is defined as the Minkowski sum (or difference) of the geometry with
     * a circle of radius equal to the absolute value of the buffer distance. The buffer API always returns a polygonal
     * result. The negative or zero-distance buffer of lines and points is always an empty polygon. The input may
     * contain a collection of Point, MultiPoint, Polygon, MultiPolygon, LineString and MultiLineString.
     * GeometryCollection will be ignored if provided.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param bufferRequestBody The FeatureCollection and the list of distances (one per feature or one for all
     *     features).
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Spatial Buffer call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<BufferResponse>> postBufferWithResponseAsync(
            JsonFormat format, BufferRequestBody bufferRequestBody) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.postBuffer(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                bufferRequestBody,
                accept);
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a FeatureCollection where each Feature is a buffer around the corresponding indexed Feature
     * of the input. The buffer could be either on the outside or the inside of the provided Feature, depending on the
     * distance provided in the input. There must be either one distance provided per Feature in the FeatureCollection
     * input, or if only one distance is provided, then that distance is applied to every Feature in the collection. The
     * positive (or negative) buffer of a geometry is defined as the Minkowski sum (or difference) of the geometry with
     * a circle of radius equal to the absolute value of the buffer distance. The buffer API always returns a polygonal
     * result. The negative or zero-distance buffer of lines and points is always an empty polygon. The input may
     * contain a collection of Point, MultiPoint, Polygon, MultiPolygon, LineString and MultiLineString.
     * GeometryCollection will be ignored if provided.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param bufferRequestBody The FeatureCollection and the list of distances (one per feature or one for all
     *     features).
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Spatial Buffer call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<BufferResponse> postBufferAsync(JsonFormat format, BufferRequestBody bufferRequestBody) {
        return postBufferWithResponseAsync(format, bufferRequestBody)
                .flatMap(
                        (Response<BufferResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a FeatureCollection where each Feature is a buffer around the corresponding indexed Feature
     * of the input. The buffer could be either on the outside or the inside of the provided Feature, depending on the
     * distance provided in the input. There must be either one distance provided per Feature in the FeatureCollection
     * input, or if only one distance is provided, then that distance is applied to every Feature in the collection. The
     * positive (or negative) buffer of a geometry is defined as the Minkowski sum (or difference) of the geometry with
     * a circle of radius equal to the absolute value of the buffer distance. The buffer API always returns a polygonal
     * result. The negative or zero-distance buffer of lines and points is always an empty polygon. The input features
     * are provided by a GeoJSON file which is uploaded via [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and referenced by a unique udid. The
     * GeoJSON file may contain a collection of Point, MultiPoint, Polygon, MultiPolygon, LineString and
     * MultiLineString. GeometryCollection will be ignored if provided.
     *
     * <p>To test this API, you can upload the sample data from [Post Buffer
     * API](https://docs.microsoft.com/en-us/rest/api/maps/spatial/postbuffer#examples) examples(Request Body without
     * distances array) via [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and
     * replace the [udid] from the [sample request
     * below](https://docs.microsoft.com/en-us/rest/api/maps/spatial/getbuffer#examples) with the udid returned by Data
     * Upload API.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param udid The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param distances The list of distances (one per feature or one for all features), delimited by semicolons. For
     *     example, 12.34;-56.78. Positive distance will generate a buffer outside of the feature, whereas negative
     *     distance will generate a buffer inside of the feature. If the negative distance larger than the geometry
     *     itself, an empty polygon will be returned.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Spatial Buffer call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<BufferResponse>> getBufferWithResponseAsync(JsonFormat format, String udid, String distances) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.getBuffer(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                udid,
                distances,
                accept);
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a FeatureCollection where each Feature is a buffer around the corresponding indexed Feature
     * of the input. The buffer could be either on the outside or the inside of the provided Feature, depending on the
     * distance provided in the input. There must be either one distance provided per Feature in the FeatureCollection
     * input, or if only one distance is provided, then that distance is applied to every Feature in the collection. The
     * positive (or negative) buffer of a geometry is defined as the Minkowski sum (or difference) of the geometry with
     * a circle of radius equal to the absolute value of the buffer distance. The buffer API always returns a polygonal
     * result. The negative or zero-distance buffer of lines and points is always an empty polygon. The input features
     * are provided by a GeoJSON file which is uploaded via [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and referenced by a unique udid. The
     * GeoJSON file may contain a collection of Point, MultiPoint, Polygon, MultiPolygon, LineString and
     * MultiLineString. GeometryCollection will be ignored if provided.
     *
     * <p>To test this API, you can upload the sample data from [Post Buffer
     * API](https://docs.microsoft.com/en-us/rest/api/maps/spatial/postbuffer#examples) examples(Request Body without
     * distances array) via [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and
     * replace the [udid] from the [sample request
     * below](https://docs.microsoft.com/en-us/rest/api/maps/spatial/getbuffer#examples) with the udid returned by Data
     * Upload API.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param udid The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param distances The list of distances (one per feature or one for all features), delimited by semicolons. For
     *     example, 12.34;-56.78. Positive distance will generate a buffer outside of the feature, whereas negative
     *     distance will generate a buffer inside of the feature. If the negative distance larger than the geometry
     *     itself, an empty polygon will be returned.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Spatial Buffer call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<BufferResponse> getBufferAsync(JsonFormat format, String udid, String distances) {
        return getBufferWithResponseAsync(format, udid, distances)
                .flatMap(
                        (Response<BufferResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns the closest point between a base point and a given set of target points. The set of target
     * points is provided by user data in post request body. The user data may only contain a collection of Point
     * geometry. MultiPoint or other geometries will be ignored if provided. The algorithm does not take into account
     * routing or traffic. The maximum number of points accepted is 100,000. Information returned includes closest point
     * latitude, longitude, and distance in meters from the closest point.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @param closestPointRequestBody The FeatureCollection of Point geometries from which closest point to source point
     *     should be determined. All the feature's properties should contain `geometryId`, which is used for identifying
     *     the geometry and is case-sensitive.
     * @param numberOfClosestPoints The number of closest points expected from response. Default: 1, minimum: 1 and
     *     maximum: 50.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Post Spatial Closest Point call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<PostClosestPointResponse>> postClosestPointWithResponseAsync(
            JsonFormat format,
            float lat,
            float lon,
            GeoJsonFeatureCollection closestPointRequestBody,
            Integer numberOfClosestPoints) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.postClosestPoint(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                lat,
                lon,
                numberOfClosestPoints,
                closestPointRequestBody,
                accept);
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns the closest point between a base point and a given set of target points. The set of target
     * points is provided by user data in post request body. The user data may only contain a collection of Point
     * geometry. MultiPoint or other geometries will be ignored if provided. The algorithm does not take into account
     * routing or traffic. The maximum number of points accepted is 100,000. Information returned includes closest point
     * latitude, longitude, and distance in meters from the closest point.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @param closestPointRequestBody The FeatureCollection of Point geometries from which closest point to source point
     *     should be determined. All the feature's properties should contain `geometryId`, which is used for identifying
     *     the geometry and is case-sensitive.
     * @param numberOfClosestPoints The number of closest points expected from response. Default: 1, minimum: 1 and
     *     maximum: 50.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Post Spatial Closest Point call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<PostClosestPointResponse> postClosestPointAsync(
            JsonFormat format,
            float lat,
            float lon,
            GeoJsonFeatureCollection closestPointRequestBody,
            Integer numberOfClosestPoints) {
        return postClosestPointWithResponseAsync(format, lat, lon, closestPointRequestBody, numberOfClosestPoints)
                .flatMap(
                        (Response<PostClosestPointResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns the closest point between a base point and a given set of points in the user uploaded data
     * set identified by udid. The set of target points is provided by a GeoJSON file which is uploaded via [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and referenced by a unique udid. The
     * GeoJSON file may only contain a collection of Point geometry. MultiPoint or other geometries will be ignored if
     * provided. The maximum number of points accepted is 100,000. The algorithm does not take into account routing or
     * traffic. Information returned includes closest point latitude, longitude, and distance in meters from the closest
     * point.
     *
     * <p>To test this API, you can upload the sample data from [Post Closest Point
     * API](https://docs.microsoft.com/en-us/rest/api/maps/spatial/postclosestpoint#examples) examples(Request Body) via
     * [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and replace the [udid] from
     * the [sample request below](https://docs.microsoft.com/en-us/rest/api/maps/spatial/getclosestpoint#examples) with
     * the udid returned by Data Upload API.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param udid The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @param numberOfClosestPoints The number of closest points expected from response. Default: 1, minimum: 1 and
     *     maximum: 50.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Get Spatial Closest Point call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<GetClosestPointResponse>> getClosestPointWithResponseAsync(
            JsonFormat format, String udid, float lat, float lon, Integer numberOfClosestPoints) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.getClosestPoint(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                udid,
                lat,
                lon,
                numberOfClosestPoints,
                accept);
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns the closest point between a base point and a given set of points in the user uploaded data
     * set identified by udid. The set of target points is provided by a GeoJSON file which is uploaded via [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and referenced by a unique udid. The
     * GeoJSON file may only contain a collection of Point geometry. MultiPoint or other geometries will be ignored if
     * provided. The maximum number of points accepted is 100,000. The algorithm does not take into account routing or
     * traffic. Information returned includes closest point latitude, longitude, and distance in meters from the closest
     * point.
     *
     * <p>To test this API, you can upload the sample data from [Post Closest Point
     * API](https://docs.microsoft.com/en-us/rest/api/maps/spatial/postclosestpoint#examples) examples(Request Body) via
     * [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and replace the [udid] from
     * the [sample request below](https://docs.microsoft.com/en-us/rest/api/maps/spatial/getclosestpoint#examples) with
     * the udid returned by Data Upload API.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param udid The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @param numberOfClosestPoints The number of closest points expected from response. Default: 1, minimum: 1 and
     *     maximum: 50.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Get Spatial Closest Point call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<GetClosestPointResponse> getClosestPointAsync(
            JsonFormat format, String udid, float lat, float lon, Integer numberOfClosestPoints) {
        return getClosestPointWithResponseAsync(format, udid, lat, lon, numberOfClosestPoints)
                .flatMap(
                        (Response<GetClosestPointResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a boolean value indicating whether a point is inside a set of polygons. The user data may
     * contain Polygon and MultiPolygon geometries, other geometries will be ignored if provided. If the point is inside
     * or on the boundary of one of these polygons, the value returned is true. In all other cases, the value returned
     * is false. When the point is inside multiple polygons, the result will give intersecting geometries section to
     * show all valid geometries (referenced by geometryId) in user data. The maximum number of vertices accepted to
     * form a Polygon is 10,000.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @param pointInPolygonRequestBody A FeatureCollection with a set of Polygon/MultiPolygon geometries. The maximum
     *     number of vertices accepted to form a Polygon is 10,000. All the feature's properties should contain
     *     `geometryId`, which is used for identifying the geometry and is case-sensitive.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return returns true if point is within the polygon, false otherwise.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<PostPointInPolygonResponse>> postPointInPolygonWithResponseAsync(
            JsonFormat format, float lat, float lon, GeoJsonFeatureCollection pointInPolygonRequestBody) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.postPointInPolygon(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                lat,
                lon,
                pointInPolygonRequestBody,
                accept);
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a boolean value indicating whether a point is inside a set of polygons. The user data may
     * contain Polygon and MultiPolygon geometries, other geometries will be ignored if provided. If the point is inside
     * or on the boundary of one of these polygons, the value returned is true. In all other cases, the value returned
     * is false. When the point is inside multiple polygons, the result will give intersecting geometries section to
     * show all valid geometries (referenced by geometryId) in user data. The maximum number of vertices accepted to
     * form a Polygon is 10,000.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @param pointInPolygonRequestBody A FeatureCollection with a set of Polygon/MultiPolygon geometries. The maximum
     *     number of vertices accepted to form a Polygon is 10,000. All the feature's properties should contain
     *     `geometryId`, which is used for identifying the geometry and is case-sensitive.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return returns true if point is within the polygon, false otherwise.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<PostPointInPolygonResponse> postPointInPolygonAsync(
            JsonFormat format, float lat, float lon, GeoJsonFeatureCollection pointInPolygonRequestBody) {
        return postPointInPolygonWithResponseAsync(format, lat, lon, pointInPolygonRequestBody)
                .flatMap(
                        (Response<PostPointInPolygonResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a boolean value indicating whether a point is inside a set of polygons. The set of polygons
     * is provided by a GeoJSON file which is uploaded via [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and referenced by a unique udid. The
     * GeoJSON file may contain Polygon and MultiPolygon geometries, other geometries will be ignored if provided. If
     * the point is inside or on the boundary of one of these polygons, the value returned is true. In all other cases,
     * the value returned is false. When the point is inside multiple polygons, the result will give intersecting
     * geometries section to show all valid geometries(referenced by geometryId) in user data. The maximum number of
     * vertices accepted to form a Polygon is 10,000.
     *
     * <p>To test this API, you can upload the sample data from [Post Point In Polygon
     * API](https://docs.microsoft.com/en-us/rest/api/maps/spatial/postpointinpolygon#examples) examples(Request Body)
     * via [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and replace the [udid]
     * from the [sample request
     * below](https://docs.microsoft.com/en-us/rest/api/maps/spatial/getpointinpolygon#examples) with the udid returned
     * by Data Upload API.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param udid The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return returns true if point is within the polygon, false otherwise.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<GetPointInPolygonResponse>> getPointInPolygonWithResponseAsync(
            JsonFormat format, String udid, float lat, float lon) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.getPointInPolygon(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                udid,
                lat,
                lon,
                accept);
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API returns a boolean value indicating whether a point is inside a set of polygons. The set of polygons
     * is provided by a GeoJSON file which is uploaded via [Data Upload
     * API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and referenced by a unique udid. The
     * GeoJSON file may contain Polygon and MultiPolygon geometries, other geometries will be ignored if provided. If
     * the point is inside or on the boundary of one of these polygons, the value returned is true. In all other cases,
     * the value returned is false. When the point is inside multiple polygons, the result will give intersecting
     * geometries section to show all valid geometries(referenced by geometryId) in user data. The maximum number of
     * vertices accepted to form a Polygon is 10,000.
     *
     * <p>To test this API, you can upload the sample data from [Post Point In Polygon
     * API](https://docs.microsoft.com/en-us/rest/api/maps/spatial/postpointinpolygon#examples) examples(Request Body)
     * via [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) and replace the [udid]
     * from the [sample request
     * below](https://docs.microsoft.com/en-us/rest/api/maps/spatial/getpointinpolygon#examples) with the udid returned
     * by Data Upload API.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param udid The unique id returned from [Data Upload
     *     API](https://docs.microsoft.com/en-us/rest/api/maps/data/uploadPreview) after uploading a valid GeoJSON
     *     FeatureCollection object. Please refer to [RFC 7946](https://tools.ietf.org/html/rfc7946#section-3.3) for
     *     details. All the feature's properties should contain `geometryId`, which is used for identifying the geometry
     *     and is case-sensitive.
     * @param lat The base point latitude of the location being passed. Example: 47.622942.
     * @param lon The base point longitude of the location being passed. Example: -122.316456.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return returns true if point is within the polygon, false otherwise.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<GetPointInPolygonResponse> getPointInPolygonAsync(
            JsonFormat format, String udid, float lat, float lon) {
        return getPointInPolygonWithResponseAsync(format, udid, lat, lon)
                .flatMap(
                        (Response<GetPointInPolygonResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API will return the great-circle or shortest distance between two points on the surface of a sphere,
     * measured along the surface of the sphere. This differs from calculating a straight line through the sphere's
     * interior. This method is helpful for estimating travel distances for airplanes by calculating the shortest
     * distance between airports.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param query The Coordinates through which the distance is calculated, delimited by a colon. Two coordinates are
     *     required. The first one is the source point coordinate and the last is the target point coordinate. For
     *     example, 47.622942,122.316456:57.673988,127.121513.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Great Circle Distance call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<Response<GreatCircleDistanceResponse>> getGreatCircleDistanceWithResponseAsync(
            JsonFormat format, String query) {
        final String apiVersion = "1.0";
        final String accept = "application/json, application/xml";
        return service.getGreatCircleDistance(
                this.client.getHost(),
                this.client.getXMsClientId(),
                this.client.getSubscriptionKey(),
                apiVersion,
                format,
                query,
                accept);
    }

    /**
     * **Applies to**: S1 pricing tier.
     *
     * <p>This API will return the great-circle or shortest distance between two points on the surface of a sphere,
     * measured along the surface of the sphere. This differs from calculating a straight line through the sphere's
     * interior. This method is helpful for estimating travel distances for airplanes by calculating the shortest
     * distance between airports.
     *
     * @param format Desired format of the response. Only `json` format is supported.
     * @param query The Coordinates through which the distance is calculated, delimited by a colon. Two coordinates are
     *     required. The first one is the source point coordinate and the last is the target point coordinate. For
     *     example, 47.622942,122.316456:57.673988,127.121513.
     * @throws IllegalArgumentException thrown if parameters fail the validation.
     * @throws ErrorResponseException thrown if the request is rejected by server.
     * @throws ErrorResponseException thrown if the request is rejected by server on status code 400, 400, 401, 401,
     *     403, 403, 404, 404, 500, 500.
     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.
     * @return this object is returned from a successful Great Circle Distance call.
     */
    @ServiceMethod(returns = ReturnType.SINGLE)
    public Mono<GreatCircleDistanceResponse> getGreatCircleDistanceAsync(JsonFormat format, String query) {
        return getGreatCircleDistanceWithResponseAsync(format, query)
                .flatMap(
                        (Response<GreatCircleDistanceResponse> res) -> {
                            if (res.getValue() != null) {
                                return Mono.just(res.getValue());
                            } else {
                                return Mono.empty();
                            }
                        });
    }
}
