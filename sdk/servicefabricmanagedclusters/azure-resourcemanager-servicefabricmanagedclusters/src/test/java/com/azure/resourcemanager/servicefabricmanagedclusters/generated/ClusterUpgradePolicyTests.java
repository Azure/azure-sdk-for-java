// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.servicefabricmanagedclusters.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ClusterHealthPolicy;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ClusterMonitoringPolicy;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ClusterUpgradeDeltaHealthPolicy;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ClusterUpgradePolicy;
import org.junit.jupiter.api.Assertions;

public final class ClusterUpgradePolicyTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ClusterUpgradePolicy model = BinaryData.fromString(
            "{\"forceRestart\":true,\"healthPolicy\":{\"maxPercentUnhealthyNodes\":1682881109,\"maxPercentUnhealthyApplications\":207967373},\"deltaHealthPolicy\":{\"maxPercentDeltaUnhealthyNodes\":2025880638,\"maxPercentUpgradeDomainDeltaUnhealthyNodes\":2135802257,\"maxPercentDeltaUnhealthyApplications\":1817909710},\"monitoringPolicy\":{\"healthCheckWaitDuration\":\"xtrthz\",\"healthCheckStableDuration\":\"aytdwkqbrq\",\"healthCheckRetryTimeout\":\"bpaxhexiilivpdt\",\"upgradeTimeout\":\"irqtdqoa\",\"upgradeDomainTimeout\":\"oruzfgsquyfxrxx\"},\"upgradeReplicaSetCheckTimeout\":\"ptramxj\"}")
            .toObject(ClusterUpgradePolicy.class);
        Assertions.assertTrue(model.forceRestart());
        Assertions.assertEquals(1682881109, model.healthPolicy().maxPercentUnhealthyNodes());
        Assertions.assertEquals(207967373, model.healthPolicy().maxPercentUnhealthyApplications());
        Assertions.assertEquals(2025880638, model.deltaHealthPolicy().maxPercentDeltaUnhealthyNodes());
        Assertions.assertEquals(2135802257, model.deltaHealthPolicy().maxPercentUpgradeDomainDeltaUnhealthyNodes());
        Assertions.assertEquals(1817909710, model.deltaHealthPolicy().maxPercentDeltaUnhealthyApplications());
        Assertions.assertEquals("xtrthz", model.monitoringPolicy().healthCheckWaitDuration());
        Assertions.assertEquals("aytdwkqbrq", model.monitoringPolicy().healthCheckStableDuration());
        Assertions.assertEquals("bpaxhexiilivpdt", model.monitoringPolicy().healthCheckRetryTimeout());
        Assertions.assertEquals("irqtdqoa", model.monitoringPolicy().upgradeTimeout());
        Assertions.assertEquals("oruzfgsquyfxrxx", model.monitoringPolicy().upgradeDomainTimeout());
        Assertions.assertEquals("ptramxj", model.upgradeReplicaSetCheckTimeout());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ClusterUpgradePolicy model = new ClusterUpgradePolicy().withForceRestart(true)
            .withHealthPolicy(new ClusterHealthPolicy().withMaxPercentUnhealthyNodes(1682881109)
                .withMaxPercentUnhealthyApplications(207967373))
            .withDeltaHealthPolicy(new ClusterUpgradeDeltaHealthPolicy().withMaxPercentDeltaUnhealthyNodes(2025880638)
                .withMaxPercentUpgradeDomainDeltaUnhealthyNodes(2135802257)
                .withMaxPercentDeltaUnhealthyApplications(1817909710))
            .withMonitoringPolicy(new ClusterMonitoringPolicy().withHealthCheckWaitDuration("xtrthz")
                .withHealthCheckStableDuration("aytdwkqbrq")
                .withHealthCheckRetryTimeout("bpaxhexiilivpdt")
                .withUpgradeTimeout("irqtdqoa")
                .withUpgradeDomainTimeout("oruzfgsquyfxrxx"))
            .withUpgradeReplicaSetCheckTimeout("ptramxj");
        model = BinaryData.fromObject(model).toObject(ClusterUpgradePolicy.class);
        Assertions.assertTrue(model.forceRestart());
        Assertions.assertEquals(1682881109, model.healthPolicy().maxPercentUnhealthyNodes());
        Assertions.assertEquals(207967373, model.healthPolicy().maxPercentUnhealthyApplications());
        Assertions.assertEquals(2025880638, model.deltaHealthPolicy().maxPercentDeltaUnhealthyNodes());
        Assertions.assertEquals(2135802257, model.deltaHealthPolicy().maxPercentUpgradeDomainDeltaUnhealthyNodes());
        Assertions.assertEquals(1817909710, model.deltaHealthPolicy().maxPercentDeltaUnhealthyApplications());
        Assertions.assertEquals("xtrthz", model.monitoringPolicy().healthCheckWaitDuration());
        Assertions.assertEquals("aytdwkqbrq", model.monitoringPolicy().healthCheckStableDuration());
        Assertions.assertEquals("bpaxhexiilivpdt", model.monitoringPolicy().healthCheckRetryTimeout());
        Assertions.assertEquals("irqtdqoa", model.monitoringPolicy().upgradeTimeout());
        Assertions.assertEquals("oruzfgsquyfxrxx", model.monitoringPolicy().upgradeDomainTimeout());
        Assertions.assertEquals("ptramxj", model.upgradeReplicaSetCheckTimeout());
    }
}
