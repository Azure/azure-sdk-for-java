// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.servicefabricmanagedclusters.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.MoveCost;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ScalingMechanism;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ScalingPolicy;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ScalingTrigger;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ServiceCorrelation;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ServiceCorrelationScheme;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ServiceLoadMetric;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ServiceLoadMetricWeight;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ServicePlacementPolicy;
import com.azure.resourcemanager.servicefabricmanagedclusters.models.ServiceResourcePropertiesBase;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ServiceResourcePropertiesBaseTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ServiceResourcePropertiesBase model = BinaryData.fromString(
            "{\"placementConstraints\":\"ndslgnayqigynduh\",\"correlationScheme\":[{\"scheme\":\"AlignedAffinity\",\"serviceName\":\"lkthu\"},{\"scheme\":\"NonAlignedAffinity\",\"serviceName\":\"qolbgyc\"},{\"scheme\":\"AlignedAffinity\",\"serviceName\":\"iertgccymvaolp\"}],\"serviceLoadMetrics\":[{\"name\":\"qlfmmdnbb\",\"weight\":\"Medium\",\"primaryDefaultLoad\":1340500207,\"secondaryDefaultLoad\":870818177,\"defaultLoad\":220182660},{\"name\":\"mcwyhzdxssadb\",\"weight\":\"Medium\",\"primaryDefaultLoad\":487755858,\"secondaryDefaultLoad\":1045217690,\"defaultLoad\":307071571}],\"servicePlacementPolicies\":[{\"type\":\"ServicePlacementPolicy\"}],\"defaultMoveCost\":\"High\",\"scalingPolicies\":[{\"scalingMechanism\":{\"kind\":\"ScalingMechanism\"},\"scalingTrigger\":{\"kind\":\"ScalingTrigger\"}}]}")
            .toObject(ServiceResourcePropertiesBase.class);
        Assertions.assertEquals("ndslgnayqigynduh", model.placementConstraints());
        Assertions.assertEquals(ServiceCorrelationScheme.ALIGNED_AFFINITY, model.correlationScheme().get(0).scheme());
        Assertions.assertEquals("lkthu", model.correlationScheme().get(0).serviceName());
        Assertions.assertEquals("qlfmmdnbb", model.serviceLoadMetrics().get(0).name());
        Assertions.assertEquals(ServiceLoadMetricWeight.MEDIUM, model.serviceLoadMetrics().get(0).weight());
        Assertions.assertEquals(1340500207, model.serviceLoadMetrics().get(0).primaryDefaultLoad());
        Assertions.assertEquals(870818177, model.serviceLoadMetrics().get(0).secondaryDefaultLoad());
        Assertions.assertEquals(220182660, model.serviceLoadMetrics().get(0).defaultLoad());
        Assertions.assertEquals(MoveCost.HIGH, model.defaultMoveCost());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ServiceResourcePropertiesBase model = new ServiceResourcePropertiesBase()
            .withPlacementConstraints("ndslgnayqigynduh")
            .withCorrelationScheme(Arrays.asList(
                new ServiceCorrelation().withScheme(ServiceCorrelationScheme.ALIGNED_AFFINITY).withServiceName("lkthu"),
                new ServiceCorrelation().withScheme(ServiceCorrelationScheme.NON_ALIGNED_AFFINITY)
                    .withServiceName("qolbgyc"),
                new ServiceCorrelation().withScheme(ServiceCorrelationScheme.ALIGNED_AFFINITY)
                    .withServiceName("iertgccymvaolp")))
            .withServiceLoadMetrics(Arrays.asList(
                new ServiceLoadMetric().withName("qlfmmdnbb")
                    .withWeight(ServiceLoadMetricWeight.MEDIUM)
                    .withPrimaryDefaultLoad(1340500207)
                    .withSecondaryDefaultLoad(870818177)
                    .withDefaultLoad(220182660),
                new ServiceLoadMetric().withName("mcwyhzdxssadb")
                    .withWeight(ServiceLoadMetricWeight.MEDIUM)
                    .withPrimaryDefaultLoad(487755858)
                    .withSecondaryDefaultLoad(1045217690)
                    .withDefaultLoad(307071571)))
            .withServicePlacementPolicies(Arrays.asList(new ServicePlacementPolicy()))
            .withDefaultMoveCost(MoveCost.HIGH)
            .withScalingPolicies(Arrays.asList(new ScalingPolicy().withScalingMechanism(new ScalingMechanism())
                .withScalingTrigger(new ScalingTrigger())));
        model = BinaryData.fromObject(model).toObject(ServiceResourcePropertiesBase.class);
        Assertions.assertEquals("ndslgnayqigynduh", model.placementConstraints());
        Assertions.assertEquals(ServiceCorrelationScheme.ALIGNED_AFFINITY, model.correlationScheme().get(0).scheme());
        Assertions.assertEquals("lkthu", model.correlationScheme().get(0).serviceName());
        Assertions.assertEquals("qlfmmdnbb", model.serviceLoadMetrics().get(0).name());
        Assertions.assertEquals(ServiceLoadMetricWeight.MEDIUM, model.serviceLoadMetrics().get(0).weight());
        Assertions.assertEquals(1340500207, model.serviceLoadMetrics().get(0).primaryDefaultLoad());
        Assertions.assertEquals(870818177, model.serviceLoadMetrics().get(0).secondaryDefaultLoad());
        Assertions.assertEquals(220182660, model.serviceLoadMetrics().get(0).defaultLoad());
        Assertions.assertEquals(MoveCost.HIGH, model.defaultMoveCost());
    }
}
