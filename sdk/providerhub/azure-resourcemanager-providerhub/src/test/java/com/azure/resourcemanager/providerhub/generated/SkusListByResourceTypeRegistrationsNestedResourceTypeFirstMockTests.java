// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.providerhub.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.providerhub.ProviderHubManager;
import com.azure.resourcemanager.providerhub.models.SkuResource;
import com.azure.resourcemanager.providerhub.models.SkuScaleType;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class SkusListByResourceTypeRegistrationsNestedResourceTypeFirstMockTests {
    @Test
    public void testListByResourceTypeRegistrationsNestedResourceTypeFirst() throws Exception {
        String responseStr
            = "{\"value\":[{\"properties\":{\"skuSettings\":[{\"name\":\"ayunomirhpfabenq\",\"tier\":\"mwmgewayxfl\",\"size\":\"cpjs\",\"family\":\"hemhcucsqsnxfbx\",\"kind\":\"eapdrbzyv\",\"locations\":[\"adulpodkaxp\",\"obkzhmhjdqltdel\",\"qrojadhfztlray\",\"rkgzkyhudbkuw\"],\"locationInfo\":[{\"location\":\"xl\"},{\"location\":\"weakfecjvxfa\"},{\"location\":\"ufqizjvppw\"},{\"location\":\"oajeyyjmjjxizx\"}],\"requiredQuotaIds\":[\"nzlslekc\",\"tgzkjtyqpd\",\"adeghztldsvc\"],\"requiredFeatures\":[\"iahuqymjzucw\",\"mejjqhddwvmq\"],\"capacity\":{\"minimum\":1648732325,\"maximum\":1347757609,\"default\":1872555981,\"scaleType\":\"Automatic\"},\"costs\":[{\"meterId\":\"bn\"},{\"meterId\":\"x\"},{\"meterId\":\"ypfqpgaixw\"}],\"capabilities\":[{\"name\":\"kkderfrswq\",\"value\":\"kwepwo\"},{\"name\":\"ggicwnxhtfmcqbs\",\"value\":\"d\"},{\"name\":\"pgchzpgfqum\",\"value\":\"djxh\"},{\"name\":\"ghgodkynrceq\",\"value\":\"v\"}]},{\"name\":\"dbd\",\"tier\":\"mxjdnaju\",\"size\":\"jyyqmkw\",\"family\":\"vcwloqd\",\"kind\":\"kluxxrwzobuzmsxg\",\"locations\":[\"dtkwppth\",\"zdprmimrljdpoqfx\",\"emhkftbaewht\"],\"locationInfo\":[{\"location\":\"oamfmxtllfltymqc\"},{\"location\":\"rrfijhgg\"},{\"location\":\"bqbgamklilirwdv\"},{\"location\":\"fhsdpzouhkt\"}],\"requiredQuotaIds\":[\"qwqnjxrdfddt\",\"llygta\"],\"requiredFeatures\":[\"cxdfweapy\",\"mlx\",\"ljphraspifleimi\",\"lmdbgic\"],\"capacity\":{\"minimum\":500495779,\"maximum\":325161889,\"default\":1730229929,\"scaleType\":\"None\"},\"costs\":[{\"meterId\":\"bpxtokljmtznpaxw\"},{\"meterId\":\"qtyyqiprcltungb\"}],\"capabilities\":[{\"name\":\"jck\",\"value\":\"iigz\"},{\"name\":\"kuckgkdskswtiiq\",\"value\":\"cqikclsm\"},{\"name\":\"lnssw\",\"value\":\"ykdnonaaxwmg\"}]},{\"name\":\"ru\",\"tier\":\"qcwnynl\",\"size\":\"iqbcbgv\",\"family\":\"t\",\"kind\":\"rtoxadhxuvjhxm\",\"locations\":[\"s\",\"jcm\"],\"locationInfo\":[{\"location\":\"mlgicvnpvvdhgjna\"},{\"location\":\"yqipslzmvcdsvm\"},{\"location\":\"bit\"}],\"requiredQuotaIds\":[\"tfo\",\"vfiybxqichgyb\"],\"requiredFeatures\":[\"qekivycpz\",\"vdizulrqtbh\",\"re\",\"pzl\"],\"capacity\":{\"minimum\":1001240638,\"maximum\":1722811310,\"default\":1828676246,\"scaleType\":\"None\"},\"costs\":[{\"meterId\":\"fkgilnoudccgnd\"}],\"capabilities\":[{\"name\":\"prigg\",\"value\":\"qyeqfcbuulpyuflq\"},{\"name\":\"fsh\",\"value\":\"ujcyohigimwdc\"}]},{\"name\":\"klkqnqvkixnmb\",\"tier\":\"ecuyr\",\"size\":\"imb\",\"family\":\"yspzvrie\",\"kind\":\"fphmdzxplg\",\"locations\":[\"dvatlzmgschn\",\"rsbkkzovlzdmnfmf\",\"sx\"],\"locationInfo\":[{\"location\":\"fuwori\"},{\"location\":\"movzwde\"},{\"location\":\"kkmvhzfovanyrva\"},{\"location\":\"rtgelg\"}],\"requiredQuotaIds\":[\"ikfyaqandm\",\"mnqoqjum\",\"vsfbp\",\"vzopaxmfmvsm\"],\"requiredFeatures\":[\"xfaxdtnq\",\"fbsatroi\"],\"capacity\":{\"minimum\":1395070264,\"maximum\":1644085180,\"default\":406077581,\"scaleType\":\"Manual\"},\"costs\":[{\"meterId\":\"jy\"},{\"meterId\":\"boel\"}],\"capabilities\":[{\"name\":\"twfld\",\"value\":\"iuorinikc\"},{\"name\":\"dpk\",\"value\":\"riwmmtmqrxrzqv\"},{\"name\":\"yczyayubtgm\",\"value\":\"xiqahr\"},{\"name\":\"gpx\",\"value\":\"ibplnupoyryefqm\"}]}],\"provisioningState\":\"Accepted\"},\"id\":\"ztxlnomfpbjceeg\",\"name\":\"yieztkutnjil\",\"type\":\"ukkrehyh\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        ProviderHubManager manager = ProviderHubManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        PagedIterable<SkuResource> response = manager.skus()
            .listByResourceTypeRegistrationsNestedResourceTypeFirst("xegtvgwyur", "elfnzzryiz", "bxgde",
                com.azure.core.util.Context.NONE);

        Assertions.assertEquals("ayunomirhpfabenq",
            response.iterator().next().properties().skuSettings().get(0).name());
        Assertions.assertEquals("mwmgewayxfl", response.iterator().next().properties().skuSettings().get(0).tier());
        Assertions.assertEquals("cpjs", response.iterator().next().properties().skuSettings().get(0).size());
        Assertions.assertEquals("hemhcucsqsnxfbx",
            response.iterator().next().properties().skuSettings().get(0).family());
        Assertions.assertEquals("eapdrbzyv", response.iterator().next().properties().skuSettings().get(0).kind());
        Assertions.assertEquals("adulpodkaxp",
            response.iterator().next().properties().skuSettings().get(0).locations().get(0));
        Assertions.assertEquals("xl",
            response.iterator().next().properties().skuSettings().get(0).locationInfo().get(0).location());
        Assertions.assertEquals("nzlslekc",
            response.iterator().next().properties().skuSettings().get(0).requiredQuotaIds().get(0));
        Assertions.assertEquals("iahuqymjzucw",
            response.iterator().next().properties().skuSettings().get(0).requiredFeatures().get(0));
        Assertions.assertEquals(1648732325,
            response.iterator().next().properties().skuSettings().get(0).capacity().minimum());
        Assertions.assertEquals(1347757609,
            response.iterator().next().properties().skuSettings().get(0).capacity().maximum());
        Assertions.assertEquals(1872555981,
            response.iterator().next().properties().skuSettings().get(0).capacity().defaultProperty());
        Assertions.assertEquals(SkuScaleType.AUTOMATIC,
            response.iterator().next().properties().skuSettings().get(0).capacity().scaleType());
        Assertions.assertEquals("bn",
            response.iterator().next().properties().skuSettings().get(0).costs().get(0).meterId());
        Assertions.assertEquals("kkderfrswq",
            response.iterator().next().properties().skuSettings().get(0).capabilities().get(0).name());
        Assertions.assertEquals("kwepwo",
            response.iterator().next().properties().skuSettings().get(0).capabilities().get(0).value());
    }
}
