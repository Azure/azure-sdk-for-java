// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservicesdatareplication.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesdatareplication.fluent.models.RecoveryPointModelInner;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.RecoveryPointModelCollection;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.RecoveryPointModelCustomProperties;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.RecoveryPointModelProperties;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.RecoveryPointType;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class RecoveryPointModelCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        RecoveryPointModelCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"recoveryPointTime\":\"2021-04-22T17:16:54Z\",\"recoveryPointType\":\"ApplicationConsistent\",\"customProperties\":{\"instanceType\":\"RecoveryPointModelCustomProperties\"}},\"id\":\"bunrmfqjhhk\",\"name\":\"pvjymjhxxjyng\",\"type\":\"ivkrtsw\",\"systemData\":{\"createdBy\":\"zvszj\",\"createdByType\":\"uvjfdxxive\",\"createdAt\":\"2021-08-28T01:45:57Z\",\"lastModifiedBy\":\"qaqtdoqmcbxvwvxy\",\"lastModifiedByType\":\"qbhsfxobl\",\"lastModifiedAt\":\"2021-07-14T10:36:47Z\"}},{\"properties\":{\"recoveryPointTime\":\"2021-05-07T06:47:22Z\",\"recoveryPointType\":\"CrashConsistent\",\"customProperties\":{\"instanceType\":\"RecoveryPointModelCustomProperties\"}},\"id\":\"pe\",\"name\":\"wfbkrvrns\",\"type\":\"hqjohxcrsbfova\",\"systemData\":{\"createdBy\":\"uvwbhsqfs\",\"createdByType\":\"cgjbirxbp\",\"createdAt\":\"2021-06-28T04:15:27Z\",\"lastModifiedBy\":\"fbjfdtwssotftpvj\",\"lastModifiedByType\":\"exilzznfqqnvwpmq\",\"lastModifiedAt\":\"2021-06-07T17:58:08Z\"}}],\"nextLink\":\"oujmkcjhwqytj\"}")
            .toObject(RecoveryPointModelCollection.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-22T17:16:54Z"),
            model.value().get(0).properties().recoveryPointTime());
        Assertions.assertEquals(RecoveryPointType.APPLICATION_CONSISTENT,
            model.value().get(0).properties().recoveryPointType());
        Assertions.assertEquals("oujmkcjhwqytj", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        RecoveryPointModelCollection model
            = new RecoveryPointModelCollection()
                .withValue(Arrays.asList(
                    new RecoveryPointModelInner().withProperties(new RecoveryPointModelProperties()
                        .withRecoveryPointTime(OffsetDateTime.parse("2021-04-22T17:16:54Z"))
                        .withRecoveryPointType(RecoveryPointType.APPLICATION_CONSISTENT)
                        .withCustomProperties(new RecoveryPointModelCustomProperties())),
                    new RecoveryPointModelInner().withProperties(new RecoveryPointModelProperties()
                        .withRecoveryPointTime(OffsetDateTime.parse("2021-05-07T06:47:22Z"))
                        .withRecoveryPointType(RecoveryPointType.CRASH_CONSISTENT)
                        .withCustomProperties(new RecoveryPointModelCustomProperties()))))
                .withNextLink("oujmkcjhwqytj");
        model = BinaryData.fromObject(model).toObject(RecoveryPointModelCollection.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-22T17:16:54Z"),
            model.value().get(0).properties().recoveryPointTime());
        Assertions.assertEquals(RecoveryPointType.APPLICATION_CONSISTENT,
            model.value().get(0).properties().recoveryPointType());
        Assertions.assertEquals("oujmkcjhwqytj", model.nextLink());
    }
}
