// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservicesdatareplication.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesdatareplication.fluent.models.PolicyModelInner;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.PolicyModelCollection;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.PolicyModelCustomProperties;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.PolicyModelProperties;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class PolicyModelCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        PolicyModelCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"provisioningState\":\"Canceled\",\"customProperties\":{\"instanceType\":\"PolicyModelCustomProperties\"}},\"systemData\":{\"createdBy\":\"qsc\",\"createdByType\":\"ypvhezrkg\",\"createdAt\":\"2021-12-09T01:57:53Z\",\"lastModifiedBy\":\"refovgmkqsleyyvx\",\"lastModifiedByType\":\"jpkcattpng\",\"lastModifiedAt\":\"2021-09-09T14:12:28Z\"},\"id\":\"cczsq\",\"name\":\"jh\",\"type\":\"mdajv\"},{\"properties\":{\"provisioningState\":\"Creating\",\"customProperties\":{\"instanceType\":\"PolicyModelCustomProperties\"}},\"systemData\":{\"createdBy\":\"nqecanoaeup\",\"createdByType\":\"yhltrpmopjmcm\",\"createdAt\":\"2020-12-22T02:02:43Z\",\"lastModifiedBy\":\"kthfui\",\"lastModifiedByType\":\"odsfcpkvxodpuozm\",\"lastModifiedAt\":\"2021-06-16T00:33:51Z\"},\"id\":\"dagfuaxbezyiuok\",\"name\":\"twhrdxwzywqsm\",\"type\":\"surex\"},{\"properties\":{\"provisioningState\":\"Deleting\",\"customProperties\":{\"instanceType\":\"PolicyModelCustomProperties\"}},\"systemData\":{\"createdBy\":\"ocfs\",\"createdByType\":\"s\",\"createdAt\":\"2021-06-13T04:15:30Z\",\"lastModifiedBy\":\"ys\",\"lastModifiedByType\":\"i\",\"lastModifiedAt\":\"2021-12-04T10:30:44Z\"},\"id\":\"hqyudxorrqnbpoc\",\"name\":\"vyifqrvkdvjsl\",\"type\":\"rm\"},{\"properties\":{\"provisioningState\":\"Succeeded\",\"customProperties\":{\"instanceType\":\"PolicyModelCustomProperties\"}},\"systemData\":{\"createdBy\":\"atkpnp\",\"createdByType\":\"exxbczwtr\",\"createdAt\":\"2021-07-26T12:29:54Z\",\"lastModifiedBy\":\"zb\",\"lastModifiedByType\":\"vsovmyokac\",\"lastModifiedAt\":\"2021-10-06T11:03:39Z\"},\"id\":\"w\",\"name\":\"hzdobpxjmflbvvnc\",\"type\":\"rkcciwwzjuqk\"}],\"nextLink\":\"sa\"}")
            .toObject(PolicyModelCollection.class);
        Assertions.assertEquals("sa", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        PolicyModelCollection model = new PolicyModelCollection()
            .withValue(Arrays.asList(
                new PolicyModelInner().withProperties(
                    new PolicyModelProperties().withCustomProperties(new PolicyModelCustomProperties())),
                new PolicyModelInner().withProperties(
                    new PolicyModelProperties().withCustomProperties(new PolicyModelCustomProperties())),
                new PolicyModelInner().withProperties(
                    new PolicyModelProperties().withCustomProperties(new PolicyModelCustomProperties())),
                new PolicyModelInner().withProperties(
                    new PolicyModelProperties().withCustomProperties(new PolicyModelCustomProperties()))))
            .withNextLink("sa");
        model = BinaryData.fromObject(model).toObject(PolicyModelCollection.class);
        Assertions.assertEquals("sa", model.nextLink());
    }
}
