// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.astro.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.astro.models.LiftrBaseDataPartnerOrganizationPropertiesUpdate;
import com.azure.resourcemanager.astro.models.LiftrBaseSingleSignOnProperties;
import com.azure.resourcemanager.astro.models.LiftrBaseUserDetailsUpdate;
import com.azure.resourcemanager.astro.models.ManagedServiceIdentity;
import com.azure.resourcemanager.astro.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.astro.models.OrganizationResourceUpdate;
import com.azure.resourcemanager.astro.models.OrganizationResourceUpdateProperties;
import com.azure.resourcemanager.astro.models.SingleSignOnStates;
import com.azure.resourcemanager.astro.models.UserAssignedIdentity;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class OrganizationResourceUpdateTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        OrganizationResourceUpdate model = BinaryData.fromString(
            "{\"identity\":{\"principalId\":\"7171041d-1d80-4bb9-b5c0-5a4a400ee11e\",\"tenantId\":\"8fccb072-1b62-4a8c-887a-b5f97fbf7731\",\"type\":\"None\",\"userAssignedIdentities\":{\"ocjjxhvpmouexh\":{\"principalId\":\"73c14fcb-3b23-45b7-8f87-4f48f0427483\",\"clientId\":\"23afc0eb-e766-48c6-94cd-9cc9cd28205d\"},\"i\":{\"principalId\":\"3587ce5f-5b26-46ad-af7f-2d6aee29d0e1\",\"clientId\":\"aeaaf221-9fc4-4694-b325-16a3794dafb3\"},\"ojnxqbzvdd\":{\"principalId\":\"d0be851b-93e1-452d-a37e-48fe0355054f\",\"clientId\":\"004fc17c-8c9d-480f-bdb2-6e3d7c28a490\"}}},\"tags\":{\"btwnpzaoqvuhrhcf\":\"ndei\",\"pyeicxm\":\"cyddglmjthjqk\",\"ixuigdtopbobj\":\"ciwqvhk\"},\"properties\":{\"user\":{\"firstName\":\"e\",\"lastName\":\"a\",\"emailAddress\":\"uhrzayvvt\",\"upn\":\"vdfgiotk\",\"phoneNumber\":\"utqxlngx\"},\"partnerOrganizationProperties\":{\"organizationId\":\"gug\",\"workspaceId\":\"krxd\",\"organizationName\":\"i\",\"workspaceName\":\"thz\",\"singleSignOnProperties\":{\"singleSignOnState\":\"Disable\",\"enterpriseAppId\":\"abhjybi\",\"singleSignOnUrl\":\"h\",\"aadDomains\":[\"bowsk\",\"nyktzlcuiy\",\"gqywgndrv\"],\"provisioningState\":\"Succeeded\"}}}}")
            .toObject(OrganizationResourceUpdate.class);
        Assertions.assertEquals(ManagedServiceIdentityType.NONE, model.identity().type());
        Assertions.assertEquals("ndei", model.tags().get("btwnpzaoqvuhrhcf"));
        Assertions.assertEquals("e", model.properties().user().firstName());
        Assertions.assertEquals("a", model.properties().user().lastName());
        Assertions.assertEquals("uhrzayvvt", model.properties().user().emailAddress());
        Assertions.assertEquals("vdfgiotk", model.properties().user().upn());
        Assertions.assertEquals("utqxlngx", model.properties().user().phoneNumber());
        Assertions.assertEquals("gug", model.properties().partnerOrganizationProperties().organizationId());
        Assertions.assertEquals("krxd", model.properties().partnerOrganizationProperties().workspaceId());
        Assertions.assertEquals("i", model.properties().partnerOrganizationProperties().organizationName());
        Assertions.assertEquals("thz", model.properties().partnerOrganizationProperties().workspaceName());
        Assertions.assertEquals(SingleSignOnStates.DISABLE,
            model.properties().partnerOrganizationProperties().singleSignOnProperties().singleSignOnState());
        Assertions.assertEquals("abhjybi",
            model.properties().partnerOrganizationProperties().singleSignOnProperties().enterpriseAppId());
        Assertions.assertEquals("h",
            model.properties().partnerOrganizationProperties().singleSignOnProperties().singleSignOnUrl());
        Assertions.assertEquals("bowsk",
            model.properties().partnerOrganizationProperties().singleSignOnProperties().aadDomains().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        OrganizationResourceUpdate model = new OrganizationResourceUpdate()
            .withIdentity(new ManagedServiceIdentity().withType(ManagedServiceIdentityType.NONE)
                .withUserAssignedIdentities(mapOf("ocjjxhvpmouexh", new UserAssignedIdentity(), "i",
                    new UserAssignedIdentity(), "ojnxqbzvdd", new UserAssignedIdentity())))
            .withTags(mapOf("btwnpzaoqvuhrhcf", "ndei", "pyeicxm", "cyddglmjthjqk", "ixuigdtopbobj", "ciwqvhk"))
            .withProperties(new OrganizationResourceUpdateProperties()
                .withUser(new LiftrBaseUserDetailsUpdate().withFirstName("e").withLastName("a")
                    .withEmailAddress("uhrzayvvt").withUpn("vdfgiotk").withPhoneNumber("utqxlngx"))
                .withPartnerOrganizationProperties(new LiftrBaseDataPartnerOrganizationPropertiesUpdate()
                    .withOrganizationId("gug").withWorkspaceId("krxd").withOrganizationName("i")
                    .withWorkspaceName("thz")
                    .withSingleSignOnProperties(new LiftrBaseSingleSignOnProperties()
                        .withSingleSignOnState(SingleSignOnStates.DISABLE).withEnterpriseAppId("abhjybi")
                        .withSingleSignOnUrl("h").withAadDomains(Arrays.asList("bowsk", "nyktzlcuiy", "gqywgndrv")))));
        model = BinaryData.fromObject(model).toObject(OrganizationResourceUpdate.class);
        Assertions.assertEquals(ManagedServiceIdentityType.NONE, model.identity().type());
        Assertions.assertEquals("ndei", model.tags().get("btwnpzaoqvuhrhcf"));
        Assertions.assertEquals("e", model.properties().user().firstName());
        Assertions.assertEquals("a", model.properties().user().lastName());
        Assertions.assertEquals("uhrzayvvt", model.properties().user().emailAddress());
        Assertions.assertEquals("vdfgiotk", model.properties().user().upn());
        Assertions.assertEquals("utqxlngx", model.properties().user().phoneNumber());
        Assertions.assertEquals("gug", model.properties().partnerOrganizationProperties().organizationId());
        Assertions.assertEquals("krxd", model.properties().partnerOrganizationProperties().workspaceId());
        Assertions.assertEquals("i", model.properties().partnerOrganizationProperties().organizationName());
        Assertions.assertEquals("thz", model.properties().partnerOrganizationProperties().workspaceName());
        Assertions.assertEquals(SingleSignOnStates.DISABLE,
            model.properties().partnerOrganizationProperties().singleSignOnProperties().singleSignOnState());
        Assertions.assertEquals("abhjybi",
            model.properties().partnerOrganizationProperties().singleSignOnProperties().enterpriseAppId());
        Assertions.assertEquals("h",
            model.properties().partnerOrganizationProperties().singleSignOnProperties().singleSignOnUrl());
        Assertions.assertEquals("bowsk",
            model.properties().partnerOrganizationProperties().singleSignOnProperties().aadDomains().get(0));
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
