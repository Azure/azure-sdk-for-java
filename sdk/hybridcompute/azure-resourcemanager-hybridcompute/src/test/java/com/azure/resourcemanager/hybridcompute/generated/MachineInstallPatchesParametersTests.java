// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.hybridcompute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.hybridcompute.models.LinuxParameters;
import com.azure.resourcemanager.hybridcompute.models.MachineInstallPatchesParameters;
import com.azure.resourcemanager.hybridcompute.models.VMGuestPatchClassificationLinux;
import com.azure.resourcemanager.hybridcompute.models.VMGuestPatchClassificationWindows;
import com.azure.resourcemanager.hybridcompute.models.VMGuestPatchRebootSetting;
import com.azure.resourcemanager.hybridcompute.models.WindowsParameters;
import java.time.Duration;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class MachineInstallPatchesParametersTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        MachineInstallPatchesParameters model = BinaryData.fromString(
            "{\"maximumDuration\":\"PT213H4M43S\",\"rebootSetting\":\"Always\",\"windowsParameters\":{\"classificationsToInclude\":[\"Tools\",\"Security\",\"Tools\"],\"kbNumbersToInclude\":[\"deslp\"],\"kbNumbersToExclude\":[\"pwiyig\"],\"excludeKbsRequiringReboot\":false,\"maxPatchPublishDate\":\"2021-07-31T13:07:30Z\"},\"linuxParameters\":{\"classificationsToInclude\":[\"Other\",\"Other\",\"Other\"],\"packageNameMasksToInclude\":[\"baumnyqupedeoj\",\"a\",\"ckhsmtxpsieb\"],\"packageNameMasksToExclude\":[\"vpesapskrdqmhjjd\",\"tldwkyzxuutk\",\"cwscwsvlx\",\"togt\"]}}")
            .toObject(MachineInstallPatchesParameters.class);
        Assertions.assertEquals(Duration.parse("PT213H4M43S"), model.maximumDuration());
        Assertions.assertEquals(VMGuestPatchRebootSetting.ALWAYS, model.rebootSetting());
        Assertions.assertEquals(VMGuestPatchClassificationWindows.TOOLS,
            model.windowsParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("deslp", model.windowsParameters().kbNumbersToInclude().get(0));
        Assertions.assertEquals("pwiyig", model.windowsParameters().kbNumbersToExclude().get(0));
        Assertions.assertEquals(false, model.windowsParameters().excludeKbsRequiringReboot());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-31T13:07:30Z"),
            model.windowsParameters().maxPatchPublishDate());
        Assertions.assertEquals(VMGuestPatchClassificationLinux.OTHER,
            model.linuxParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("baumnyqupedeoj", model.linuxParameters().packageNameMasksToInclude().get(0));
        Assertions.assertEquals("vpesapskrdqmhjjd", model.linuxParameters().packageNameMasksToExclude().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        MachineInstallPatchesParameters model
            = new MachineInstallPatchesParameters().withMaximumDuration(Duration.parse("PT213H4M43S"))
                .withRebootSetting(VMGuestPatchRebootSetting.ALWAYS)
                .withWindowsParameters(new WindowsParameters()
                    .withClassificationsToInclude(Arrays.asList(VMGuestPatchClassificationWindows.TOOLS,
                        VMGuestPatchClassificationWindows.SECURITY, VMGuestPatchClassificationWindows.TOOLS))
                    .withKbNumbersToInclude(Arrays.asList("deslp"))
                    .withKbNumbersToExclude(Arrays.asList("pwiyig"))
                    .withExcludeKbsRequiringReboot(false)
                    .withMaxPatchPublishDate(OffsetDateTime.parse("2021-07-31T13:07:30Z")))
                .withLinuxParameters(new LinuxParameters()
                    .withClassificationsToInclude(Arrays.asList(VMGuestPatchClassificationLinux.OTHER,
                        VMGuestPatchClassificationLinux.OTHER, VMGuestPatchClassificationLinux.OTHER))
                    .withPackageNameMasksToInclude(Arrays.asList("baumnyqupedeoj", "a", "ckhsmtxpsieb"))
                    .withPackageNameMasksToExclude(
                        Arrays.asList("vpesapskrdqmhjjd", "tldwkyzxuutk", "cwscwsvlx", "togt")));
        model = BinaryData.fromObject(model).toObject(MachineInstallPatchesParameters.class);
        Assertions.assertEquals(Duration.parse("PT213H4M43S"), model.maximumDuration());
        Assertions.assertEquals(VMGuestPatchRebootSetting.ALWAYS, model.rebootSetting());
        Assertions.assertEquals(VMGuestPatchClassificationWindows.TOOLS,
            model.windowsParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("deslp", model.windowsParameters().kbNumbersToInclude().get(0));
        Assertions.assertEquals("pwiyig", model.windowsParameters().kbNumbersToExclude().get(0));
        Assertions.assertEquals(false, model.windowsParameters().excludeKbsRequiringReboot());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-31T13:07:30Z"),
            model.windowsParameters().maxPatchPublishDate());
        Assertions.assertEquals(VMGuestPatchClassificationLinux.OTHER,
            model.linuxParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("baumnyqupedeoj", model.linuxParameters().packageNameMasksToInclude().get(0));
        Assertions.assertEquals("vpesapskrdqmhjjd", model.linuxParameters().packageNameMasksToExclude().get(0));
    }
}
