// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.labservices.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.labservices.models.AutoShutdownProfile;
import com.azure.resourcemanager.labservices.models.EnableState;
import com.azure.resourcemanager.labservices.models.ShutdownOnIdleMode;
import java.time.Duration;
import org.junit.jupiter.api.Assertions;

public final class AutoShutdownProfileTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AutoShutdownProfile model = BinaryData.fromString(
            "{\"shutdownOnDisconnect\":\"Disabled\",\"shutdownWhenNotConnected\":\"Enabled\",\"shutdownOnIdle\":\"LowUsage\",\"disconnectDelay\":\"PT79H43M41S\",\"noConnectDelay\":\"PT162H12M48S\",\"idleDelay\":\"PT229H1M12S\"}")
            .toObject(AutoShutdownProfile.class);
        Assertions.assertEquals(EnableState.DISABLED, model.shutdownOnDisconnect());
        Assertions.assertEquals(EnableState.ENABLED, model.shutdownWhenNotConnected());
        Assertions.assertEquals(ShutdownOnIdleMode.LOW_USAGE, model.shutdownOnIdle());
        Assertions.assertEquals(Duration.parse("PT79H43M41S"), model.disconnectDelay());
        Assertions.assertEquals(Duration.parse("PT162H12M48S"), model.noConnectDelay());
        Assertions.assertEquals(Duration.parse("PT229H1M12S"), model.idleDelay());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AutoShutdownProfile model = new AutoShutdownProfile().withShutdownOnDisconnect(EnableState.DISABLED)
            .withShutdownWhenNotConnected(EnableState.ENABLED)
            .withShutdownOnIdle(ShutdownOnIdleMode.LOW_USAGE)
            .withDisconnectDelay(Duration.parse("PT79H43M41S"))
            .withNoConnectDelay(Duration.parse("PT162H12M48S"))
            .withIdleDelay(Duration.parse("PT229H1M12S"));
        model = BinaryData.fromObject(model).toObject(AutoShutdownProfile.class);
        Assertions.assertEquals(EnableState.DISABLED, model.shutdownOnDisconnect());
        Assertions.assertEquals(EnableState.ENABLED, model.shutdownWhenNotConnected());
        Assertions.assertEquals(ShutdownOnIdleMode.LOW_USAGE, model.shutdownOnIdle());
        Assertions.assertEquals(Duration.parse("PT79H43M41S"), model.disconnectDelay());
        Assertions.assertEquals(Duration.parse("PT162H12M48S"), model.noConnectDelay());
        Assertions.assertEquals(Duration.parse("PT229H1M12S"), model.idleDelay());
    }
}
