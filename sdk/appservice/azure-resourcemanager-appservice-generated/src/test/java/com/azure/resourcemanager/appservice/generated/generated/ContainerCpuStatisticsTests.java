// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appservice.generated.models.ContainerCpuStatistics;
import com.azure.resourcemanager.appservice.generated.models.ContainerCpuUsage;
import com.azure.resourcemanager.appservice.generated.models.ContainerThrottlingData;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ContainerCpuStatisticsTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ContainerCpuStatistics model = BinaryData.fromString(
            "{\"cpuUsage\":{\"totalUsage\":6285819057631670831,\"perCpuUsage\":[8691088021364877353,1346127336550544249,5209389988574816415,5512066242731548067],\"kernelModeUsage\":5122698464879290449,\"userModeUsage\":3083126736202704125},\"systemCpuUsage\":6702942330900210779,\"onlineCpuCount\":2053093193,\"throttlingData\":{\"periods\":1689160098,\"throttledPeriods\":760828777,\"throttledTime\":1225558249}}")
            .toObject(ContainerCpuStatistics.class);
        Assertions.assertEquals(6285819057631670831L, model.cpuUsage().totalUsage());
        Assertions.assertEquals(8691088021364877353L, model.cpuUsage().perCpuUsage().get(0));
        Assertions.assertEquals(5122698464879290449L, model.cpuUsage().kernelModeUsage());
        Assertions.assertEquals(3083126736202704125L, model.cpuUsage().userModeUsage());
        Assertions.assertEquals(6702942330900210779L, model.systemCpuUsage());
        Assertions.assertEquals(2053093193, model.onlineCpuCount());
        Assertions.assertEquals(1689160098, model.throttlingData().periods());
        Assertions.assertEquals(760828777, model.throttlingData().throttledPeriods());
        Assertions.assertEquals(1225558249, model.throttlingData().throttledTime());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ContainerCpuStatistics model = new ContainerCpuStatistics()
            .withCpuUsage(new ContainerCpuUsage().withTotalUsage(6285819057631670831L)
                .withPerCpuUsage(Arrays.asList(8691088021364877353L, 1346127336550544249L, 5209389988574816415L,
                    5512066242731548067L))
                .withKernelModeUsage(5122698464879290449L)
                .withUserModeUsage(3083126736202704125L))
            .withSystemCpuUsage(6702942330900210779L)
            .withOnlineCpuCount(2053093193)
            .withThrottlingData(new ContainerThrottlingData().withPeriods(1689160098)
                .withThrottledPeriods(760828777)
                .withThrottledTime(1225558249));
        model = BinaryData.fromObject(model).toObject(ContainerCpuStatistics.class);
        Assertions.assertEquals(6285819057631670831L, model.cpuUsage().totalUsage());
        Assertions.assertEquals(8691088021364877353L, model.cpuUsage().perCpuUsage().get(0));
        Assertions.assertEquals(5122698464879290449L, model.cpuUsage().kernelModeUsage());
        Assertions.assertEquals(3083126736202704125L, model.cpuUsage().userModeUsage());
        Assertions.assertEquals(6702942330900210779L, model.systemCpuUsage());
        Assertions.assertEquals(2053093193, model.onlineCpuCount());
        Assertions.assertEquals(1689160098, model.throttlingData().periods());
        Assertions.assertEquals(760828777, model.throttlingData().throttledPeriods());
        Assertions.assertEquals(1225558249, model.throttlingData().throttledTime());
    }
}
