// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appservice.generated.models.DiagnosticMetricSet;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class DiagnosticMetricSetTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DiagnosticMetricSet model = BinaryData.fromString(
            "{\"name\":\"u\",\"unit\":\"ki\",\"startTime\":\"2021-02-01T05:54:47Z\",\"endTime\":\"2021-01-12T21:57:14Z\",\"timeGrain\":\"oyjyflsmsbn\",\"values\":[{\"timestamp\":\"2021-11-28T20:48:38Z\",\"roleInstance\":\"dfz\",\"total\":82.31020520885623,\"maximum\":65.75543809498207,\"minimum\":75.57840532845752,\"isAggregated\":true},{\"timestamp\":\"2021-10-25T15:56:44Z\",\"roleInstance\":\"otkxxlwwooxg\",\"total\":18.595984133137655,\"maximum\":48.41617719473442,\"minimum\":22.246552325246192,\"isAggregated\":true},{\"timestamp\":\"2021-07-12T16:30:08Z\",\"roleInstance\":\"mgobxehujcqgzw\",\"total\":10.097646573868758,\"maximum\":40.76922267583195,\"minimum\":58.075261875514364,\"isAggregated\":false},{\"timestamp\":\"2021-01-12T03:31:11Z\",\"roleInstance\":\"ljdcu\",\"total\":31.379228925824464,\"maximum\":97.20683582994153,\"minimum\":73.57860796723489,\"isAggregated\":false}]}")
            .toObject(DiagnosticMetricSet.class);
        Assertions.assertEquals("u", model.name());
        Assertions.assertEquals("ki", model.unit());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-01T05:54:47Z"), model.startTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-12T21:57:14Z"), model.endTime());
        Assertions.assertEquals("oyjyflsmsbn", model.timeGrain());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-28T20:48:38Z"), model.values().get(0).timestamp());
        Assertions.assertEquals("dfz", model.values().get(0).roleInstance());
        Assertions.assertEquals(82.31020520885623D, model.values().get(0).total());
        Assertions.assertEquals(65.75543809498207D, model.values().get(0).maximum());
        Assertions.assertEquals(75.57840532845752D, model.values().get(0).minimum());
        Assertions.assertTrue(model.values().get(0).isAggregated());
    }
}
