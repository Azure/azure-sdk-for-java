// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appservice.generated.fluent.models.WebSiteInstanceStatusProperties;
import com.azure.resourcemanager.appservice.generated.models.ContainerCpuStatistics;
import com.azure.resourcemanager.appservice.generated.models.ContainerCpuUsage;
import com.azure.resourcemanager.appservice.generated.models.ContainerInfo;
import com.azure.resourcemanager.appservice.generated.models.ContainerMemoryStatistics;
import com.azure.resourcemanager.appservice.generated.models.ContainerNetworkInterfaceStatistics;
import com.azure.resourcemanager.appservice.generated.models.ContainerThrottlingData;
import com.azure.resourcemanager.appservice.generated.models.SiteRuntimeState;
import java.time.OffsetDateTime;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class WebSiteInstanceStatusPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        WebSiteInstanceStatusProperties model = BinaryData.fromString(
            "{\"state\":\"UNKNOWN\",\"statusUrl\":\"a\",\"detectorUrl\":\"fyxhsxcgqbm\",\"consoleUrl\":\"pqcnxs\",\"healthCheckUrl\":\"hojvmazuflfp\",\"containers\":{\"qsfnmiwa\":{\"currentTimeStamp\":\"2021-07-20T15:39:07Z\",\"previousTimeStamp\":\"2021-12-02T11:54:11Z\",\"currentCpuStats\":{\"cpuUsage\":{\"totalUsage\":6022881295733064008,\"perCpuUsage\":[4753003446495519816,71305970627586115],\"kernelModeUsage\":7579219917373655854,\"userModeUsage\":5289023461454880907},\"systemCpuUsage\":1908522581286892654,\"onlineCpuCount\":1531117450,\"throttlingData\":{\"periods\":2037551852,\"throttledPeriods\":19413829,\"throttledTime\":458745392}},\"previousCpuStats\":{\"cpuUsage\":{\"totalUsage\":738228838360542097,\"perCpuUsage\":[1472627221949640464,2099004117365457620,525560647946347797],\"kernelModeUsage\":578076162938832993,\"userModeUsage\":4068138662441882756},\"systemCpuUsage\":3963412539094613228,\"onlineCpuCount\":1127102353,\"throttlingData\":{\"periods\":719179313,\"throttledPeriods\":1190907224,\"throttledTime\":972861204}},\"memoryStats\":{\"usage\":4121751334951489174,\"maxUsage\":1400057596755097984,\"limit\":3094266376229728440},\"name\":\"k\",\"id\":\"jkcgeen\",\"eth0\":{\"rxBytes\":8777520168794623347,\"rxPackets\":6746144913306233855,\"rxErrors\":7172501865013352195,\"rxDropped\":2426220712686513283,\"txBytes\":7217062616753905800,\"txPackets\":3248010363810331896,\"txErrors\":7306516015208013879,\"txDropped\":3428936340385612996}},\"clpkr\":{\"currentTimeStamp\":\"2021-04-21T18:51:57Z\",\"previousTimeStamp\":\"2021-01-26T01:08:23Z\",\"currentCpuStats\":{\"cpuUsage\":{\"totalUsage\":3268986145391366676,\"perCpuUsage\":[8335607106351281735,1965770848186031155],\"kernelModeUsage\":4220611683536326943,\"userModeUsage\":4539320053433401419},\"systemCpuUsage\":3729738671288393197,\"onlineCpuCount\":1219338426,\"throttlingData\":{\"periods\":1587830503,\"throttledPeriods\":1035095766,\"throttledTime\":760019160}},\"previousCpuStats\":{\"cpuUsage\":{\"totalUsage\":1457459029942100829,\"perCpuUsage\":[7152420195405765321,1447229750859312516,7737605743852827084],\"kernelModeUsage\":9089025915865304805,\"userModeUsage\":5327178358316542333},\"systemCpuUsage\":2360460701351055694,\"onlineCpuCount\":1094381319,\"throttlingData\":{\"periods\":1843979611,\"throttledPeriods\":230316810,\"throttledTime\":782245692}},\"memoryStats\":{\"usage\":6204776466640442144,\"maxUsage\":8515415815028025919,\"limit\":3599583702798223357},\"name\":\"ktdutydvvgkmo\",\"id\":\"pcjes\",\"eth0\":{\"rxBytes\":8359291202775445632,\"rxPackets\":7593942769566021730,\"rxErrors\":3665958902635316201,\"rxDropped\":6140943892213932320,\"txBytes\":5910078185989466892,\"txPackets\":2585416458730298377,\"txErrors\":2654355291271333253,\"txDropped\":7278898308825852499}},\"wfwzlmpx\":{\"currentTimeStamp\":\"2021-10-30T00:48:23Z\",\"previousTimeStamp\":\"2021-08-18T17:59:13Z\",\"currentCpuStats\":{\"cpuUsage\":{\"totalUsage\":5980131502450750792,\"perCpuUsage\":[1939983314224076455,1413112937208326047],\"kernelModeUsage\":4538951720146652574,\"userModeUsage\":2008687081269000621},\"systemCpuUsage\":6427475355786394125,\"onlineCpuCount\":1516100755,\"throttlingData\":{\"periods\":804349877,\"throttledPeriods\":1928270003,\"throttledTime\":1222643023}},\"previousCpuStats\":{\"cpuUsage\":{\"totalUsage\":7781594765766206821,\"perCpuUsage\":[5207184101937227702],\"kernelModeUsage\":217385780606147734,\"userModeUsage\":4681182005121016066},\"systemCpuUsage\":4419379902582918868,\"onlineCpuCount\":543921331,\"throttlingData\":{\"periods\":1219645800,\"throttledPeriods\":709585733,\"throttledTime\":2060765201}},\"memoryStats\":{\"usage\":7698688974950253015,\"maxUsage\":5892052370337184734,\"limit\":6771542317933800177},\"name\":\"hdkhmemxka\",\"id\":\"pesnb\",\"eth0\":{\"rxBytes\":2928013193568219962,\"rxPackets\":1790310510687614987,\"rxErrors\":8498563996350330947,\"rxDropped\":5367637915648233665,\"txBytes\":6043583042584448603,\"txPackets\":8631411279026753502,\"txErrors\":3189134520061568999,\"txDropped\":7045706373651875044}}}}")
            .toObject(WebSiteInstanceStatusProperties.class);
        Assertions.assertEquals(SiteRuntimeState.UNKNOWN, model.state());
        Assertions.assertEquals("a", model.statusUrl());
        Assertions.assertEquals("fyxhsxcgqbm", model.detectorUrl());
        Assertions.assertEquals("pqcnxs", model.consoleUrl());
        Assertions.assertEquals("hojvmazuflfp", model.healthCheckUrl());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-20T15:39:07Z"),
            model.containers().get("qsfnmiwa").currentTimestamp());
        Assertions.assertEquals(OffsetDateTime.parse("2021-12-02T11:54:11Z"),
            model.containers().get("qsfnmiwa").previousTimestamp());
        Assertions.assertEquals(6022881295733064008L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().totalUsage());
        Assertions.assertEquals(4753003446495519816L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().perCpuUsage().get(0));
        Assertions.assertEquals(7579219917373655854L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().kernelModeUsage());
        Assertions.assertEquals(5289023461454880907L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().userModeUsage());
        Assertions.assertEquals(1908522581286892654L,
            model.containers().get("qsfnmiwa").currentCpuStats().systemCpuUsage());
        Assertions.assertEquals(1531117450, model.containers().get("qsfnmiwa").currentCpuStats().onlineCpuCount());
        Assertions.assertEquals(2037551852,
            model.containers().get("qsfnmiwa").currentCpuStats().throttlingData().periods());
        Assertions.assertEquals(19413829,
            model.containers().get("qsfnmiwa").currentCpuStats().throttlingData().throttledPeriods());
        Assertions.assertEquals(458745392,
            model.containers().get("qsfnmiwa").currentCpuStats().throttlingData().throttledTime());
        Assertions.assertEquals(738228838360542097L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().totalUsage());
        Assertions.assertEquals(1472627221949640464L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().perCpuUsage().get(0));
        Assertions.assertEquals(578076162938832993L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().kernelModeUsage());
        Assertions.assertEquals(4068138662441882756L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().userModeUsage());
        Assertions.assertEquals(3963412539094613228L,
            model.containers().get("qsfnmiwa").previousCpuStats().systemCpuUsage());
        Assertions.assertEquals(1127102353, model.containers().get("qsfnmiwa").previousCpuStats().onlineCpuCount());
        Assertions.assertEquals(719179313,
            model.containers().get("qsfnmiwa").previousCpuStats().throttlingData().periods());
        Assertions.assertEquals(1190907224,
            model.containers().get("qsfnmiwa").previousCpuStats().throttlingData().throttledPeriods());
        Assertions.assertEquals(972861204,
            model.containers().get("qsfnmiwa").previousCpuStats().throttlingData().throttledTime());
        Assertions.assertEquals(4121751334951489174L, model.containers().get("qsfnmiwa").memoryStats().usage());
        Assertions.assertEquals(1400057596755097984L, model.containers().get("qsfnmiwa").memoryStats().maxUsage());
        Assertions.assertEquals(3094266376229728440L, model.containers().get("qsfnmiwa").memoryStats().limit());
        Assertions.assertEquals("k", model.containers().get("qsfnmiwa").name());
        Assertions.assertEquals("jkcgeen", model.containers().get("qsfnmiwa").id());
        Assertions.assertEquals(8777520168794623347L, model.containers().get("qsfnmiwa").eth0().rxBytes());
        Assertions.assertEquals(6746144913306233855L, model.containers().get("qsfnmiwa").eth0().rxPackets());
        Assertions.assertEquals(7172501865013352195L, model.containers().get("qsfnmiwa").eth0().rxErrors());
        Assertions.assertEquals(2426220712686513283L, model.containers().get("qsfnmiwa").eth0().rxDropped());
        Assertions.assertEquals(7217062616753905800L, model.containers().get("qsfnmiwa").eth0().txBytes());
        Assertions.assertEquals(3248010363810331896L, model.containers().get("qsfnmiwa").eth0().txPackets());
        Assertions.assertEquals(7306516015208013879L, model.containers().get("qsfnmiwa").eth0().txErrors());
        Assertions.assertEquals(3428936340385612996L, model.containers().get("qsfnmiwa").eth0().txDropped());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        WebSiteInstanceStatusProperties model
            = new WebSiteInstanceStatusProperties().withState(SiteRuntimeState.UNKNOWN)
                .withStatusUrl("a")
                .withDetectorUrl("fyxhsxcgqbm")
                .withConsoleUrl("pqcnxs")
                .withHealthCheckUrl("hojvmazuflfp")
                .withContainers(
                    mapOf("qsfnmiwa",
                        new ContainerInfo().withCurrentTimestamp(OffsetDateTime.parse("2021-07-20T15:39:07Z"))
                            .withPreviousTimestamp(OffsetDateTime.parse("2021-12-02T11:54:11Z"))
                            .withCurrentCpuStats(
                                new ContainerCpuStatistics()
                                    .withCpuUsage(new ContainerCpuUsage().withTotalUsage(6022881295733064008L)
                                        .withPerCpuUsage(Arrays.asList(4753003446495519816L, 71305970627586115L))
                                        .withKernelModeUsage(7579219917373655854L)
                                        .withUserModeUsage(5289023461454880907L))
                                    .withSystemCpuUsage(1908522581286892654L)
                                    .withOnlineCpuCount(1531117450)
                                    .withThrottlingData(new ContainerThrottlingData().withPeriods(2037551852)
                                        .withThrottledPeriods(19413829)
                                        .withThrottledTime(458745392)))
                            .withPreviousCpuStats(
                                new ContainerCpuStatistics()
                                    .withCpuUsage(new ContainerCpuUsage().withTotalUsage(738228838360542097L)
                                        .withPerCpuUsage(Arrays.asList(1472627221949640464L, 2099004117365457620L,
                                            525560647946347797L))
                                        .withKernelModeUsage(578076162938832993L)
                                        .withUserModeUsage(4068138662441882756L))
                                    .withSystemCpuUsage(3963412539094613228L)
                                    .withOnlineCpuCount(1127102353)
                                    .withThrottlingData(new ContainerThrottlingData().withPeriods(719179313)
                                        .withThrottledPeriods(1190907224)
                                        .withThrottledTime(972861204)))
                            .withMemoryStats(new ContainerMemoryStatistics().withUsage(4121751334951489174L)
                                .withMaxUsage(1400057596755097984L)
                                .withLimit(3094266376229728440L))
                            .withName("k")
                            .withId("jkcgeen")
                            .withEth0(
                                new ContainerNetworkInterfaceStatistics().withRxBytes(8777520168794623347L)
                                    .withRxPackets(6746144913306233855L)
                                    .withRxErrors(7172501865013352195L)
                                    .withRxDropped(2426220712686513283L)
                                    .withTxBytes(7217062616753905800L)
                                    .withTxPackets(3248010363810331896L)
                                    .withTxErrors(7306516015208013879L)
                                    .withTxDropped(3428936340385612996L)),
                        "clpkr",
                        new ContainerInfo().withCurrentTimestamp(OffsetDateTime.parse("2021-04-21T18:51:57Z"))
                            .withPreviousTimestamp(OffsetDateTime.parse("2021-01-26T01:08:23Z"))
                            .withCurrentCpuStats(
                                new ContainerCpuStatistics()
                                    .withCpuUsage(new ContainerCpuUsage().withTotalUsage(3268986145391366676L)
                                        .withPerCpuUsage(Arrays.asList(8335607106351281735L, 1965770848186031155L))
                                        .withKernelModeUsage(4220611683536326943L)
                                        .withUserModeUsage(4539320053433401419L))
                                    .withSystemCpuUsage(3729738671288393197L)
                                    .withOnlineCpuCount(1219338426)
                                    .withThrottlingData(new ContainerThrottlingData().withPeriods(1587830503)
                                        .withThrottledPeriods(1035095766)
                                        .withThrottledTime(760019160)))
                            .withPreviousCpuStats(
                                new ContainerCpuStatistics()
                                    .withCpuUsage(new ContainerCpuUsage().withTotalUsage(1457459029942100829L)
                                        .withPerCpuUsage(Arrays.asList(7152420195405765321L, 1447229750859312516L,
                                            7737605743852827084L))
                                        .withKernelModeUsage(9089025915865304805L)
                                        .withUserModeUsage(5327178358316542333L))
                                    .withSystemCpuUsage(2360460701351055694L)
                                    .withOnlineCpuCount(1094381319)
                                    .withThrottlingData(new ContainerThrottlingData().withPeriods(1843979611)
                                        .withThrottledPeriods(230316810)
                                        .withThrottledTime(782245692)))
                            .withMemoryStats(new ContainerMemoryStatistics().withUsage(6204776466640442144L)
                                .withMaxUsage(8515415815028025919L)
                                .withLimit(3599583702798223357L))
                            .withName("ktdutydvvgkmo")
                            .withId("pcjes")
                            .withEth0(
                                new ContainerNetworkInterfaceStatistics().withRxBytes(8359291202775445632L)
                                    .withRxPackets(7593942769566021730L)
                                    .withRxErrors(3665958902635316201L)
                                    .withRxDropped(6140943892213932320L)
                                    .withTxBytes(5910078185989466892L)
                                    .withTxPackets(2585416458730298377L)
                                    .withTxErrors(2654355291271333253L)
                                    .withTxDropped(7278898308825852499L)),
                        "wfwzlmpx",
                        new ContainerInfo().withCurrentTimestamp(OffsetDateTime.parse("2021-10-30T00:48:23Z"))
                            .withPreviousTimestamp(OffsetDateTime.parse("2021-08-18T17:59:13Z"))
                            .withCurrentCpuStats(new ContainerCpuStatistics()
                                .withCpuUsage(new ContainerCpuUsage().withTotalUsage(5980131502450750792L)
                                    .withPerCpuUsage(Arrays.asList(1939983314224076455L, 1413112937208326047L))
                                    .withKernelModeUsage(4538951720146652574L)
                                    .withUserModeUsage(2008687081269000621L))
                                .withSystemCpuUsage(6427475355786394125L)
                                .withOnlineCpuCount(1516100755)
                                .withThrottlingData(new ContainerThrottlingData().withPeriods(804349877)
                                    .withThrottledPeriods(1928270003)
                                    .withThrottledTime(1222643023)))
                            .withPreviousCpuStats(new ContainerCpuStatistics()
                                .withCpuUsage(new ContainerCpuUsage().withTotalUsage(7781594765766206821L)
                                    .withPerCpuUsage(Arrays.asList(5207184101937227702L))
                                    .withKernelModeUsage(217385780606147734L)
                                    .withUserModeUsage(4681182005121016066L))
                                .withSystemCpuUsage(4419379902582918868L)
                                .withOnlineCpuCount(543921331)
                                .withThrottlingData(new ContainerThrottlingData().withPeriods(1219645800)
                                    .withThrottledPeriods(709585733)
                                    .withThrottledTime(2060765201)))
                            .withMemoryStats(new ContainerMemoryStatistics().withUsage(7698688974950253015L)
                                .withMaxUsage(5892052370337184734L)
                                .withLimit(6771542317933800177L))
                            .withName("hdkhmemxka")
                            .withId("pesnb")
                            .withEth0(new ContainerNetworkInterfaceStatistics().withRxBytes(2928013193568219962L)
                                .withRxPackets(1790310510687614987L)
                                .withRxErrors(8498563996350330947L)
                                .withRxDropped(5367637915648233665L)
                                .withTxBytes(6043583042584448603L)
                                .withTxPackets(8631411279026753502L)
                                .withTxErrors(3189134520061568999L)
                                .withTxDropped(7045706373651875044L))));
        model = BinaryData.fromObject(model).toObject(WebSiteInstanceStatusProperties.class);
        Assertions.assertEquals(SiteRuntimeState.UNKNOWN, model.state());
        Assertions.assertEquals("a", model.statusUrl());
        Assertions.assertEquals("fyxhsxcgqbm", model.detectorUrl());
        Assertions.assertEquals("pqcnxs", model.consoleUrl());
        Assertions.assertEquals("hojvmazuflfp", model.healthCheckUrl());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-20T15:39:07Z"),
            model.containers().get("qsfnmiwa").currentTimestamp());
        Assertions.assertEquals(OffsetDateTime.parse("2021-12-02T11:54:11Z"),
            model.containers().get("qsfnmiwa").previousTimestamp());
        Assertions.assertEquals(6022881295733064008L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().totalUsage());
        Assertions.assertEquals(4753003446495519816L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().perCpuUsage().get(0));
        Assertions.assertEquals(7579219917373655854L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().kernelModeUsage());
        Assertions.assertEquals(5289023461454880907L,
            model.containers().get("qsfnmiwa").currentCpuStats().cpuUsage().userModeUsage());
        Assertions.assertEquals(1908522581286892654L,
            model.containers().get("qsfnmiwa").currentCpuStats().systemCpuUsage());
        Assertions.assertEquals(1531117450, model.containers().get("qsfnmiwa").currentCpuStats().onlineCpuCount());
        Assertions.assertEquals(2037551852,
            model.containers().get("qsfnmiwa").currentCpuStats().throttlingData().periods());
        Assertions.assertEquals(19413829,
            model.containers().get("qsfnmiwa").currentCpuStats().throttlingData().throttledPeriods());
        Assertions.assertEquals(458745392,
            model.containers().get("qsfnmiwa").currentCpuStats().throttlingData().throttledTime());
        Assertions.assertEquals(738228838360542097L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().totalUsage());
        Assertions.assertEquals(1472627221949640464L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().perCpuUsage().get(0));
        Assertions.assertEquals(578076162938832993L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().kernelModeUsage());
        Assertions.assertEquals(4068138662441882756L,
            model.containers().get("qsfnmiwa").previousCpuStats().cpuUsage().userModeUsage());
        Assertions.assertEquals(3963412539094613228L,
            model.containers().get("qsfnmiwa").previousCpuStats().systemCpuUsage());
        Assertions.assertEquals(1127102353, model.containers().get("qsfnmiwa").previousCpuStats().onlineCpuCount());
        Assertions.assertEquals(719179313,
            model.containers().get("qsfnmiwa").previousCpuStats().throttlingData().periods());
        Assertions.assertEquals(1190907224,
            model.containers().get("qsfnmiwa").previousCpuStats().throttlingData().throttledPeriods());
        Assertions.assertEquals(972861204,
            model.containers().get("qsfnmiwa").previousCpuStats().throttlingData().throttledTime());
        Assertions.assertEquals(4121751334951489174L, model.containers().get("qsfnmiwa").memoryStats().usage());
        Assertions.assertEquals(1400057596755097984L, model.containers().get("qsfnmiwa").memoryStats().maxUsage());
        Assertions.assertEquals(3094266376229728440L, model.containers().get("qsfnmiwa").memoryStats().limit());
        Assertions.assertEquals("k", model.containers().get("qsfnmiwa").name());
        Assertions.assertEquals("jkcgeen", model.containers().get("qsfnmiwa").id());
        Assertions.assertEquals(8777520168794623347L, model.containers().get("qsfnmiwa").eth0().rxBytes());
        Assertions.assertEquals(6746144913306233855L, model.containers().get("qsfnmiwa").eth0().rxPackets());
        Assertions.assertEquals(7172501865013352195L, model.containers().get("qsfnmiwa").eth0().rxErrors());
        Assertions.assertEquals(2426220712686513283L, model.containers().get("qsfnmiwa").eth0().rxDropped());
        Assertions.assertEquals(7217062616753905800L, model.containers().get("qsfnmiwa").eth0().txBytes());
        Assertions.assertEquals(3248010363810331896L, model.containers().get("qsfnmiwa").eth0().txPackets());
        Assertions.assertEquals(7306516015208013879L, model.containers().get("qsfnmiwa").eth0().txErrors());
        Assertions.assertEquals(3428936340385612996L, model.containers().get("qsfnmiwa").eth0().txDropped());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
