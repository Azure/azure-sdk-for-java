// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appservice.generated.fluent.models.BackupRequestInner;
import com.azure.resourcemanager.appservice.generated.models.BackupSchedule;
import com.azure.resourcemanager.appservice.generated.models.DatabaseBackupSetting;
import com.azure.resourcemanager.appservice.generated.models.DatabaseType;
import com.azure.resourcemanager.appservice.generated.models.FrequencyUnit;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class BackupRequestInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        BackupRequestInner model = BinaryData.fromString(
            "{\"properties\":{\"backupName\":\"i\",\"enabled\":true,\"storageAccountUrl\":\"jclykcg\",\"backupSchedule\":{\"frequencyInterval\":945723679,\"frequencyUnit\":\"Hour\",\"keepAtLeastOneBackup\":false,\"retentionPeriodInDays\":1254681862,\"startTime\":\"2021-11-11T08:17:55Z\",\"lastExecutionTime\":\"2021-09-28T18:40:01Z\"},\"databases\":[{\"databaseType\":\"SqlAzure\",\"name\":\"punettepdjxq\",\"connectionStringName\":\"koynuiylpckae\",\"connectionString\":\"edveskwxegqp\"}]},\"id\":\"gfnzh\",\"name\":\"mjtsgh\",\"kind\":\"c\",\"type\":\"pzarpzeqacdld\"}")
            .toObject(BackupRequestInner.class);
        Assertions.assertEquals("c", model.kind());
        Assertions.assertEquals("i", model.backupName());
        Assertions.assertTrue(model.enabled());
        Assertions.assertEquals("jclykcg", model.storageAccountUrl());
        Assertions.assertEquals(945723679, model.backupSchedule().frequencyInterval());
        Assertions.assertEquals(FrequencyUnit.HOUR, model.backupSchedule().frequencyUnit());
        Assertions.assertFalse(model.backupSchedule().keepAtLeastOneBackup());
        Assertions.assertEquals(1254681862, model.backupSchedule().retentionPeriodInDays());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-11T08:17:55Z"), model.backupSchedule().startTime());
        Assertions.assertEquals(DatabaseType.SQL_AZURE, model.databases().get(0).databaseType());
        Assertions.assertEquals("punettepdjxq", model.databases().get(0).name());
        Assertions.assertEquals("koynuiylpckae", model.databases().get(0).connectionStringName());
        Assertions.assertEquals("edveskwxegqp", model.databases().get(0).connectionString());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        BackupRequestInner model = new BackupRequestInner().withKind("c")
            .withBackupName("i")
            .withEnabled(true)
            .withStorageAccountUrl("jclykcg")
            .withBackupSchedule(new BackupSchedule().withFrequencyInterval(945723679)
                .withFrequencyUnit(FrequencyUnit.HOUR)
                .withKeepAtLeastOneBackup(false)
                .withRetentionPeriodInDays(1254681862)
                .withStartTime(OffsetDateTime.parse("2021-11-11T08:17:55Z")))
            .withDatabases(Arrays.asList(new DatabaseBackupSetting().withDatabaseType(DatabaseType.SQL_AZURE)
                .withName("punettepdjxq")
                .withConnectionStringName("koynuiylpckae")
                .withConnectionString("edveskwxegqp")));
        model = BinaryData.fromObject(model).toObject(BackupRequestInner.class);
        Assertions.assertEquals("c", model.kind());
        Assertions.assertEquals("i", model.backupName());
        Assertions.assertTrue(model.enabled());
        Assertions.assertEquals("jclykcg", model.storageAccountUrl());
        Assertions.assertEquals(945723679, model.backupSchedule().frequencyInterval());
        Assertions.assertEquals(FrequencyUnit.HOUR, model.backupSchedule().frequencyUnit());
        Assertions.assertFalse(model.backupSchedule().keepAtLeastOneBackup());
        Assertions.assertEquals(1254681862, model.backupSchedule().retentionPeriodInDays());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-11T08:17:55Z"), model.backupSchedule().startTime());
        Assertions.assertEquals(DatabaseType.SQL_AZURE, model.databases().get(0).databaseType());
        Assertions.assertEquals("punettepdjxq", model.databases().get(0).name());
        Assertions.assertEquals("koynuiylpckae", model.databases().get(0).connectionStringName());
        Assertions.assertEquals("edveskwxegqp", model.databases().get(0).connectionString());
    }
}
