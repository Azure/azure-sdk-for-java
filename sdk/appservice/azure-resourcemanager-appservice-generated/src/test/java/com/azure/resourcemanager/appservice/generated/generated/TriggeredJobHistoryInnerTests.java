// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appservice.generated.fluent.models.TriggeredJobHistoryInner;
import com.azure.resourcemanager.appservice.generated.models.TriggeredJobRun;
import com.azure.resourcemanager.appservice.generated.models.TriggeredWebJobStatus;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class TriggeredJobHistoryInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        TriggeredJobHistoryInner model = BinaryData.fromString(
            "{\"properties\":{\"runs\":[{\"web_job_id\":\"pfslrx\",\"web_job_name\":\"qsbqrqbpiqfstk\",\"status\":\"Error\",\"start_time\":\"2021-11-17T10:17:15Z\",\"end_time\":\"2021-02-04T06:27:14Z\",\"duration\":\"ef\",\"output_url\":\"ckffkzlchrkiwpa\",\"error_url\":\"hflxnni\",\"url\":\"ug\",\"job_name\":\"frdlfewex\",\"trigger\":\"vbdyriyraybi\"},{\"web_job_id\":\"s\",\"web_job_name\":\"jclfdpr\",\"status\":\"Failed\",\"start_time\":\"2021-09-07T21:19:31Z\",\"end_time\":\"2021-07-24T17:24:15Z\",\"duration\":\"gyddpfnmbxerzyp\",\"output_url\":\"alwvc\",\"error_url\":\"rbizx\",\"url\":\"dmhzbcujdzl\",\"job_name\":\"ermjemnyuhoqpbf\",\"trigger\":\"cbweab\"}]},\"kind\":\"kmkuquv\",\"id\":\"gvnomlcldoyohuaf\",\"name\":\"c\",\"type\":\"opn\"}")
            .toObject(TriggeredJobHistoryInner.class);
        Assertions.assertEquals("kmkuquv", model.kind());
        Assertions.assertEquals("pfslrx", model.runs().get(0).webJobId());
        Assertions.assertEquals("qsbqrqbpiqfstk", model.runs().get(0).webJobName());
        Assertions.assertEquals(TriggeredWebJobStatus.ERROR, model.runs().get(0).status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-17T10:17:15Z"), model.runs().get(0).startTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-04T06:27:14Z"), model.runs().get(0).endTime());
        Assertions.assertEquals("ef", model.runs().get(0).duration());
        Assertions.assertEquals("ckffkzlchrkiwpa", model.runs().get(0).outputUrl());
        Assertions.assertEquals("hflxnni", model.runs().get(0).errorUrl());
        Assertions.assertEquals("ug", model.runs().get(0).url());
        Assertions.assertEquals("frdlfewex", model.runs().get(0).jobName());
        Assertions.assertEquals("vbdyriyraybi", model.runs().get(0).trigger());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        TriggeredJobHistoryInner model = new TriggeredJobHistoryInner().withKind("kmkuquv")
            .withRuns(Arrays.asList(
                new TriggeredJobRun().withWebJobId("pfslrx")
                    .withWebJobName("qsbqrqbpiqfstk")
                    .withStatus(TriggeredWebJobStatus.ERROR)
                    .withStartTime(OffsetDateTime.parse("2021-11-17T10:17:15Z"))
                    .withEndTime(OffsetDateTime.parse("2021-02-04T06:27:14Z"))
                    .withDuration("ef")
                    .withOutputUrl("ckffkzlchrkiwpa")
                    .withErrorUrl("hflxnni")
                    .withUrl("ug")
                    .withJobName("frdlfewex")
                    .withTrigger("vbdyriyraybi"),
                new TriggeredJobRun().withWebJobId("s")
                    .withWebJobName("jclfdpr")
                    .withStatus(TriggeredWebJobStatus.FAILED)
                    .withStartTime(OffsetDateTime.parse("2021-09-07T21:19:31Z"))
                    .withEndTime(OffsetDateTime.parse("2021-07-24T17:24:15Z"))
                    .withDuration("gyddpfnmbxerzyp")
                    .withOutputUrl("alwvc")
                    .withErrorUrl("rbizx")
                    .withUrl("dmhzbcujdzl")
                    .withJobName("ermjemnyuhoqpbf")
                    .withTrigger("cbweab")));
        model = BinaryData.fromObject(model).toObject(TriggeredJobHistoryInner.class);
        Assertions.assertEquals("kmkuquv", model.kind());
        Assertions.assertEquals("pfslrx", model.runs().get(0).webJobId());
        Assertions.assertEquals("qsbqrqbpiqfstk", model.runs().get(0).webJobName());
        Assertions.assertEquals(TriggeredWebJobStatus.ERROR, model.runs().get(0).status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-17T10:17:15Z"), model.runs().get(0).startTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-04T06:27:14Z"), model.runs().get(0).endTime());
        Assertions.assertEquals("ef", model.runs().get(0).duration());
        Assertions.assertEquals("ckffkzlchrkiwpa", model.runs().get(0).outputUrl());
        Assertions.assertEquals("hflxnni", model.runs().get(0).errorUrl());
        Assertions.assertEquals("ug", model.runs().get(0).url());
        Assertions.assertEquals("frdlfewex", model.runs().get(0).jobName());
        Assertions.assertEquals("vbdyriyraybi", model.runs().get(0).trigger());
    }
}
