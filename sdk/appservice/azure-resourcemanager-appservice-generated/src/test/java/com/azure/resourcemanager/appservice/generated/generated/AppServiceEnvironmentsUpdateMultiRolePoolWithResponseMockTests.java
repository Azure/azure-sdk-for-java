// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.appservice.generated.AppServiceManager;
import com.azure.resourcemanager.appservice.generated.fluent.models.CapabilityInner;
import com.azure.resourcemanager.appservice.generated.fluent.models.WorkerPoolResourceInner;
import com.azure.resourcemanager.appservice.generated.models.ComputeModeOptions;
import com.azure.resourcemanager.appservice.generated.models.SkuCapacity;
import com.azure.resourcemanager.appservice.generated.models.SkuDescription;
import com.azure.resourcemanager.appservice.generated.models.WorkerPoolResource;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class AppServiceEnvironmentsUpdateMultiRolePoolWithResponseMockTests {
    @Test
    public void testUpdateMultiRolePoolWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"workerSizeId\":860124397,\"computeMode\":\"Dedicated\",\"workerSize\":\"i\",\"workerCount\":1056891956,\"instanceNames\":[\"otmygzjrks\",\"qbafd\",\"jxxcruleimswxoig\"]},\"sku\":{\"name\":\"mjmpgzetuvfp\",\"tier\":\"jpmeptnqsnpa\",\"size\":\"sprrvjwbeeolm\",\"family\":\"aqolw\",\"capacity\":745218237,\"skuCapacity\":{\"minimum\":948268353,\"maximum\":733700882,\"elasticMaximum\":669046314,\"default\":1387659947,\"scaleType\":\"gaphlwmi\"},\"locations\":[\"fnbzcjmsr\",\"rjby\",\"xkc\"],\"capabilities\":[{\"name\":\"bysxtjivw\",\"value\":\"ng\",\"reason\":\"yct\"}]},\"kind\":\"hgjyholsmahbjc\",\"id\":\"skqxgbigozrvlkla\",\"name\":\"rlysseo\",\"type\":\"ppgsfj\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        AppServiceManager manager = AppServiceManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        WorkerPoolResource response
            = manager.appServiceEnvironments()
                .updateMultiRolePoolWithResponse("yfhqyli", "gnbhz", new WorkerPoolResourceInner()
                    .withSku(new SkuDescription().withName("ixran")
                        .withTier("qejfq")
                        .withSize("gadrvxbcye")
                        .withFamily("jbcbrtiqpj")
                        .withCapacity(1660418840)
                        .withSkuCapacity(new SkuCapacity().withMinimum(818888616)
                            .withMaximum(2113577319)
                            .withElasticMaximum(1262151747)
                            .withDefaultProperty(34481737)
                            .withScaleType("qxqjzmosmlh"))
                        .withLocations(Arrays.asList("fgtnsxdjhztnj", "kpmdlttm", "hdeml", "aaiqyxlro"))
                        .withCapabilities(Arrays.asList(
                            new CapabilityInner().withName("bsxcnhqacbtyo").withValue("rdamyumr").withReason("baxny"),
                            new CapabilityInner().withName("ygj").withValue("mkakgwl").withReason("no"),
                            new CapabilityInner().withName("dgyheyay").withValue("utflhego").withReason("fsahm"),
                            new CapabilityInner().withName("oeexwgzsz").withValue("zmqjhghihkhjldw").withReason("qt"))))
                    .withKind("tgn")
                    .withWorkerSizeId(414711726)
                    .withComputeMode(ComputeModeOptions.DEDICATED)
                    .withWorkerSize("yagaocvet")
                    .withWorkerCount(935008328), com.azure.core.util.Context.NONE)
                .getValue();

        Assertions.assertEquals("mjmpgzetuvfp", response.sku().name());
        Assertions.assertEquals("jpmeptnqsnpa", response.sku().tier());
        Assertions.assertEquals("sprrvjwbeeolm", response.sku().size());
        Assertions.assertEquals("aqolw", response.sku().family());
        Assertions.assertEquals(745218237, response.sku().capacity());
        Assertions.assertEquals(948268353, response.sku().skuCapacity().minimum());
        Assertions.assertEquals(733700882, response.sku().skuCapacity().maximum());
        Assertions.assertEquals(669046314, response.sku().skuCapacity().elasticMaximum());
        Assertions.assertEquals(1387659947, response.sku().skuCapacity().defaultProperty());
        Assertions.assertEquals("gaphlwmi", response.sku().skuCapacity().scaleType());
        Assertions.assertEquals("fnbzcjmsr", response.sku().locations().get(0));
        Assertions.assertEquals("bysxtjivw", response.sku().capabilities().get(0).name());
        Assertions.assertEquals("ng", response.sku().capabilities().get(0).value());
        Assertions.assertEquals("yct", response.sku().capabilities().get(0).reason());
        Assertions.assertEquals("hgjyholsmahbjc", response.kind());
        Assertions.assertEquals(860124397, response.workerSizeId());
        Assertions.assertEquals(ComputeModeOptions.DEDICATED, response.computeMode());
        Assertions.assertEquals("i", response.workerSize());
        Assertions.assertEquals(1056891956, response.workerCount());
    }
}
