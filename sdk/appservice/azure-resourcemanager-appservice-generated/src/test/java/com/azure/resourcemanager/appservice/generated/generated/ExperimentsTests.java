// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appservice.generated.models.Experiments;
import com.azure.resourcemanager.appservice.generated.models.RampUpRule;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ExperimentsTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        Experiments model = BinaryData.fromString(
            "{\"rampUpRules\":[{\"actionHostName\":\"primr\",\"reroutePercentage\":47.40330686235321,\"changeStep\":13.888893658439406,\"changeIntervalInMinutes\":1554382719,\"minReroutePercentage\":31.95828116625099,\"maxReroutePercentage\":87.84294168563976,\"changeDecisionCallbackUrl\":\"asylwx\",\"name\":\"aumweoohguufu\"}]}")
            .toObject(Experiments.class);
        Assertions.assertEquals("primr", model.rampUpRules().get(0).actionHostName());
        Assertions.assertEquals(47.40330686235321D, model.rampUpRules().get(0).reroutePercentage());
        Assertions.assertEquals(13.888893658439406D, model.rampUpRules().get(0).changeStep());
        Assertions.assertEquals(1554382719, model.rampUpRules().get(0).changeIntervalInMinutes());
        Assertions.assertEquals(31.95828116625099D, model.rampUpRules().get(0).minReroutePercentage());
        Assertions.assertEquals(87.84294168563976D, model.rampUpRules().get(0).maxReroutePercentage());
        Assertions.assertEquals("asylwx", model.rampUpRules().get(0).changeDecisionCallbackUrl());
        Assertions.assertEquals("aumweoohguufu", model.rampUpRules().get(0).name());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        Experiments model = new Experiments().withRampUpRules(Arrays.asList(new RampUpRule().withActionHostName("primr")
            .withReroutePercentage(47.40330686235321D)
            .withChangeStep(13.888893658439406D)
            .withChangeIntervalInMinutes(1554382719)
            .withMinReroutePercentage(31.95828116625099D)
            .withMaxReroutePercentage(87.84294168563976D)
            .withChangeDecisionCallbackUrl("asylwx")
            .withName("aumweoohguufu")));
        model = BinaryData.fromObject(model).toObject(Experiments.class);
        Assertions.assertEquals("primr", model.rampUpRules().get(0).actionHostName());
        Assertions.assertEquals(47.40330686235321D, model.rampUpRules().get(0).reroutePercentage());
        Assertions.assertEquals(13.888893658439406D, model.rampUpRules().get(0).changeStep());
        Assertions.assertEquals(1554382719, model.rampUpRules().get(0).changeIntervalInMinutes());
        Assertions.assertEquals(31.95828116625099D, model.rampUpRules().get(0).minReroutePercentage());
        Assertions.assertEquals(87.84294168563976D, model.rampUpRules().get(0).maxReroutePercentage());
        Assertions.assertEquals("asylwx", model.rampUpRules().get(0).changeDecisionCallbackUrl());
        Assertions.assertEquals("aumweoohguufu", model.rampUpRules().get(0).name());
    }
}
