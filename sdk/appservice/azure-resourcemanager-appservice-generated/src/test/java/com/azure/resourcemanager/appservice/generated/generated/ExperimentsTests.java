// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appservice.generated.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appservice.generated.models.Experiments;
import com.azure.resourcemanager.appservice.generated.models.RampUpRule;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ExperimentsTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        Experiments model = BinaryData.fromString(
            "{\"rampUpRules\":[{\"actionHostName\":\"zbsrgnowcj\",\"reroutePercentage\":67.26314455041057,\"changeStep\":37.0776000788372,\"changeIntervalInMinutes\":1670061981,\"minReroutePercentage\":84.54060756521649,\"maxReroutePercentage\":41.168322378176114,\"changeDecisionCallbackUrl\":\"yowc\",\"name\":\"qovekqvgqou\"}]}")
            .toObject(Experiments.class);
        Assertions.assertEquals("zbsrgnowcj", model.rampUpRules().get(0).actionHostname());
        Assertions.assertEquals(67.26314455041057D, model.rampUpRules().get(0).reroutePercentage());
        Assertions.assertEquals(37.0776000788372D, model.rampUpRules().get(0).changeStep());
        Assertions.assertEquals(1670061981, model.rampUpRules().get(0).changeIntervalInMinutes());
        Assertions.assertEquals(84.54060756521649D, model.rampUpRules().get(0).minReroutePercentage());
        Assertions.assertEquals(41.168322378176114D, model.rampUpRules().get(0).maxReroutePercentage());
        Assertions.assertEquals("yowc", model.rampUpRules().get(0).changeDecisionCallbackUrl());
        Assertions.assertEquals("qovekqvgqou", model.rampUpRules().get(0).name());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        Experiments model
            = new Experiments().withRampUpRules(Arrays.asList(new RampUpRule().withActionHostname("zbsrgnowcj")
                .withReroutePercentage(67.26314455041057D)
                .withChangeStep(37.0776000788372D)
                .withChangeIntervalInMinutes(1670061981)
                .withMinReroutePercentage(84.54060756521649D)
                .withMaxReroutePercentage(41.168322378176114D)
                .withChangeDecisionCallbackUrl("yowc")
                .withName("qovekqvgqou")));
        model = BinaryData.fromObject(model).toObject(Experiments.class);
        Assertions.assertEquals("zbsrgnowcj", model.rampUpRules().get(0).actionHostname());
        Assertions.assertEquals(67.26314455041057D, model.rampUpRules().get(0).reroutePercentage());
        Assertions.assertEquals(37.0776000788372D, model.rampUpRules().get(0).changeStep());
        Assertions.assertEquals(1670061981, model.rampUpRules().get(0).changeIntervalInMinutes());
        Assertions.assertEquals(84.54060756521649D, model.rampUpRules().get(0).minReroutePercentage());
        Assertions.assertEquals(41.168322378176114D, model.rampUpRules().get(0).maxReroutePercentage());
        Assertions.assertEquals("yowc", model.rampUpRules().get(0).changeDecisionCallbackUrl());
        Assertions.assertEquals("qovekqvgqou", model.rampUpRules().get(0).name());
    }
}
