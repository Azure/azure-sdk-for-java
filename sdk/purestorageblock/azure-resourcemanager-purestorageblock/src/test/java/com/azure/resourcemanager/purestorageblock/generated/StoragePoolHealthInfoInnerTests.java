// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.purestorageblock.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.purestorageblock.fluent.models.StoragePoolHealthInfoInner;
import com.azure.resourcemanager.purestorageblock.models.AlertLevel;
import org.junit.jupiter.api.Assertions;

public final class StoragePoolHealthInfoInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        StoragePoolHealthInfoInner model = BinaryData.fromString(
            "{\"health\":{\"usedCapacityPercentage\":35.81887419990952,\"bandwidthUsage\":{\"current\":140341677696577800,\"provisioned\":5313229010418378323,\"max\":1731792145789040801},\"iopsUsage\":{\"current\":4071195826596998153,\"provisioned\":2507936832402771228,\"max\":3778047541183075264},\"space\":{\"totalUsed\":3270121833645921057,\"unique\":3973281254631070018,\"snapshots\":8890235474847299570,\"shared\":4683978347036523050},\"dataReductionRatio\":1.4486555360253672,\"estimatedMaxCapacity\":1882078303153240506},\"alerts\":[{\"level\":\"error\",\"message\":\"q\"},{\"level\":\"info\",\"message\":\"dfnbyxbaaabjyv\"},{\"level\":\"error\",\"message\":\"ffimrzrtuzqogsex\"},{\"level\":\"error\",\"message\":\"vfdnwnwmewzsyyce\"}]}")
            .toObject(StoragePoolHealthInfoInner.class);
        Assertions.assertEquals(35.81887419990952, model.health().usedCapacityPercentage());
        Assertions.assertEquals(140341677696577800L, model.health().bandwidthUsage().current());
        Assertions.assertEquals(5313229010418378323L, model.health().bandwidthUsage().provisioned());
        Assertions.assertEquals(1731792145789040801L, model.health().bandwidthUsage().max());
        Assertions.assertEquals(4071195826596998153L, model.health().iopsUsage().current());
        Assertions.assertEquals(2507936832402771228L, model.health().iopsUsage().provisioned());
        Assertions.assertEquals(3778047541183075264L, model.health().iopsUsage().max());
        Assertions.assertEquals(3270121833645921057L, model.health().space().totalUsed());
        Assertions.assertEquals(3973281254631070018L, model.health().space().unique());
        Assertions.assertEquals(8890235474847299570L, model.health().space().snapshots());
        Assertions.assertEquals(4683978347036523050L, model.health().space().shared());
        Assertions.assertEquals(1.4486555360253672, model.health().dataReductionRatio());
        Assertions.assertEquals(1882078303153240506L, model.health().estimatedMaxCapacity());
        Assertions.assertEquals(AlertLevel.ERROR, model.alerts().get(0).level());
        Assertions.assertEquals("q", model.alerts().get(0).message());
    }
}
