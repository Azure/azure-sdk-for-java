// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.loganalytics.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.loganalytics.models.AccessRule;
import com.azure.resourcemanager.loganalytics.models.AccessRuleDirection;
import com.azure.resourcemanager.loganalytics.models.AccessRuleProperties;
import com.azure.resourcemanager.loganalytics.models.AccessRulePropertiesSubscriptionsItem;
import com.azure.resourcemanager.loganalytics.models.NetworkSecurityPerimeter;
import java.util.Arrays;
import java.util.UUID;
import org.junit.jupiter.api.Assertions;

public final class AccessRuleTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AccessRule model = BinaryData.fromString(
            "{\"name\":\"yrxpdlcgqls\",\"properties\":{\"direction\":\"Outbound\",\"addressPrefixes\":[\"rddga\",\"quhiosrsjuivf\",\"disyirnxz\",\"czexrxzbujrtrhqv\"],\"subscriptions\":[{\"id\":\"khgn\"}],\"networkSecurityPerimeters\":[{\"id\":\"nzlrpiqywncvjt\",\"perimeterGuid\":\"bbdc99ed-04bf-44a9-bcce-e0e5e32f2675\",\"location\":\"ofizehtdhgbj\"},{\"id\":\"reljeamur\",\"perimeterGuid\":\"35ed2012-51db-4e82-9308-ff8bd4f8b868\",\"location\":\"lovuana\"},{\"id\":\"cxlpmjerb\",\"perimeterGuid\":\"8a369177-ebd3-4583-b465-eafb572e3f34\",\"location\":\"lvidizozs\"},{\"id\":\"ccxjm\",\"perimeterGuid\":\"6b1215e4-8788-4ec0-9135-19bbe112ee85\",\"location\":\"dgnwncypuuwwlt\"}],\"fullyQualifiedDomainNames\":[\"jctzenkei\",\"zzhmkd\",\"svflyhbxcudch\"],\"emailAddresses\":[\"rb\",\"ldforobwj\",\"vizbfhfo\"],\"phoneNumbers\":[\"cqpbtuo\",\"xesz\",\"bbelawumuaslzk\",\"rrwoycqucwyhahn\"]}}")
            .toObject(AccessRule.class);
        Assertions.assertEquals("yrxpdlcgqls", model.name());
        Assertions.assertEquals(AccessRuleDirection.OUTBOUND, model.properties().direction());
        Assertions.assertEquals("rddga", model.properties().addressPrefixes().get(0));
        Assertions.assertEquals("khgn", model.properties().subscriptions().get(0).id());
        Assertions.assertEquals("nzlrpiqywncvjt", model.properties().networkSecurityPerimeters().get(0).id());
        Assertions.assertEquals(UUID.fromString("bbdc99ed-04bf-44a9-bcce-e0e5e32f2675"),
            model.properties().networkSecurityPerimeters().get(0).perimeterGuid());
        Assertions.assertEquals("ofizehtdhgbj", model.properties().networkSecurityPerimeters().get(0).location());
        Assertions.assertEquals("jctzenkei", model.properties().fullyQualifiedDomainNames().get(0));
        Assertions.assertEquals("rb", model.properties().emailAddresses().get(0));
        Assertions.assertEquals("cqpbtuo", model.properties().phoneNumbers().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AccessRule model = new AccessRule().withName("yrxpdlcgqls")
            .withProperties(new AccessRuleProperties().withDirection(AccessRuleDirection.OUTBOUND)
                .withAddressPrefixes(Arrays.asList("rddga", "quhiosrsjuivf", "disyirnxz", "czexrxzbujrtrhqv"))
                .withSubscriptions(Arrays.asList(new AccessRulePropertiesSubscriptionsItem().withId("khgn")))
                .withNetworkSecurityPerimeters(Arrays.asList(
                    new NetworkSecurityPerimeter().withId("nzlrpiqywncvjt")
                        .withPerimeterGuid(UUID.fromString("bbdc99ed-04bf-44a9-bcce-e0e5e32f2675"))
                        .withLocation("ofizehtdhgbj"),
                    new NetworkSecurityPerimeter().withId("reljeamur")
                        .withPerimeterGuid(UUID.fromString("35ed2012-51db-4e82-9308-ff8bd4f8b868"))
                        .withLocation("lovuana"),
                    new NetworkSecurityPerimeter().withId("cxlpmjerb")
                        .withPerimeterGuid(UUID.fromString("8a369177-ebd3-4583-b465-eafb572e3f34"))
                        .withLocation("lvidizozs"),
                    new NetworkSecurityPerimeter().withId("ccxjm")
                        .withPerimeterGuid(UUID.fromString("6b1215e4-8788-4ec0-9135-19bbe112ee85"))
                        .withLocation("dgnwncypuuwwlt")))
                .withFullyQualifiedDomainNames(Arrays.asList("jctzenkei", "zzhmkd", "svflyhbxcudch"))
                .withEmailAddresses(Arrays.asList("rb", "ldforobwj", "vizbfhfo"))
                .withPhoneNumbers(Arrays.asList("cqpbtuo", "xesz", "bbelawumuaslzk", "rrwoycqucwyhahn")));
        model = BinaryData.fromObject(model).toObject(AccessRule.class);
        Assertions.assertEquals("yrxpdlcgqls", model.name());
        Assertions.assertEquals(AccessRuleDirection.OUTBOUND, model.properties().direction());
        Assertions.assertEquals("rddga", model.properties().addressPrefixes().get(0));
        Assertions.assertEquals("khgn", model.properties().subscriptions().get(0).id());
        Assertions.assertEquals("nzlrpiqywncvjt", model.properties().networkSecurityPerimeters().get(0).id());
        Assertions.assertEquals(UUID.fromString("bbdc99ed-04bf-44a9-bcce-e0e5e32f2675"),
            model.properties().networkSecurityPerimeters().get(0).perimeterGuid());
        Assertions.assertEquals("ofizehtdhgbj", model.properties().networkSecurityPerimeters().get(0).location());
        Assertions.assertEquals("jctzenkei", model.properties().fullyQualifiedDomainNames().get(0));
        Assertions.assertEquals("rb", model.properties().emailAddresses().get(0));
        Assertions.assertEquals("cqpbtuo", model.properties().phoneNumbers().get(0));
    }
}
