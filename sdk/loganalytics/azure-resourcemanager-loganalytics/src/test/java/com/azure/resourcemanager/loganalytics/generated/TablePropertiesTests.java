// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.loganalytics.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.loganalytics.fluent.models.TableProperties;
import com.azure.resourcemanager.loganalytics.models.Column;
import com.azure.resourcemanager.loganalytics.models.ColumnDataTypeHintEnum;
import com.azure.resourcemanager.loganalytics.models.ColumnTypeEnum;
import com.azure.resourcemanager.loganalytics.models.RestoredLogs;
import com.azure.resourcemanager.loganalytics.models.Schema;
import com.azure.resourcemanager.loganalytics.models.SearchResults;
import com.azure.resourcemanager.loganalytics.models.TablePlanEnum;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class TablePropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        TableProperties model = BinaryData.fromString(
            "{\"retentionInDays\":479918870,\"totalRetentionInDays\":2045022432,\"archiveRetentionInDays\":1783841206,\"searchResults\":{\"query\":\"o\",\"description\":\"vf\",\"limit\":1925116648,\"startSearchTime\":\"2021-10-04T03:30Z\",\"endSearchTime\":\"2021-11-05T03:00:16Z\",\"sourceTable\":\"f\",\"azureAsyncOperationId\":\"z\"},\"restoredLogs\":{\"startRestoreTime\":\"2021-04-24T01:32:22Z\",\"endRestoreTime\":\"2021-11-03T23:30:17Z\",\"sourceTable\":\"cx\",\"azureAsyncOperationId\":\"t\"},\"resultStatistics\":{\"progress\":39.374405,\"ingestedRecords\":675680646,\"scannedGb\":64.79667},\"plan\":\"Basic\",\"lastPlanModifiedDate\":\"mldgxobfirc\",\"schema\":{\"name\":\"kciayzri\",\"displayName\":\"hya\",\"description\":\"vjlboxqvk\",\"columns\":[{\"name\":\"ho\",\"type\":\"boolean\",\"dataTypeHint\":\"guid\",\"displayName\":\"wdigumbnraauz\",\"description\":\"tj\",\"isDefaultDisplay\":false,\"isHidden\":false}],\"standardColumns\":[{\"name\":\"zwwva\",\"type\":\"boolean\",\"dataTypeHint\":\"uri\",\"displayName\":\"fonkphhqyikvyla\",\"description\":\"avluwmncs\",\"isDefaultDisplay\":false,\"isHidden\":false},{\"name\":\"bvpoekrsgsgbdhu\",\"type\":\"dynamic\",\"dataTypeHint\":\"uri\",\"displayName\":\"gkynscliqh\",\"description\":\"h\",\"isDefaultDisplay\":true,\"isHidden\":false},{\"name\":\"kubotppnvdxz\",\"type\":\"dateTime\",\"dataTypeHint\":\"guid\",\"displayName\":\"bbc\",\"description\":\"qagt\",\"isDefaultDisplay\":true,\"isHidden\":false}],\"categories\":[\"qojpy\"],\"labels\":[\"trdcnifmzzs\"],\"source\":\"microsoft\",\"tableType\":\"CustomLog\",\"tableSubType\":\"Any\",\"solutions\":[\"xmprafwg\"]},\"provisioningState\":\"Deleting\",\"retentionInDaysAsDefault\":true,\"totalRetentionInDaysAsDefault\":false}")
            .toObject(TableProperties.class);
        Assertions.assertEquals(479918870, model.retentionInDays());
        Assertions.assertEquals(2045022432, model.totalRetentionInDays());
        Assertions.assertEquals("o", model.searchResults().query());
        Assertions.assertEquals("vf", model.searchResults().description());
        Assertions.assertEquals(1925116648, model.searchResults().limit());
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-04T03:30Z"), model.searchResults().startSearchTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-05T03:00:16Z"), model.searchResults().endSearchTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-24T01:32:22Z"), model.restoredLogs().startRestoreTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-03T23:30:17Z"), model.restoredLogs().endRestoreTime());
        Assertions.assertEquals("cx", model.restoredLogs().sourceTable());
        Assertions.assertEquals(TablePlanEnum.BASIC, model.plan());
        Assertions.assertEquals("kciayzri", model.schema().name());
        Assertions.assertEquals("hya", model.schema().displayName());
        Assertions.assertEquals("vjlboxqvk", model.schema().description());
        Assertions.assertEquals("ho", model.schema().columns().get(0).name());
        Assertions.assertEquals(ColumnTypeEnum.BOOLEAN, model.schema().columns().get(0).type());
        Assertions.assertEquals(ColumnDataTypeHintEnum.GUID, model.schema().columns().get(0).dataTypeHint());
        Assertions.assertEquals("wdigumbnraauz", model.schema().columns().get(0).displayName());
        Assertions.assertEquals("tj", model.schema().columns().get(0).description());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        TableProperties model = new TableProperties().withRetentionInDays(479918870)
            .withTotalRetentionInDays(2045022432)
            .withSearchResults(new SearchResults().withQuery("o")
                .withDescription("vf")
                .withLimit(1925116648)
                .withStartSearchTime(OffsetDateTime.parse("2021-10-04T03:30Z"))
                .withEndSearchTime(OffsetDateTime.parse("2021-11-05T03:00:16Z")))
            .withRestoredLogs(new RestoredLogs().withStartRestoreTime(OffsetDateTime.parse("2021-04-24T01:32:22Z"))
                .withEndRestoreTime(OffsetDateTime.parse("2021-11-03T23:30:17Z"))
                .withSourceTable("cx"))
            .withPlan(TablePlanEnum.BASIC)
            .withSchema(new Schema().withName("kciayzri")
                .withDisplayName("hya")
                .withDescription("vjlboxqvk")
                .withColumns(Arrays.asList(new Column().withName("ho")
                    .withType(ColumnTypeEnum.BOOLEAN)
                    .withDataTypeHint(ColumnDataTypeHintEnum.GUID)
                    .withDisplayName("wdigumbnraauz")
                    .withDescription("tj"))));
        model = BinaryData.fromObject(model).toObject(TableProperties.class);
        Assertions.assertEquals(479918870, model.retentionInDays());
        Assertions.assertEquals(2045022432, model.totalRetentionInDays());
        Assertions.assertEquals("o", model.searchResults().query());
        Assertions.assertEquals("vf", model.searchResults().description());
        Assertions.assertEquals(1925116648, model.searchResults().limit());
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-04T03:30Z"), model.searchResults().startSearchTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-05T03:00:16Z"), model.searchResults().endSearchTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-24T01:32:22Z"), model.restoredLogs().startRestoreTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-03T23:30:17Z"), model.restoredLogs().endRestoreTime());
        Assertions.assertEquals("cx", model.restoredLogs().sourceTable());
        Assertions.assertEquals(TablePlanEnum.BASIC, model.plan());
        Assertions.assertEquals("kciayzri", model.schema().name());
        Assertions.assertEquals("hya", model.schema().displayName());
        Assertions.assertEquals("vjlboxqvk", model.schema().description());
        Assertions.assertEquals("ho", model.schema().columns().get(0).name());
        Assertions.assertEquals(ColumnTypeEnum.BOOLEAN, model.schema().columns().get(0).type());
        Assertions.assertEquals(ColumnDataTypeHintEnum.GUID, model.schema().columns().get(0).dataTypeHint());
        Assertions.assertEquals("wdigumbnraauz", model.schema().columns().get(0).displayName());
        Assertions.assertEquals("tj", model.schema().columns().get(0).description());
    }
}
