// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.connectedvmware.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.connectedvmware.fluent.models.DatastoreInner;
import com.azure.resourcemanager.connectedvmware.models.DatastoresList;
import com.azure.resourcemanager.connectedvmware.models.ExtendedLocation;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class DatastoresListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DatastoresList model =
            BinaryData
                .fromString(
                    "{\"nextLink\":\"llrxcyjmoad\",\"value\":[{\"properties\":{\"uuid\":\"arm\",\"vCenterId\":\"dmjsjqb\",\"moRefId\":\"hyxxrwlycoduhpk\",\"inventoryItemId\":\"gymare\",\"moName\":\"ajxq\",\"statuses\":[{\"type\":\"ky\",\"status\":\"beddgssofw\",\"reason\":\"zqalkrmnjijpx\",\"message\":\"q\",\"severity\":\"dfnbyxbaaabjyv\",\"lastUpdatedAt\":\"2021-10-17T00:26:42Z\"},{\"type\":\"imrzrtuzqog\",\"status\":\"xnevfdnwn\",\"reason\":\"ewzsyyceuzsoib\",\"message\":\"dpfrxtrthzvaytdw\",\"severity\":\"brqubp\",\"lastUpdatedAt\":\"2021-06-19T07:52:19Z\"}],\"customResourceName\":\"xiilivpdtiirqt\",\"capacityGB\":3832853758860614020,\"freeSpaceGB\":7272913098862288792,\"provisioningState\":\"Failed\"},\"extendedLocation\":{\"type\":\"squyfxrxxlep\",\"name\":\"amxjezwlw\"},\"kind\":\"uqlcvydy\",\"location\":\"atdooaojkniod\",\"tags\":{\"msbvdkcrodtjinf\":\"ebwnujhe\",\"akggkfpag\":\"jlfltkacjvefkdlf\",\"lyls\":\"owpulpq\"},\"id\":\"xkqjnsjervt\",\"name\":\"agxsdszuemps\",\"type\":\"zkfzbeyv\"},{\"properties\":{\"uuid\":\"qi\",\"vCenterId\":\"invkjjxdxrbuu\",\"moRefId\":\"clewyhm\",\"inventoryItemId\":\"paztzpofncck\",\"moName\":\"fz\",\"statuses\":[{\"type\":\"xbuy\",\"status\":\"xzfe\",\"reason\":\"tpp\",\"message\":\"o\",\"severity\":\"or\",\"lastUpdatedAt\":\"2021-10-02T12:11:14Z\"}],\"customResourceName\":\"olmncwsobqwcs\",\"capacityGB\":7757598215858797770,\"freeSpaceGB\":1277017380119093840,\"provisioningState\":\"Deleting\"},\"extendedLocation\":{\"type\":\"dpfuvg\",\"name\":\"bjj\"},\"kind\":\"vxb\",\"location\":\"t\",\"tags\":{\"lxqtvcofudfl\":\"utncorm\"},\"id\":\"kgjubgdknnqvsazn\",\"name\":\"n\",\"type\":\"orudsgsa\"},{\"properties\":{\"uuid\":\"kycgrauwj\",\"vCenterId\":\"taeburuvdm\",\"moRefId\":\"s\",\"inventoryItemId\":\"l\",\"moName\":\"ab\",\"statuses\":[{\"type\":\"fkifr\",\"status\":\"puqujmqlgkfbtn\",\"reason\":\"aongbj\",\"message\":\"tujitcjedft\",\"severity\":\"ae\",\"lastUpdatedAt\":\"2021-01-22T13:54:08Z\"},{\"type\":\"v\",\"status\":\"pzfoqoui\",\"reason\":\"bxarzgszufoxci\",\"message\":\"p\",\"severity\":\"oamciodh\",\"lastUpdatedAt\":\"2021-03-05T14:35:53Z\"}],\"customResourceName\":\"xkhnzbonlwnto\",\"capacityGB\":5469965944483736213,\"freeSpaceGB\":2326533855790970349,\"provisioningState\":\"Failed\"},\"extendedLocation\":{\"type\":\"z\",\"name\":\"mrv\"},\"kind\":\"tvb\",\"location\":\"qgsfraoyzkoow\",\"tags\":{\"uximerqfobw\":\"nguxawqaldsy\",\"r\":\"znkbykutwpfhpagm\",\"kkze\":\"kdsnfdsdoakgtdl\",\"sdsttwvog\":\"dlhewp\"},\"id\":\"bbejdcngqqm\",\"name\":\"akufgmjz\",\"type\":\"wr\"},{\"properties\":{\"uuid\":\"rtwaenuuzko\",\"vCenterId\":\"minrfdw\",\"moRefId\":\"uhhziuiefozbhdm\",\"inventoryItemId\":\"l\",\"moName\":\"qhoftrmaequiah\",\"statuses\":[{\"type\":\"lfaoqzpiyylhaln\",\"status\":\"hc\",\"reason\":\"ph\",\"message\":\"ivwitqscywugg\",\"severity\":\"luhczbw\",\"lastUpdatedAt\":\"2021-12-09T17:28:10Z\"},{\"type\":\"i\",\"status\":\"brgz\",\"reason\":\"msweypqwdxggicc\",\"message\":\"xqhuexm\",\"severity\":\"tlstvlzywem\",\"lastUpdatedAt\":\"2021-05-31T04:58:05Z\"},{\"type\":\"csdtclusiypbs\",\"status\":\"ytguslf\",\"reason\":\"dcygqukyhejhz\",\"message\":\"xgfpelolppv\",\"severity\":\"r\",\"lastUpdatedAt\":\"2021-02-05T20:48:24Z\"},{\"type\":\"jzraehtwdwrf\",\"status\":\"wib\",\"reason\":\"cdl\",\"message\":\"shfwpracstwity\",\"severity\":\"evxccedcp\",\"lastUpdatedAt\":\"2021-05-27T10:40:38Z\"}],\"customResourceName\":\"odn\",\"capacityGB\":4239411735034713219,\"freeSpaceGB\":1605969144420197102,\"provisioningState\":\"Updating\"},\"extendedLocation\":{\"type\":\"tiugcxnav\",\"name\":\"xqi\"},\"kind\":\"unyowxwl\",\"location\":\"djrkvfgbvfvpd\",\"tags\":{\"bdeibqipqk\":\"acizsjqlhkrr\",\"rwkq\":\"hvxndzwmkrefajpj\"},\"id\":\"yhgbijtjivfx\",\"name\":\"sjabibs\",\"type\":\"stawfsdjpvkv\"}]}")
                .toObject(DatastoresList.class);
        Assertions.assertEquals("llrxcyjmoad", model.nextLink());
        Assertions.assertEquals("atdooaojkniod", model.value().get(0).location());
        Assertions.assertEquals("ebwnujhe", model.value().get(0).tags().get("msbvdkcrodtjinf"));
        Assertions.assertEquals("squyfxrxxlep", model.value().get(0).extendedLocation().type());
        Assertions.assertEquals("amxjezwlw", model.value().get(0).extendedLocation().name());
        Assertions.assertEquals("uqlcvydy", model.value().get(0).kind());
        Assertions.assertEquals("dmjsjqb", model.value().get(0).vCenterId());
        Assertions.assertEquals("hyxxrwlycoduhpk", model.value().get(0).moRefId());
        Assertions.assertEquals("gymare", model.value().get(0).inventoryItemId());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DatastoresList model =
            new DatastoresList()
                .withNextLink("llrxcyjmoad")
                .withValue(
                    Arrays
                        .asList(
                            new DatastoreInner()
                                .withLocation("atdooaojkniod")
                                .withTags(
                                    mapOf(
                                        "msbvdkcrodtjinf",
                                        "ebwnujhe",
                                        "akggkfpag",
                                        "jlfltkacjvefkdlf",
                                        "lyls",
                                        "owpulpq"))
                                .withExtendedLocation(
                                    new ExtendedLocation().withType("squyfxrxxlep").withName("amxjezwlw"))
                                .withKind("uqlcvydy")
                                .withVCenterId("dmjsjqb")
                                .withMoRefId("hyxxrwlycoduhpk")
                                .withInventoryItemId("gymare"),
                            new DatastoreInner()
                                .withLocation("t")
                                .withTags(mapOf("lxqtvcofudfl", "utncorm"))
                                .withExtendedLocation(new ExtendedLocation().withType("dpfuvg").withName("bjj"))
                                .withKind("vxb")
                                .withVCenterId("invkjjxdxrbuu")
                                .withMoRefId("clewyhm")
                                .withInventoryItemId("paztzpofncck"),
                            new DatastoreInner()
                                .withLocation("qgsfraoyzkoow")
                                .withTags(
                                    mapOf(
                                        "uximerqfobw",
                                        "nguxawqaldsy",
                                        "r",
                                        "znkbykutwpfhpagm",
                                        "kkze",
                                        "kdsnfdsdoakgtdl",
                                        "sdsttwvog",
                                        "dlhewp"))
                                .withExtendedLocation(new ExtendedLocation().withType("z").withName("mrv"))
                                .withKind("tvb")
                                .withVCenterId("taeburuvdm")
                                .withMoRefId("s")
                                .withInventoryItemId("l"),
                            new DatastoreInner()
                                .withLocation("djrkvfgbvfvpd")
                                .withTags(mapOf("bdeibqipqk", "acizsjqlhkrr", "rwkq", "hvxndzwmkrefajpj"))
                                .withExtendedLocation(new ExtendedLocation().withType("tiugcxnav").withName("xqi"))
                                .withKind("unyowxwl")
                                .withVCenterId("minrfdw")
                                .withMoRefId("uhhziuiefozbhdm")
                                .withInventoryItemId("l")));
        model = BinaryData.fromObject(model).toObject(DatastoresList.class);
        Assertions.assertEquals("llrxcyjmoad", model.nextLink());
        Assertions.assertEquals("atdooaojkniod", model.value().get(0).location());
        Assertions.assertEquals("ebwnujhe", model.value().get(0).tags().get("msbvdkcrodtjinf"));
        Assertions.assertEquals("squyfxrxxlep", model.value().get(0).extendedLocation().type());
        Assertions.assertEquals("amxjezwlw", model.value().get(0).extendedLocation().name());
        Assertions.assertEquals("uqlcvydy", model.value().get(0).kind());
        Assertions.assertEquals("dmjsjqb", model.value().get(0).vCenterId());
        Assertions.assertEquals("hyxxrwlycoduhpk", model.value().get(0).moRefId());
        Assertions.assertEquals("gymare", model.value().get(0).inventoryItemId());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
