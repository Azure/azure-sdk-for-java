// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.scvmm.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.scvmm.fluent.models.CloudInner;
import com.azure.resourcemanager.scvmm.models.CloudProperties;
import com.azure.resourcemanager.scvmm.models.ExtendedLocation;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class CloudInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        CloudInner model = BinaryData.fromString(
            "{\"properties\":{\"inventoryItemId\":\"ivkrtsw\",\"uuid\":\"qzvszjf\",\"vmmServerId\":\"vjfdx\",\"cloudName\":\"vetvt\",\"cloudCapacity\":{\"cpuCount\":3989982721308647052,\"memoryMB\":6414157962649478285,\"vmCount\":4668269847268047385},\"storageQoSPolicies\":[{\"name\":\"vxysl\",\"id\":\"hsfxoblytkb\",\"iopsMaximum\":1261547703522273379,\"iopsMinimum\":6710979409785542965,\"bandwidthLimit\":3820765705092103463,\"policyId\":\"vrnsvshqjohxc\"},{\"name\":\"bfovasrruvwbhsq\",\"id\":\"ubcgjbirxb\",\"iopsMaximum\":5990216587260133822,\"iopsMinimum\":9066736792193838127,\"bandwidthLimit\":2236269397517718606,\"policyId\":\"w\"},{\"name\":\"otftpvjzbexilz\",\"id\":\"fqqnvwpmqtaruo\",\"iopsMaximum\":6347695881931305668,\"iopsMinimum\":4269295539164353927,\"bandwidthLimit\":6824806013048148325,\"policyId\":\"jrybnwjewgdrjer\"},{\"name\":\"aen\",\"id\":\"eh\",\"iopsMaximum\":2926817929583465327,\"iopsMinimum\":781592580513390645,\"bandwidthLimit\":6991523348113589059,\"policyId\":\"nzdndslgna\"}],\"provisioningState\":\"Accepted\"},\"extendedLocation\":{\"type\":\"ynduha\",\"name\":\"qlkth\"},\"location\":\"aqolbgycduiertg\",\"tags\":{\"lqlfm\":\"mvaolps\"},\"id\":\"dnbbglzps\",\"name\":\"iydmcwyhzdxs\",\"type\":\"adbzmnvdfznud\"}")
            .toObject(CloudInner.class);
        Assertions.assertEquals("aqolbgycduiertg", model.location());
        Assertions.assertEquals("mvaolps", model.tags().get("lqlfm"));
        Assertions.assertEquals("ivkrtsw", model.properties().inventoryItemId());
        Assertions.assertEquals("qzvszjf", model.properties().uuid());
        Assertions.assertEquals("vjfdx", model.properties().vmmServerId());
        Assertions.assertEquals("ynduha", model.extendedLocation().type());
        Assertions.assertEquals("qlkth", model.extendedLocation().name());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        CloudInner model = new CloudInner().withLocation("aqolbgycduiertg")
            .withTags(mapOf("lqlfm", "mvaolps"))
            .withProperties(
                new CloudProperties().withInventoryItemId("ivkrtsw").withUuid("qzvszjf").withVmmServerId("vjfdx"))
            .withExtendedLocation(new ExtendedLocation().withType("ynduha").withName("qlkth"));
        model = BinaryData.fromObject(model).toObject(CloudInner.class);
        Assertions.assertEquals("aqolbgycduiertg", model.location());
        Assertions.assertEquals("mvaolps", model.tags().get("lqlfm"));
        Assertions.assertEquals("ivkrtsw", model.properties().inventoryItemId());
        Assertions.assertEquals("qzvszjf", model.properties().uuid());
        Assertions.assertEquals("vjfdx", model.properties().vmmServerId());
        Assertions.assertEquals("ynduha", model.extendedLocation().type());
        Assertions.assertEquals("qlkth", model.extendedLocation().name());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
