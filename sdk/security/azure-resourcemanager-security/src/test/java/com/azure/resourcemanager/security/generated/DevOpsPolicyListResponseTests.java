// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.security.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.security.fluent.models.DevOpsPolicyInner;
import com.azure.resourcemanager.security.models.DevOpsPolicyListResponse;
import com.azure.resourcemanager.security.models.DevOpsPolicyProperties;
import com.azure.resourcemanager.security.models.DevOpsPolicySource;
import com.azure.resourcemanager.security.models.DevOpsPolicyType;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class DevOpsPolicyListResponseTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DevOpsPolicyListResponse model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"provisioningStatusMessage\":\"maajquhuxylr\",\"provisioningStatusUpdateTimeUtc\":\"2021-05-27T06:37:19Z\",\"provisioningState\":\"DeletionSuccess\",\"source\":\"UserDefined\",\"policyId\":\"e64f6c9b-27c3-45f7-847d-486c5f847c81\",\"webUrl\":\"zyos\",\"version\":\"p\",\"type\":\"Unknown\",\"content\":\"fkyjpmspbpssdfpp\"},\"id\":\"ogtieyujtvczkcny\",\"name\":\"rxmunjdxvgln\",\"type\":\"vxlx\"},{\"properties\":{\"provisioningStatusMessage\":\"qivbgkcvkh\",\"provisioningStatusUpdateTimeUtc\":\"2020-12-28T02:44:39Z\",\"provisioningState\":\"Canceled\",\"source\":\"Unknown\",\"policyId\":\"15980785-02cd-400d-b72e-76cfe4a05c80\",\"webUrl\":\"oniypfpubcpzgp\",\"version\":\"ivhjknidi\",\"type\":\"Pipeline\",\"content\":\"xgpnr\"},\"id\":\"govfgpikqmhhaow\",\"name\":\"rmzvupo\",\"type\":\"qzdfuydzvkfvxcn\"},{\"properties\":{\"provisioningStatusMessage\":\"psw\",\"provisioningStatusUpdateTimeUtc\":\"2021-11-24T17:00:30Z\",\"provisioningState\":\"Pending\",\"source\":\"Unknown\",\"policyId\":\"c1dda001-1501-4419-93a6-5384d7cad9d0\",\"webUrl\":\"dhbemzqkzszu\",\"version\":\"wtglxx\",\"type\":\"Pipeline\",\"content\":\"pg\"},\"id\":\"icrmnzh\",\"name\":\"gmqgjs\",\"type\":\"vpqcb\"}],\"nextLink\":\"mbodthsqqgvri\"}")
            .toObject(DevOpsPolicyListResponse.class);
        Assertions.assertEquals(DevOpsPolicySource.USER_DEFINED, model.value().get(0).properties().source());
        Assertions.assertEquals("p", model.value().get(0).properties().version());
        Assertions.assertEquals(DevOpsPolicyType.UNKNOWN, model.value().get(0).properties().type());
        Assertions.assertEquals("fkyjpmspbpssdfpp", model.value().get(0).properties().content());
        Assertions.assertEquals("mbodthsqqgvri", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DevOpsPolicyListResponse model = new DevOpsPolicyListResponse().withValue(Arrays.asList(
            new DevOpsPolicyInner()
                .withProperties(new DevOpsPolicyProperties().withSource(DevOpsPolicySource.USER_DEFINED)
                    .withVersion("p")
                    .withType(DevOpsPolicyType.UNKNOWN)
                    .withContent("fkyjpmspbpssdfpp")),
            new DevOpsPolicyInner().withProperties(new DevOpsPolicyProperties().withSource(DevOpsPolicySource.UNKNOWN)
                .withVersion("ivhjknidi")
                .withType(DevOpsPolicyType.PIPELINE)
                .withContent("xgpnr")),
            new DevOpsPolicyInner().withProperties(new DevOpsPolicyProperties().withSource(DevOpsPolicySource.UNKNOWN)
                .withVersion("wtglxx")
                .withType(DevOpsPolicyType.PIPELINE)
                .withContent("pg"))))
            .withNextLink("mbodthsqqgvri");
        model = BinaryData.fromObject(model).toObject(DevOpsPolicyListResponse.class);
        Assertions.assertEquals(DevOpsPolicySource.USER_DEFINED, model.value().get(0).properties().source());
        Assertions.assertEquals("p", model.value().get(0).properties().version());
        Assertions.assertEquals(DevOpsPolicyType.UNKNOWN, model.value().get(0).properties().type());
        Assertions.assertEquals("fkyjpmspbpssdfpp", model.value().get(0).properties().content());
        Assertions.assertEquals("mbodthsqqgvri", model.nextLink());
    }
}
