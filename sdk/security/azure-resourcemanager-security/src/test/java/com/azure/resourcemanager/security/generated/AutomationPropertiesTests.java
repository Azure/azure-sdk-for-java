// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.security.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.security.fluent.models.AutomationProperties;
import com.azure.resourcemanager.security.models.AutomationAction;
import com.azure.resourcemanager.security.models.AutomationRuleSet;
import com.azure.resourcemanager.security.models.AutomationScope;
import com.azure.resourcemanager.security.models.AutomationSource;
import com.azure.resourcemanager.security.models.AutomationTriggeringRule;
import com.azure.resourcemanager.security.models.EventSource;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class AutomationPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AutomationProperties model = BinaryData.fromString(
            "{\"description\":\"hxgsrboldfor\",\"isEnabled\":true,\"scopes\":[{\"description\":\"izbfhfovvacq\",\"scopePath\":\"tuodxeszabbelaw\"},{\"description\":\"ua\",\"scopePath\":\"zkwrrwoyc\"}],\"sources\":[{\"eventSource\":\"RegulatoryComplianceAssessment\",\"ruleSets\":[{\"rules\":[{},{},{},{}]},{\"rules\":[{}]},{\"rules\":[{},{},{}]}]},{\"eventSource\":\"RegulatoryComplianceAssessmentSnapshot\",\"ruleSets\":[{\"rules\":[{},{},{},{}]}]}],\"actions\":[{\"actionType\":\"AutomationAction\"},{\"actionType\":\"AutomationAction\"}]}")
            .toObject(AutomationProperties.class);
        Assertions.assertEquals("hxgsrboldfor", model.description());
        Assertions.assertEquals(true, model.isEnabled());
        Assertions.assertEquals("izbfhfovvacq", model.scopes().get(0).description());
        Assertions.assertEquals("tuodxeszabbelaw", model.scopes().get(0).scopePath());
        Assertions.assertEquals(EventSource.REGULATORY_COMPLIANCE_ASSESSMENT, model.sources().get(0).eventSource());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AutomationProperties model
            = new AutomationProperties().withDescription("hxgsrboldfor")
                .withIsEnabled(true)
                .withScopes(Arrays.asList(
                    new AutomationScope().withDescription("izbfhfovvacq").withScopePath("tuodxeszabbelaw"),
                    new AutomationScope().withDescription("ua").withScopePath("zkwrrwoyc")))
                .withSources(Arrays.asList(
                    new AutomationSource().withEventSource(EventSource.REGULATORY_COMPLIANCE_ASSESSMENT)
                        .withRuleSets(Arrays.asList(
                            new AutomationRuleSet()
                                .withRules(Arrays.asList(new AutomationTriggeringRule(), new AutomationTriggeringRule(),
                                    new AutomationTriggeringRule(), new AutomationTriggeringRule())),
                            new AutomationRuleSet().withRules(Arrays.asList(new AutomationTriggeringRule())),
                            new AutomationRuleSet().withRules(Arrays.asList(new AutomationTriggeringRule(),
                                new AutomationTriggeringRule(), new AutomationTriggeringRule())))),
                    new AutomationSource().withEventSource(EventSource.REGULATORY_COMPLIANCE_ASSESSMENT_SNAPSHOT)
                        .withRuleSets(Arrays.asList(new AutomationRuleSet()
                            .withRules(Arrays.asList(new AutomationTriggeringRule(), new AutomationTriggeringRule(),
                                new AutomationTriggeringRule(), new AutomationTriggeringRule()))))))
                .withActions(Arrays.asList(new AutomationAction(), new AutomationAction()));
        model = BinaryData.fromObject(model).toObject(AutomationProperties.class);
        Assertions.assertEquals("hxgsrboldfor", model.description());
        Assertions.assertEquals(true, model.isEnabled());
        Assertions.assertEquals("izbfhfovvacq", model.scopes().get(0).description());
        Assertions.assertEquals("tuodxeszabbelaw", model.scopes().get(0).scopePath());
        Assertions.assertEquals(EventSource.REGULATORY_COMPLIANCE_ASSESSMENT, model.sources().get(0).eventSource());
    }
}
