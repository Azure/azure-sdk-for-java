// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.applicationinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.applicationinsights.models.ManagedServiceIdentityType;
import com.azure.resourcemanager.applicationinsights.models.UserAssignedIdentity;
import com.azure.resourcemanager.applicationinsights.models.WorkbookResource;
import com.azure.resourcemanager.applicationinsights.models.WorkbookResourceIdentity;
import com.azure.resourcemanager.applicationinsights.models.WorkbookSharedTypeKind;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class WorkbookResourceTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        WorkbookResource model = BinaryData.fromString(
            "{\"identity\":{\"principalId\":\"ffc3fd0a-b0ab-419a-b66c-a4f3599a248a\",\"tenantId\":\"c4ded780-aac6-4067-b0aa-2ed81a3a17f9\",\"type\":\"None\",\"userAssignedIdentities\":{\"tmmjihyeozph\":{\"principalId\":\"c353e8eb-a8ee-47f1-9558-5981fd99bf30\",\"clientId\":\"3d116020-6909-40fe-b79f-7c830e7bf74c\"},\"uyqncygupkvipmd\":{\"principalId\":\"a65e6d26-ff07-43c2-a66a-763f522c1db1\",\"clientId\":\"1884e2a7-250a-4de1-bf20-f7e4bddd7fc4\"},\"xqupevzhf\":{\"principalId\":\"8dd97920-f0ce-4ef9-86c2-a8d86a8ed1ed\",\"clientId\":\"78a2588c-f63d-4254-b7c3-c4c0d19ec431\"},\"txhojujb\":{\"principalId\":\"af289ddd-cb9f-4e84-aaab-8814469f73d6\",\"clientId\":\"8d61e937-ab1e-4726-b2db-71b33b74db26\"}}},\"kind\":\"shared\",\"etag\":\"mc\",\"location\":\"vhixbjxy\",\"tags\":{\"coolsttpkiwkkb\":\"yl\"},\"id\":\"ujrywvtyl\",\"name\":\"fpncurdo\",\"type\":\"wiithtywub\"}")
            .toObject(WorkbookResource.class);
        Assertions.assertEquals("vhixbjxy", model.location());
        Assertions.assertEquals("yl", model.tags().get("coolsttpkiwkkb"));
        Assertions.assertEquals(ManagedServiceIdentityType.NONE, model.identity().type());
        Assertions.assertEquals(WorkbookSharedTypeKind.SHARED, model.kind());
        Assertions.assertEquals("mc", model.etag());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        WorkbookResource model
            = new WorkbookResource().withLocation("vhixbjxy")
                .withTags(mapOf("coolsttpkiwkkb", "yl"))
                .withIdentity(
                    new WorkbookResourceIdentity().withType(ManagedServiceIdentityType.NONE)
                        .withUserAssignedIdentities(mapOf("tmmjihyeozph", new UserAssignedIdentity(), "uyqncygupkvipmd",
                            new UserAssignedIdentity(), "xqupevzhf", new UserAssignedIdentity(), "txhojujb",
                            new UserAssignedIdentity())))
                .withKind(WorkbookSharedTypeKind.SHARED)
                .withEtag("mc");
        model = BinaryData.fromObject(model).toObject(WorkbookResource.class);
        Assertions.assertEquals("vhixbjxy", model.location());
        Assertions.assertEquals("yl", model.tags().get("coolsttpkiwkkb"));
        Assertions.assertEquals(ManagedServiceIdentityType.NONE, model.identity().type());
        Assertions.assertEquals(WorkbookSharedTypeKind.SHARED, model.kind());
        Assertions.assertEquals("mc", model.etag());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
