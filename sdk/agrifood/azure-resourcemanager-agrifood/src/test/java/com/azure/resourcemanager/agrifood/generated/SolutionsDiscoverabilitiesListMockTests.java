// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.agrifood.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.agrifood.AgriFoodManager;
import com.azure.resourcemanager.agrifood.models.FarmBeatsSolution;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class SolutionsDiscoverabilitiesListMockTests {
    @Test
    public void testList() throws Exception {
        String responseStr
            = "{\"value\":[{\"properties\":{\"partnerId\":\"est\",\"partnerTenantId\":\"lx\",\"dataAccessScopes\":[\"lozapeewchpxlk\",\"wk\",\"ziycslevufuztck\",\"yhjtqedcgzu\"],\"marketplaceOfferDetails\":{\"saasOfferId\":\"mrqzzrrjvpgl\",\"publisherId\":\"zgkrvqe\"},\"inputParametersValidationScopes\":[{\"resourceIdName\":\"epr\",\"resourceType\":\"t\"},{\"resourceIdName\":\"ytp\",\"resourceType\":\"mov\"}],\"openApiSpecsDictionary\":{\"wzqa\":\"datava\",\"gzuriglaecxndt\":\"dataf\"},\"evaluatedOutputsDictionary\":{\"cdyuibhmfdnbzyd\":{\"insightResponse\":{\"farmerId\":\"vzm\",\"modelId\":\"t\",\"resourceType\":\"dgxobfircl\",\"resourceId\":\"kciayzri\",\"modelVersion\":\"hya\",\"insightStartDateTime\":\"2021-08-19T05:01:13Z\",\"insightEndDateTime\":\"2021-09-09T23:45:53Z\",\"measures\":{\"xqvkjlmxhomdyn\":{},\"dwdigumb\":{},\"raauzzpt\":{},\"a\":{}},\"id\":\"sdzhezww\",\"status\":\"iqyuvvfo\",\"createdDateTime\":\"2021-08-29T14:10:38Z\",\"modifiedDateTime\":\"2021-04-14T05:32:39Z\",\"eTag\":\"yik\",\"name\":\"lauyav\",\"description\":\"wmn\",\"properties\":{\"ekrsgs\":\"datatijfybvp\",\"huzqgn\":\"datab\",\"omtkub\":\"datadgkynscliqhzvhxn\",\"dxzxhi\":\"datatppn\"}},\"insightAttachmentResponse\":{\"insightId\":\"bbc\",\"modelId\":\"qagt\",\"resourceType\":\"dhlfkqojpykvgt\",\"resourceId\":\"cnifm\",\"fileLink\":\"sdymbrn\",\"originalFileName\":\"u\",\"farmerId\":\"prafwgckhoc\",\"id\":\"d\",\"status\":\"fwafqrouda\",\"createdDateTime\":\"2021-09-22T08:28:07Z\",\"modifiedDateTime\":\"2021-12-05T12:05:01Z\",\"name\":\"hrv\",\"description\":\"unzo\",\"eTag\":\"dhcxgkmoy\"}},\"y\":{\"insightResponse\":{\"farmerId\":\"fcjnaeoisrvhmgor\",\"modelId\":\"ukiscvwmzhw\",\"resourceType\":\"efaxvxilc\",\"resourceId\":\"gnhnzeyq\",\"modelVersion\":\"jjfzqlqhycavo\",\"insightStartDateTime\":\"2021-06-13T00:01:12Z\",\"insightEndDateTime\":\"2021-10-09T12:05:19Z\",\"measures\":{\"esmi\":{}},\"id\":\"nlrariaawiuagy\",\"status\":\"qfby\",\"createdDateTime\":\"2021-08-13T07:35:36Z\",\"modifiedDateTime\":\"2021-11-07T20:33:57Z\",\"eTag\":\"agt\",\"name\":\"jocqwogfnzjvusf\",\"description\":\"dmozu\",\"properties\":{\"ysownbtgkbug\":\"datafsbtkad\",\"pe\":\"datajqctojcmisofie\",\"hihihlhzdsqtzbsr\":\"dataojyqdhcuplcplcw\",\"hfgmvecactxm\":\"datanowc\"}},\"insightAttachmentResponse\":{\"insightId\":\"e\",\"modelId\":\"wcluqovekqvgq\",\"resourceType\":\"wifzmp\",\"resourceId\":\"yivqikfxcvhrfsp\",\"fileLink\":\"agr\",\"originalFileName\":\"ikteusqczkvyk\",\"farmerId\":\"ubyjaffmmf\",\"id\":\"cqc\",\"status\":\"bgq\",\"createdDateTime\":\"2021-03-05T16:25:57Z\",\"modifiedDateTime\":\"2021-03-09T09:52:03Z\",\"name\":\"metttwgd\",\"description\":\"qxihhrmooi\",\"eTag\":\"seypxiutcxapz\"}}},\"accessFBApplicationId\":\"61a3f634-63ca-4c75-8825-ece94917d699\",\"saaSApplicationId\":\"2a16c065-b10f-4678-9136-a08ff55e78cd\",\"actionIds\":[\"g\"],\"roleId\":\"joxslhvnhla\",\"roleName\":\"q\",\"accessFBApplicationName\":\"kzjcjbtrgae\"},\"id\":\"vibr\",\"name\":\"jj\",\"type\":\"toqbeitpkxztmoob\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        AgriFoodManager manager = AgriFoodManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        PagedIterable<FarmBeatsSolution> response = manager.solutionsDiscoverabilities()
            .list(Arrays.asList("rkjpvdwxfzwii", "wzjbh"), Arrays.asList("sxjrk", "mbtrnegvmnvu", "eqvldspast", "bkkd"),
                1749479057, com.azure.core.util.Context.NONE);

        Assertions.assertEquals("mrqzzrrjvpgl",
            response.iterator().next().properties().marketplaceOfferDetails().saasOfferId());
        Assertions.assertEquals("zgkrvqe",
            response.iterator().next().properties().marketplaceOfferDetails().publisherId());
    }
}
