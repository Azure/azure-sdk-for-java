// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appcontainers.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appcontainers.fluent.models.ReplicaInner;
import com.azure.resourcemanager.appcontainers.models.ReplicaContainer;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class ReplicaInnerTests {
    @Test
    public void testDeserialize() {
        ReplicaInner model =
            BinaryData
                .fromString(
                    "{\"properties\":{\"createdTime\":\"2021-03-31T08:41:02Z\",\"containers\":[{\"name\":\"nkhtjsyingw\",\"containerId\":\"atmtdhtmdvy\",\"ready\":true,\"started\":true,\"restartCount\":624157964,\"logStreamEndpoint\":\"ywkbirryuzhlhkjo\",\"execEndpoint\":\"vqqaatjinrvgo\"},{\"name\":\"mfiibfggj\",\"containerId\":\"olvrw\",\"ready\":false,\"started\":false,\"restartCount\":1621053169,\"logStreamEndpoint\":\"lqwjygvjayvblm\",\"execEndpoint\":\"k\"}]},\"id\":\"hbxvvyhgsopbyrqu\",\"name\":\"egxuvwzf\",\"type\":\"nhlmctlpdng\"}")
                .toObject(ReplicaInner.class);
        Assertions.assertEquals("nkhtjsyingw", model.containers().get(0).name());
        Assertions.assertEquals("atmtdhtmdvy", model.containers().get(0).containerId());
        Assertions.assertEquals(true, model.containers().get(0).ready());
        Assertions.assertEquals(true, model.containers().get(0).started());
        Assertions.assertEquals(624157964, model.containers().get(0).restartCount());
    }

    @Test
    public void testSerialize() {
        ReplicaInner model =
            new ReplicaInner()
                .withContainers(
                    Arrays
                        .asList(
                            new ReplicaContainer()
                                .withName("nkhtjsyingw")
                                .withContainerId("atmtdhtmdvy")
                                .withReady(true)
                                .withStarted(true)
                                .withRestartCount(624157964),
                            new ReplicaContainer()
                                .withName("mfiibfggj")
                                .withContainerId("olvrw")
                                .withReady(false)
                                .withStarted(false)
                                .withRestartCount(1621053169)));
        model = BinaryData.fromObject(model).toObject(ReplicaInner.class);
        Assertions.assertEquals("nkhtjsyingw", model.containers().get(0).name());
        Assertions.assertEquals("atmtdhtmdvy", model.containers().get(0).containerId());
        Assertions.assertEquals(true, model.containers().get(0).ready());
        Assertions.assertEquals(true, model.containers().get(0).started());
        Assertions.assertEquals(624157964, model.containers().get(0).restartCount());
    }
}
