// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appcontainers.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appcontainers.fluent.models.ContainerAppsPatchResourceInner;
import com.azure.resourcemanager.appcontainers.models.PatchCollection;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class PatchCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        PatchCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"targetEnvironmentId\":\"is\",\"targetContainerAppId\":\"w\",\"targetRevisionId\":\"hwplefaxvx\",\"patchApplyStatus\":\"Succeeded\",\"createdAt\":\"2021-10-23T15:17:09Z\",\"lastModifiedAt\":\"2021-07-08T19:53:14Z\",\"patchDetails\":[{\"targetContainerName\":\"zeyqxtjjfzqlqhyc\",\"targetImage\":\"vodggxdbee\",\"lastDetectionTime\":\"2021-01-10T06:37:58Z\",\"detectionStatus\":\"Failed\",\"newImageName\":\"knlrariaawiuagy\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"FrameworkAndOSSecurity\"},{\"targetContainerName\":\"ylyrfgiagtco\",\"targetImage\":\"ocqwogfnzjvus\",\"lastDetectionTime\":\"2021-06-09T04:39:41Z\",\"detectionStatus\":\"Succeeded\",\"newImageName\":\"mozuxylfsb\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"OSSecurity\"},{\"targetContainerName\":\"ysownbtgkbug\",\"targetImage\":\"jqctojcmisofie\",\"lastDetectionTime\":\"2021-03-06T19:28:26Z\",\"detectionStatus\":\"Succeeded\",\"newImageName\":\"ojyqdhcuplcplcw\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"FrameworkAndOSSecurity\"}]},\"id\":\"lhzdsqtzb\",\"name\":\"rgnowcjhfgm\",\"type\":\"ecactx\"},{\"properties\":{\"targetEnvironmentId\":\"teyowclu\",\"targetContainerAppId\":\"vekqvgqo\",\"targetRevisionId\":\"ifzmpjwyivqi\",\"patchApplyStatus\":\"RebaseInProgress\",\"createdAt\":\"2021-05-10T21:47:58Z\",\"lastModifiedAt\":\"2021-06-21T15:40:21Z\",\"patchDetails\":[{\"targetContainerName\":\"phuagrttikteusq\",\"targetImage\":\"zkvyklx\",\"lastDetectionTime\":\"2021-04-15T18:56:28Z\",\"detectionStatus\":\"RegistryLoginFailed\",\"newImageName\":\"affmmfblcqc\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"FrameworkAndOSSecurity\"},{\"targetContainerName\":\"ibrta\",\"targetImage\":\"metttwgd\",\"lastDetectionTime\":\"2021-03-28T07:37:54Z\",\"detectionStatus\":\"Failed\",\"newImageName\":\"ihhrmo\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"Other\"},{\"targetContainerName\":\"eypxiutcxapzhyr\",\"targetImage\":\"etoge\",\"lastDetectionTime\":\"2021-07-23T00:05:49Z\",\"detectionStatus\":\"Succeeded\",\"newImageName\":\"slhvnhlab\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"FrameworkAndOSSecurity\"},{\"targetContainerName\":\"zjcjbtr\",\"targetImage\":\"aehvvibrxjjstoq\",\"lastDetectionTime\":\"2021-08-31T22:29:59Z\",\"detectionStatus\":\"Failed\",\"newImageName\":\"pkxztmoobkl\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"Other\"}]},\"id\":\"cwq\",\"name\":\"pimaqxzhemjyh\",\"type\":\"hujswtwkozzwcul\"},{\"properties\":{\"targetEnvironmentId\":\"wpfaj\",\"targetContainerAppId\":\"wltlwtjjguktalh\",\"targetRevisionId\":\"vkcdmxzr\",\"patchApplyStatus\":\"RevisionCreationFailed\",\"createdAt\":\"2021-09-15T13:37:06Z\",\"lastModifiedAt\":\"2021-04-25T21:44:27Z\",\"patchDetails\":[{\"targetContainerName\":\"aaomylweazu\",\"targetImage\":\"cse\",\"lastDetectionTime\":\"2021-05-30T11:51:47Z\",\"detectionStatus\":\"Succeeded\",\"newImageName\":\"npjhlfzswpchwahf\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"OSSecurity\"},{\"targetContainerName\":\"fepgfew\",\"targetImage\":\"twly\",\"lastDetectionTime\":\"2021-01-13T00:28:43Z\",\"detectionStatus\":\"Failed\",\"newImageName\":\"xykxhdj\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"FrameworkAndOSSecurity\"},{\"targetContainerName\":\"bcxf\",\"targetImage\":\"bcporxvxcjzhqizx\",\"lastDetectionTime\":\"2021-02-06T15:19:15Z\",\"detectionStatus\":\"RegistryLoginFailed\",\"newImageName\":\"gqscj\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"Other\"},{\"targetContainerName\":\"uhdqazk\",\"targetImage\":\"tgguwpijrajcivmm\",\"lastDetectionTime\":\"2021-05-22T22:25:38Z\",\"detectionStatus\":\"Failed\",\"newImageName\":\"fiwrxgkn\",\"newLayer\":{},\"oldLayer\":{},\"patchType\":\"FrameworkAndOSSecurity\"}]},\"id\":\"zqodfvpgshox\",\"name\":\"sgbpfgzdjtx\",\"type\":\"zflbqvg\"}],\"nextLink\":\"vl\"}")
            .toObject(PatchCollection.class);
        Assertions.assertEquals("vl", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        PatchCollection model = new PatchCollection().withValue(Arrays.asList(new ContainerAppsPatchResourceInner(),
            new ContainerAppsPatchResourceInner(), new ContainerAppsPatchResourceInner())).withNextLink("vl");
        model = BinaryData.fromObject(model).toObject(PatchCollection.class);
        Assertions.assertEquals("vl", model.nextLink());
    }
}
