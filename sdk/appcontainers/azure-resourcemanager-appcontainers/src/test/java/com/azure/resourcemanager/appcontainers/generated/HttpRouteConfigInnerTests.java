// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appcontainers.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appcontainers.fluent.models.HttpRouteConfigInner;
import com.azure.resourcemanager.appcontainers.models.BindingType;
import com.azure.resourcemanager.appcontainers.models.CustomDomain;
import com.azure.resourcemanager.appcontainers.models.HttpRoute;
import com.azure.resourcemanager.appcontainers.models.HttpRouteAction;
import com.azure.resourcemanager.appcontainers.models.HttpRouteConfigProperties;
import com.azure.resourcemanager.appcontainers.models.HttpRouteMatch;
import com.azure.resourcemanager.appcontainers.models.HttpRouteRule;
import com.azure.resourcemanager.appcontainers.models.HttpRouteTarget;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class HttpRouteConfigInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        HttpRouteConfigInner model = BinaryData.fromString(
            "{\"properties\":{\"provisioningState\":\"Failed\",\"provisioningErrors\":[{\"timestamp\":\"2021-02-06T22:47:44Z\",\"message\":\"isczskoswo\"}],\"fqdn\":\"qazu\",\"customDomains\":[{\"name\":\"xzkrrcoi\",\"bindingType\":\"Disabled\",\"certificateId\":\"mnppccekuztd\"},{\"name\":\"bezaxyfukzxuiz\",\"bindingType\":\"Auto\",\"certificateId\":\"epkpe\"}],\"rules\":[{\"targets\":[{\"containerApp\":\"qiubxdukecpxda\",\"revision\":\"dhctmmko\",\"label\":\"udblnsntrp\",\"weight\":823892785},{\"containerApp\":\"kiofkbt\",\"revision\":\"hklbnldpvcbh\",\"label\":\"zyqu\",\"weight\":1363935913},{\"containerApp\":\"qxutrpbrruyuua\",\"revision\":\"lmbjwcolbmxlbnw\",\"label\":\"cpahprzrvxhm\",\"weight\":825654866},{\"containerApp\":\"ocnxz\",\"revision\":\"jhngxnoq\",\"label\":\"tdisnjevhdlmyd\",\"weight\":1625170254}],\"routes\":[{\"match\":{},\"action\":{}},{\"match\":{},\"action\":{}}],\"description\":\"jfdoesxxhm\"},{\"targets\":[{\"containerApp\":\"bckyoikxk\",\"revision\":\"negknjzrb\",\"label\":\"me\",\"weight\":1365496443},{\"containerApp\":\"ukaobrlbpgsnbag\",\"revision\":\"hjhgem\",\"label\":\"wakywalhjymxcgq\",\"weight\":318375489}],\"routes\":[{\"match\":{},\"action\":{}},{\"match\":{},\"action\":{}}],\"description\":\"ljomevt\"}]},\"id\":\"cnlbv\",\"name\":\"jcodkkgjiiytssi\",\"type\":\"izbcufqbvntnr\"}")
            .toObject(HttpRouteConfigInner.class);
        Assertions.assertEquals("xzkrrcoi", model.properties().customDomains().get(0).name());
        Assertions.assertEquals(BindingType.DISABLED, model.properties().customDomains().get(0).bindingType());
        Assertions.assertEquals("mnppccekuztd", model.properties().customDomains().get(0).certificateId());
        Assertions.assertEquals("qiubxdukecpxda", model.properties().rules().get(0).targets().get(0).containerApp());
        Assertions.assertEquals("dhctmmko", model.properties().rules().get(0).targets().get(0).revision());
        Assertions.assertEquals("udblnsntrp", model.properties().rules().get(0).targets().get(0).label());
        Assertions.assertEquals(823892785, model.properties().rules().get(0).targets().get(0).weight());
        Assertions.assertEquals("jfdoesxxhm", model.properties().rules().get(0).description());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        HttpRouteConfigInner model = new HttpRouteConfigInner().withProperties(new HttpRouteConfigProperties()
            .withCustomDomains(Arrays.asList(
                new CustomDomain().withName("xzkrrcoi")
                    .withBindingType(BindingType.DISABLED)
                    .withCertificateId("mnppccekuztd"),
                new CustomDomain().withName("bezaxyfukzxuiz")
                    .withBindingType(BindingType.AUTO)
                    .withCertificateId("epkpe")))
            .withRules(Arrays.asList(
                new HttpRouteRule()
                    .withTargets(Arrays.asList(
                        new HttpRouteTarget().withContainerApp("qiubxdukecpxda")
                            .withRevision("dhctmmko")
                            .withLabel("udblnsntrp")
                            .withWeight(823892785),
                        new HttpRouteTarget().withContainerApp("kiofkbt")
                            .withRevision("hklbnldpvcbh")
                            .withLabel("zyqu")
                            .withWeight(1363935913),
                        new HttpRouteTarget().withContainerApp("qxutrpbrruyuua")
                            .withRevision("lmbjwcolbmxlbnw")
                            .withLabel("cpahprzrvxhm")
                            .withWeight(825654866),
                        new HttpRouteTarget().withContainerApp("ocnxz")
                            .withRevision("jhngxnoq")
                            .withLabel("tdisnjevhdlmyd")
                            .withWeight(1625170254)))
                    .withRoutes(
                        Arrays.asList(new HttpRoute().withMatch(new HttpRouteMatch()).withAction(new HttpRouteAction()),
                            new HttpRoute().withMatch(new HttpRouteMatch()).withAction(new HttpRouteAction())))
                    .withDescription("jfdoesxxhm"),
                new HttpRouteRule()
                    .withTargets(Arrays.asList(
                        new HttpRouteTarget().withContainerApp("bckyoikxk")
                            .withRevision("negknjzrb")
                            .withLabel("me")
                            .withWeight(1365496443),
                        new HttpRouteTarget().withContainerApp("ukaobrlbpgsnbag")
                            .withRevision("hjhgem")
                            .withLabel("wakywalhjymxcgq")
                            .withWeight(318375489)))
                    .withRoutes(
                        Arrays.asList(new HttpRoute().withMatch(new HttpRouteMatch()).withAction(new HttpRouteAction()),
                            new HttpRoute().withMatch(new HttpRouteMatch()).withAction(new HttpRouteAction())))
                    .withDescription("ljomevt"))));
        model = BinaryData.fromObject(model).toObject(HttpRouteConfigInner.class);
        Assertions.assertEquals("xzkrrcoi", model.properties().customDomains().get(0).name());
        Assertions.assertEquals(BindingType.DISABLED, model.properties().customDomains().get(0).bindingType());
        Assertions.assertEquals("mnppccekuztd", model.properties().customDomains().get(0).certificateId());
        Assertions.assertEquals("qiubxdukecpxda", model.properties().rules().get(0).targets().get(0).containerApp());
        Assertions.assertEquals("dhctmmko", model.properties().rules().get(0).targets().get(0).revision());
        Assertions.assertEquals("udblnsntrp", model.properties().rules().get(0).targets().get(0).label());
        Assertions.assertEquals(823892785, model.properties().rules().get(0).targets().get(0).weight());
        Assertions.assertEquals("jfdoesxxhm", model.properties().rules().get(0).description());
    }
}
