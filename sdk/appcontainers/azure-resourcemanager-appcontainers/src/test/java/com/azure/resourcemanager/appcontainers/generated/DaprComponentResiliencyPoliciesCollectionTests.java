// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appcontainers.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appcontainers.fluent.models.DaprComponentResiliencyPolicyInner;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPoliciesCollection;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyTimeoutPolicyConfiguration;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class DaprComponentResiliencyPoliciesCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DaprComponentResiliencyPoliciesCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":1701983547,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":1998431294},\"circuitBreakerPolicy\":{\"consecutiveErrors\":672713653,\"timeoutInSeconds\":1300202975,\"intervalInSeconds\":64736512}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":499319607,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":972204015},\"circuitBreakerPolicy\":{\"consecutiveErrors\":1265182150,\"timeoutInSeconds\":112594464,\"intervalInSeconds\":9633412}}},\"id\":\"kkhminqcymczngn\",\"name\":\"dxxewuninv\",\"type\":\"db\"},{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":709462942,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":1900039321},\"circuitBreakerPolicy\":{\"consecutiveErrors\":313351461,\"timeoutInSeconds\":720636191,\"intervalInSeconds\":1857605955}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":217232947,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":485950763},\"circuitBreakerPolicy\":{\"consecutiveErrors\":334709748,\"timeoutInSeconds\":297911426,\"intervalInSeconds\":1148214254}}},\"id\":\"napxbannovv\",\"name\":\"xc\",\"type\":\"ytprwnwvroev\"},{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":1307302388,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":67510907},\"circuitBreakerPolicy\":{\"consecutiveErrors\":491107905,\"timeoutInSeconds\":725083050,\"intervalInSeconds\":1312539760}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":810647712,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":1031456845},\"circuitBreakerPolicy\":{\"consecutiveErrors\":1458275962,\"timeoutInSeconds\":952405971,\"intervalInSeconds\":1220621790}}},\"id\":\"d\",\"name\":\"nazpmk\",\"type\":\"lmv\"},{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":343155487,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":1939182119},\"circuitBreakerPolicy\":{\"consecutiveErrors\":1553253878,\"timeoutInSeconds\":1749137224,\"intervalInSeconds\":1704256415}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":632448787,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":1848154538},\"circuitBreakerPolicy\":{\"consecutiveErrors\":530417864,\"timeoutInSeconds\":540353819,\"intervalInSeconds\":796010051}}},\"id\":\"zqcyknap\",\"name\":\"ofyuicd\",\"type\":\"zb\"}],\"nextLink\":\"bwwg\"}")
            .toObject(DaprComponentResiliencyPoliciesCollection.class);
        Assertions.assertEquals(1701983547, model.value().get(0).inboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(1998431294,
            model.value().get(0).inboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(672713653,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(1300202975,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(64736512,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().intervalInSeconds());
        Assertions.assertEquals(499319607, model.value().get(0).outboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(972204015,
            model.value().get(0).outboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(1265182150,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(112594464,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(9633412,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().intervalInSeconds());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DaprComponentResiliencyPoliciesCollection model
            = new DaprComponentResiliencyPoliciesCollection().withValue(Arrays.asList(
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(1701983547)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(1998431294))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(672713653).withTimeoutInSeconds(1300202975)
                            .withIntervalInSeconds(64736512)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(499319607)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(972204015))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(1265182150).withTimeoutInSeconds(112594464)
                            .withIntervalInSeconds(9633412))),
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(709462942)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(1900039321))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(313351461).withTimeoutInSeconds(720636191)
                            .withIntervalInSeconds(1857605955)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(217232947)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(485950763))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(334709748).withTimeoutInSeconds(297911426)
                            .withIntervalInSeconds(1148214254))),
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(1307302388)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(67510907))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(491107905).withTimeoutInSeconds(725083050)
                            .withIntervalInSeconds(1312539760)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(810647712)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(1031456845))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(1458275962).withTimeoutInSeconds(952405971)
                            .withIntervalInSeconds(1220621790))),
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(343155487)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(1939182119))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(1553253878).withTimeoutInSeconds(1749137224)
                            .withIntervalInSeconds(1704256415)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(632448787)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(1848154538))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(530417864).withTimeoutInSeconds(540353819)
                            .withIntervalInSeconds(796010051)))));
        model = BinaryData.fromObject(model).toObject(DaprComponentResiliencyPoliciesCollection.class);
        Assertions.assertEquals(1701983547, model.value().get(0).inboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(1998431294,
            model.value().get(0).inboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(672713653,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(1300202975,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(64736512,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().intervalInSeconds());
        Assertions.assertEquals(499319607, model.value().get(0).outboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(972204015,
            model.value().get(0).outboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(1265182150,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(112594464,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(9633412,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().intervalInSeconds());
    }
}
