// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.appcontainers.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appcontainers.fluent.models.DaprComponentResiliencyPolicyInner;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPoliciesCollection;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration;
import com.azure.resourcemanager.appcontainers.models.DaprComponentResiliencyPolicyTimeoutPolicyConfiguration;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class DaprComponentResiliencyPoliciesCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DaprComponentResiliencyPoliciesCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":954093565,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":358184629},\"circuitBreakerPolicy\":{\"consecutiveErrors\":1657048191,\"timeoutInSeconds\":1990009612,\"intervalInSeconds\":1262406750}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":387452116,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":337524903},\"circuitBreakerPolicy\":{\"consecutiveErrors\":69276214,\"timeoutInSeconds\":67737671,\"intervalInSeconds\":359262521}}},\"id\":\"txjeaoqaqbzgy\",\"name\":\"fwwvuatbwbqam\",\"type\":\"e\"},{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":1350146316,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":501482624},\"circuitBreakerPolicy\":{\"consecutiveErrors\":262641645,\"timeoutInSeconds\":611897572,\"intervalInSeconds\":476641770}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":838501376,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":1597297681},\"circuitBreakerPolicy\":{\"consecutiveErrors\":56515349,\"timeoutInSeconds\":1395383808,\"intervalInSeconds\":903038556}}},\"id\":\"jqpkzfbo\",\"name\":\"xjmcsmyqwixvcpw\",\"type\":\"kwywzwofalic\"},{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":1132684897,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":19893613},\"circuitBreakerPolicy\":{\"consecutiveErrors\":1704599538,\"timeoutInSeconds\":384634481,\"intervalInSeconds\":1963500650}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":722570524,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":361072412},\"circuitBreakerPolicy\":{\"consecutiveErrors\":1725933235,\"timeoutInSeconds\":1134702687,\"intervalInSeconds\":268521669}}},\"id\":\"vhycvdimwrzregzg\",\"name\":\"ufutrwpw\",\"type\":\"ryekzkd\"},{\"properties\":{\"inboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":2109186807,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":585155395},\"circuitBreakerPolicy\":{\"consecutiveErrors\":1538790173,\"timeoutInSeconds\":2090687916,\"intervalInSeconds\":1110760886}},\"outboundPolicy\":{\"httpRetryPolicy\":{\"maxRetries\":336681371,\"retryBackOff\":{}},\"timeoutPolicy\":{\"responseTimeoutInSeconds\":1921386454},\"circuitBreakerPolicy\":{\"consecutiveErrors\":14336788,\"timeoutInSeconds\":408225634,\"intervalInSeconds\":1770372323}}},\"id\":\"ynudqllzsa\",\"name\":\"zp\",\"type\":\"lxeehuxiq\"}],\"nextLink\":\"lraymezxlskih\"}")
            .toObject(DaprComponentResiliencyPoliciesCollection.class);
        Assertions.assertEquals(954093565, model.value().get(0).inboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(358184629,
            model.value().get(0).inboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(1657048191,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(1990009612,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(1262406750,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().intervalInSeconds());
        Assertions.assertEquals(387452116, model.value().get(0).outboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(337524903,
            model.value().get(0).outboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(69276214,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(67737671,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(359262521,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().intervalInSeconds());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DaprComponentResiliencyPoliciesCollection model
            = new DaprComponentResiliencyPoliciesCollection().withValue(Arrays.asList(
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(954093565)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(358184629))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(1657048191)
                            .withTimeoutInSeconds(1990009612)
                            .withIntervalInSeconds(1262406750)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(387452116)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(337524903))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(69276214)
                            .withTimeoutInSeconds(67737671)
                            .withIntervalInSeconds(359262521))),
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(1350146316)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(501482624))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(262641645)
                            .withTimeoutInSeconds(611897572)
                            .withIntervalInSeconds(476641770)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(838501376)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(1597297681))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(56515349)
                            .withTimeoutInSeconds(1395383808)
                            .withIntervalInSeconds(903038556))),
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(1132684897)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(19893613))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(1704599538)
                            .withTimeoutInSeconds(384634481)
                            .withIntervalInSeconds(1963500650)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(722570524)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(361072412))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(1725933235)
                            .withTimeoutInSeconds(1134702687)
                            .withIntervalInSeconds(268521669))),
                new DaprComponentResiliencyPolicyInner()
                    .withInboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(2109186807)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(585155395))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(1538790173)
                            .withTimeoutInSeconds(2090687916)
                            .withIntervalInSeconds(1110760886)))
                    .withOutboundPolicy(new DaprComponentResiliencyPolicyConfiguration()
                        .withHttpRetryPolicy(
                            new DaprComponentResiliencyPolicyHttpRetryPolicyConfiguration().withMaxRetries(336681371)
                                .withRetryBackOff(new DaprComponentResiliencyPolicyHttpRetryBackOffConfiguration()))
                        .withTimeoutPolicy(new DaprComponentResiliencyPolicyTimeoutPolicyConfiguration()
                            .withResponseTimeoutInSeconds(1921386454))
                        .withCircuitBreakerPolicy(new DaprComponentResiliencyPolicyCircuitBreakerPolicyConfiguration()
                            .withConsecutiveErrors(14336788)
                            .withTimeoutInSeconds(408225634)
                            .withIntervalInSeconds(1770372323)))));
        model = BinaryData.fromObject(model).toObject(DaprComponentResiliencyPoliciesCollection.class);
        Assertions.assertEquals(954093565, model.value().get(0).inboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(358184629,
            model.value().get(0).inboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(1657048191,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(1990009612,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(1262406750,
            model.value().get(0).inboundPolicy().circuitBreakerPolicy().intervalInSeconds());
        Assertions.assertEquals(387452116, model.value().get(0).outboundPolicy().httpRetryPolicy().maxRetries());
        Assertions.assertEquals(337524903,
            model.value().get(0).outboundPolicy().timeoutPolicy().responseTimeoutInSeconds());
        Assertions.assertEquals(69276214,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().consecutiveErrors());
        Assertions.assertEquals(67737671,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().timeoutInSeconds());
        Assertions.assertEquals(359262521,
            model.value().get(0).outboundPolicy().circuitBreakerPolicy().intervalInSeconds());
    }
}
