// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.netapp.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.netapp.models.ElasticExportPolicy;
import com.azure.resourcemanager.netapp.models.ElasticExportPolicyRule;
import com.azure.resourcemanager.netapp.models.ElasticNfsv3Access;
import com.azure.resourcemanager.netapp.models.ElasticNfsv4Access;
import com.azure.resourcemanager.netapp.models.ElasticProtocolType;
import com.azure.resourcemanager.netapp.models.ElasticRootAccess;
import com.azure.resourcemanager.netapp.models.ElasticSmbEncryption;
import com.azure.resourcemanager.netapp.models.ElasticSmbProperties;
import com.azure.resourcemanager.netapp.models.ElasticUnixAccessRule;
import com.azure.resourcemanager.netapp.models.ElasticVolumeBackupProperties;
import com.azure.resourcemanager.netapp.models.ElasticVolumeDataProtectionProperties;
import com.azure.resourcemanager.netapp.models.ElasticVolumePolicyEnforcement;
import com.azure.resourcemanager.netapp.models.ElasticVolumeProperties;
import com.azure.resourcemanager.netapp.models.ElasticVolumeSnapshotProperties;
import com.azure.resourcemanager.netapp.models.SnapshotDirectoryVisibility;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ElasticVolumePropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ElasticVolumeProperties model = BinaryData.fromString(
            "{\"filePath\":\"wpfaj\",\"size\":2813139304371547019,\"exportPolicy\":{\"rules\":[{\"ruleIndex\":1722549420,\"unixAccessRule\":\"ReadOnly\",\"nfsv3\":\"Disabled\",\"nfsv4\":\"Disabled\",\"allowedClients\":[\"hsnvkcdmxzrp\",\"aimlnwiaaom\",\"l\"],\"rootAccess\":\"Enabled\"},{\"ruleIndex\":835106090,\"unixAccessRule\":\"ReadWrite\",\"nfsv3\":\"Disabled\",\"nfsv4\":\"Enabled\",\"allowedClients\":[\"npjhlfzswpchwahf\",\"ousnfepgfewe\",\"wlyxgncxyk\",\"hdjhlimmbcx\"],\"rootAccess\":\"Disabled\"},{\"ruleIndex\":331049008,\"unixAccessRule\":\"NoAccess\",\"nfsv3\":\"Disabled\",\"nfsv4\":\"Enabled\",\"allowedClients\":[\"hqizxfpxtgqscj\",\"vftjuhd\"],\"rootAccess\":\"Disabled\"}]},\"protocolTypes\":[\"NFSv4\"],\"provisioningState\":\"Accepted\",\"availabilityStatus\":\"Online\",\"snapshotResourceId\":\"pijrajcivmmghf\",\"mountTargets\":[{\"ipAddress\":\"rxgkne\",\"smbServerFqdn\":\"yinzqodfvpgs\"},{\"ipAddress\":\"xgsg\",\"smbServerFqdn\":\"fgzdjtxvz\"}],\"dataProtection\":{\"snapshot\":{\"snapshotPolicyResourceId\":\"v\"},\"backup\":{\"elasticBackupPolicyResourceId\":\"vl\",\"policyEnforcement\":\"Enforced\",\"elasticBackupVaultResourceId\":\"qusrdvetnws\"}},\"snapshotDirectoryVisibility\":\"Hidden\",\"smbProperties\":{\"smbEncryption\":\"Enabled\"},\"backupResourceId\":\"duy\",\"restorationState\":\"Restoring\"}")
            .toObject(ElasticVolumeProperties.class);
        Assertions.assertEquals("wpfaj", model.filePath());
        Assertions.assertEquals(2813139304371547019L, model.size());
        Assertions.assertEquals(1722549420, model.exportPolicy().rules().get(0).ruleIndex());
        Assertions.assertEquals(ElasticUnixAccessRule.READ_ONLY, model.exportPolicy().rules().get(0).unixAccessRule());
        Assertions.assertEquals(ElasticNfsv3Access.DISABLED, model.exportPolicy().rules().get(0).nfsv3());
        Assertions.assertEquals(ElasticNfsv4Access.DISABLED, model.exportPolicy().rules().get(0).nfsv4());
        Assertions.assertEquals("hsnvkcdmxzrp", model.exportPolicy().rules().get(0).allowedClients().get(0));
        Assertions.assertEquals(ElasticRootAccess.ENABLED, model.exportPolicy().rules().get(0).rootAccess());
        Assertions.assertEquals(ElasticProtocolType.NFSV4, model.protocolTypes().get(0));
        Assertions.assertEquals("pijrajcivmmghf", model.snapshotResourceId());
        Assertions.assertEquals("v", model.dataProtection().snapshot().snapshotPolicyResourceId());
        Assertions.assertEquals("vl", model.dataProtection().backup().elasticBackupPolicyResourceId());
        Assertions.assertEquals(ElasticVolumePolicyEnforcement.ENFORCED,
            model.dataProtection().backup().policyEnforcement());
        Assertions.assertEquals("qusrdvetnws", model.dataProtection().backup().elasticBackupVaultResourceId());
        Assertions.assertEquals(SnapshotDirectoryVisibility.HIDDEN, model.snapshotDirectoryVisibility());
        Assertions.assertEquals(ElasticSmbEncryption.ENABLED, model.smbProperties().smbEncryption());
        Assertions.assertEquals("duy", model.backupResourceId());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ElasticVolumeProperties model = new ElasticVolumeProperties().withFilePath("wpfaj")
            .withSize(2813139304371547019L)
            .withExportPolicy(new ElasticExportPolicy().withRules(Arrays.asList(
                new ElasticExportPolicyRule().withRuleIndex(1722549420)
                    .withUnixAccessRule(ElasticUnixAccessRule.READ_ONLY)
                    .withNfsv3(ElasticNfsv3Access.DISABLED)
                    .withNfsv4(ElasticNfsv4Access.DISABLED)
                    .withAllowedClients(Arrays.asList("hsnvkcdmxzrp", "aimlnwiaaom", "l"))
                    .withRootAccess(ElasticRootAccess.ENABLED),
                new ElasticExportPolicyRule().withRuleIndex(835106090)
                    .withUnixAccessRule(ElasticUnixAccessRule.READ_WRITE)
                    .withNfsv3(ElasticNfsv3Access.DISABLED)
                    .withNfsv4(ElasticNfsv4Access.ENABLED)
                    .withAllowedClients(Arrays.asList("npjhlfzswpchwahf", "ousnfepgfewe", "wlyxgncxyk", "hdjhlimmbcx"))
                    .withRootAccess(ElasticRootAccess.DISABLED),
                new ElasticExportPolicyRule().withRuleIndex(331049008)
                    .withUnixAccessRule(ElasticUnixAccessRule.NO_ACCESS)
                    .withNfsv3(ElasticNfsv3Access.DISABLED)
                    .withNfsv4(ElasticNfsv4Access.ENABLED)
                    .withAllowedClients(Arrays.asList("hqizxfpxtgqscj", "vftjuhd"))
                    .withRootAccess(ElasticRootAccess.DISABLED))))
            .withProtocolTypes(Arrays.asList(ElasticProtocolType.NFSV4))
            .withSnapshotResourceId("pijrajcivmmghf")
            .withDataProtection(new ElasticVolumeDataProtectionProperties()
                .withSnapshot(new ElasticVolumeSnapshotProperties().withSnapshotPolicyResourceId("v"))
                .withBackup(new ElasticVolumeBackupProperties().withElasticBackupPolicyResourceId("vl")
                    .withPolicyEnforcement(ElasticVolumePolicyEnforcement.ENFORCED)
                    .withElasticBackupVaultResourceId("qusrdvetnws")))
            .withSnapshotDirectoryVisibility(SnapshotDirectoryVisibility.HIDDEN)
            .withSmbProperties(new ElasticSmbProperties().withSmbEncryption(ElasticSmbEncryption.ENABLED))
            .withBackupResourceId("duy");
        model = BinaryData.fromObject(model).toObject(ElasticVolumeProperties.class);
        Assertions.assertEquals("wpfaj", model.filePath());
        Assertions.assertEquals(2813139304371547019L, model.size());
        Assertions.assertEquals(1722549420, model.exportPolicy().rules().get(0).ruleIndex());
        Assertions.assertEquals(ElasticUnixAccessRule.READ_ONLY, model.exportPolicy().rules().get(0).unixAccessRule());
        Assertions.assertEquals(ElasticNfsv3Access.DISABLED, model.exportPolicy().rules().get(0).nfsv3());
        Assertions.assertEquals(ElasticNfsv4Access.DISABLED, model.exportPolicy().rules().get(0).nfsv4());
        Assertions.assertEquals("hsnvkcdmxzrp", model.exportPolicy().rules().get(0).allowedClients().get(0));
        Assertions.assertEquals(ElasticRootAccess.ENABLED, model.exportPolicy().rules().get(0).rootAccess());
        Assertions.assertEquals(ElasticProtocolType.NFSV4, model.protocolTypes().get(0));
        Assertions.assertEquals("pijrajcivmmghf", model.snapshotResourceId());
        Assertions.assertEquals("v", model.dataProtection().snapshot().snapshotPolicyResourceId());
        Assertions.assertEquals("vl", model.dataProtection().backup().elasticBackupPolicyResourceId());
        Assertions.assertEquals(ElasticVolumePolicyEnforcement.ENFORCED,
            model.dataProtection().backup().policyEnforcement());
        Assertions.assertEquals("qusrdvetnws", model.dataProtection().backup().elasticBackupVaultResourceId());
        Assertions.assertEquals(SnapshotDirectoryVisibility.HIDDEN, model.snapshotDirectoryVisibility());
        Assertions.assertEquals(ElasticSmbEncryption.ENABLED, model.smbProperties().smbEncryption());
        Assertions.assertEquals("duy", model.backupResourceId());
    }
}
