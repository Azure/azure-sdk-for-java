// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.LinuxParameters;
import com.azure.resourcemanager.compute.models.VMGuestPatchClassificationLinux;
import com.azure.resourcemanager.compute.models.VMGuestPatchClassificationWindows;
import com.azure.resourcemanager.compute.models.VMGuestPatchRebootSetting;
import com.azure.resourcemanager.compute.models.VirtualMachineInstallPatchesParameters;
import com.azure.resourcemanager.compute.models.WindowsParameters;
import java.time.Duration;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineInstallPatchesParametersTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineInstallPatchesParameters model = BinaryData.fromString(
            "{\"maximumDuration\":\"PT209H17M10S\",\"rebootSetting\":\"Never\",\"windowsParameters\":{\"classificationsToInclude\":[\"ServicePack\",\"Critical\",\"Tools\",\"Definition\"],\"kbNumbersToInclude\":[\"sflvgsgzwywakoih\",\"nsmjbl\"],\"kbNumbersToExclude\":[\"hlnymzotq\",\"ryuzcbmqqv\",\"mv\",\"fgtayxonsup\"],\"excludeKbsRequiringReboot\":false,\"maxPatchPublishDate\":\"2021-08-10T03:38:51Z\",\"patchNameMasksToInclude\":[\"hcvsqltnzoi\"],\"patchNameMasksToExclude\":[\"xgnxfyqonmpqoxwd\",\"fdbxiqxeiiqbim\"]},\"linuxParameters\":{\"classificationsToInclude\":[\"Other\",\"Critical\"],\"packageNameMasksToInclude\":[\"ehfqpofvwbc\"],\"packageNameMasksToExclude\":[\"mbnkb\",\"vqvxk\"],\"maintenanceRunId\":\"vqihebwtswbzuwf\"}}")
            .toObject(VirtualMachineInstallPatchesParameters.class);
        Assertions.assertEquals(Duration.parse("PT209H17M10S"), model.maximumDuration());
        Assertions.assertEquals(VMGuestPatchRebootSetting.NEVER, model.rebootSetting());
        Assertions.assertEquals(VMGuestPatchClassificationWindows.SERVICE_PACK,
            model.windowsParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("sflvgsgzwywakoih", model.windowsParameters().kbNumbersToInclude().get(0));
        Assertions.assertEquals("hlnymzotq", model.windowsParameters().kbNumbersToExclude().get(0));
        Assertions.assertFalse(model.windowsParameters().excludeKbsRequiringReboot());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-10T03:38:51Z"),
            model.windowsParameters().maxPatchPublishDate());
        Assertions.assertEquals("hcvsqltnzoi", model.windowsParameters().patchNameMasksToInclude().get(0));
        Assertions.assertEquals("xgnxfyqonmpqoxwd", model.windowsParameters().patchNameMasksToExclude().get(0));
        Assertions.assertEquals(VMGuestPatchClassificationLinux.OTHER,
            model.linuxParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("ehfqpofvwbc", model.linuxParameters().packageNameMasksToInclude().get(0));
        Assertions.assertEquals("mbnkb", model.linuxParameters().packageNameMasksToExclude().get(0));
        Assertions.assertEquals("vqihebwtswbzuwf", model.linuxParameters().maintenanceRunId());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineInstallPatchesParameters model
            = new VirtualMachineInstallPatchesParameters().withMaximumDuration(Duration.parse("PT209H17M10S"))
                .withRebootSetting(VMGuestPatchRebootSetting.NEVER)
                .withWindowsParameters(new WindowsParameters()
                    .withClassificationsToInclude(Arrays.asList(VMGuestPatchClassificationWindows.SERVICE_PACK,
                        VMGuestPatchClassificationWindows.CRITICAL, VMGuestPatchClassificationWindows.TOOLS,
                        VMGuestPatchClassificationWindows.DEFINITION))
                    .withKbNumbersToInclude(Arrays.asList("sflvgsgzwywakoih", "nsmjbl"))
                    .withKbNumbersToExclude(Arrays.asList("hlnymzotq", "ryuzcbmqqv", "mv", "fgtayxonsup"))
                    .withExcludeKbsRequiringReboot(false)
                    .withMaxPatchPublishDate(OffsetDateTime.parse("2021-08-10T03:38:51Z"))
                    .withPatchNameMasksToInclude(Arrays.asList("hcvsqltnzoi"))
                    .withPatchNameMasksToExclude(Arrays.asList("xgnxfyqonmpqoxwd", "fdbxiqxeiiqbim")))
                .withLinuxParameters(new LinuxParameters()
                    .withClassificationsToInclude(
                        Arrays.asList(VMGuestPatchClassificationLinux.OTHER, VMGuestPatchClassificationLinux.CRITICAL))
                    .withPackageNameMasksToInclude(Arrays.asList("ehfqpofvwbc"))
                    .withPackageNameMasksToExclude(Arrays.asList("mbnkb", "vqvxk"))
                    .withMaintenanceRunId("vqihebwtswbzuwf"));
        model = BinaryData.fromObject(model).toObject(VirtualMachineInstallPatchesParameters.class);
        Assertions.assertEquals(Duration.parse("PT209H17M10S"), model.maximumDuration());
        Assertions.assertEquals(VMGuestPatchRebootSetting.NEVER, model.rebootSetting());
        Assertions.assertEquals(VMGuestPatchClassificationWindows.SERVICE_PACK,
            model.windowsParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("sflvgsgzwywakoih", model.windowsParameters().kbNumbersToInclude().get(0));
        Assertions.assertEquals("hlnymzotq", model.windowsParameters().kbNumbersToExclude().get(0));
        Assertions.assertFalse(model.windowsParameters().excludeKbsRequiringReboot());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-10T03:38:51Z"),
            model.windowsParameters().maxPatchPublishDate());
        Assertions.assertEquals("hcvsqltnzoi", model.windowsParameters().patchNameMasksToInclude().get(0));
        Assertions.assertEquals("xgnxfyqonmpqoxwd", model.windowsParameters().patchNameMasksToExclude().get(0));
        Assertions.assertEquals(VMGuestPatchClassificationLinux.OTHER,
            model.linuxParameters().classificationsToInclude().get(0));
        Assertions.assertEquals("ehfqpofvwbc", model.linuxParameters().packageNameMasksToInclude().get(0));
        Assertions.assertEquals("mbnkb", model.linuxParameters().packageNameMasksToExclude().get(0));
        Assertions.assertEquals("vqihebwtswbzuwf", model.linuxParameters().maintenanceRunId());
    }
}
