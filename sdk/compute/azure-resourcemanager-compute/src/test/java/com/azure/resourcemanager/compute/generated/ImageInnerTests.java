// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.ImageInner;
import com.azure.resourcemanager.compute.models.CachingTypes;
import com.azure.resourcemanager.compute.models.DiskEncryptionSetParameters;
import com.azure.resourcemanager.compute.models.ExtendedLocation;
import com.azure.resourcemanager.compute.models.ExtendedLocationTypes;
import com.azure.resourcemanager.compute.models.HyperVGenerationTypes;
import com.azure.resourcemanager.compute.models.ImageDataDisk;
import com.azure.resourcemanager.compute.models.ImageOSDisk;
import com.azure.resourcemanager.compute.models.ImageStorageProfile;
import com.azure.resourcemanager.compute.models.OperatingSystemStateTypes;
import com.azure.resourcemanager.compute.models.OperatingSystemTypes;
import com.azure.resourcemanager.compute.models.StorageAccountTypes;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ImageInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ImageInner model = BinaryData.fromString(
            "{\"properties\":{\"sourceVirtualMachine\":{\"id\":\"blkujrllfojuidjp\"},\"storageProfile\":{\"osDisk\":{\"osType\":\"Linux\",\"osState\":\"Specialized\",\"snapshot\":{\"id\":\"jikzoeovvtzej\"},\"managedDisk\":{\"id\":\"kl\"},\"blobUri\":\"ikyju\",\"caching\":\"ReadWrite\",\"diskSizeGB\":1015093902,\"storageAccountType\":\"StandardSSD_LRS\",\"diskEncryptionSet\":{\"id\":\"rzvh\"}},\"dataDisks\":[{\"lun\":2066712772,\"snapshot\":{\"id\":\"tgvgzp\"},\"managedDisk\":{\"id\":\"kolawjmjsmwrokc\"},\"blobUri\":\"fzzzwyjafitlhg\",\"caching\":\"ReadWrite\",\"diskSizeGB\":637513696,\"storageAccountType\":\"StandardSSD_ZRS\",\"diskEncryptionSet\":{\"id\":\"ltxdwhmozu\"}},{\"lun\":1986885457,\"snapshot\":{\"id\":\"ln\"},\"managedDisk\":{\"id\":\"jzfpafolpymwamx\"},\"blobUri\":\"rag\",\"caching\":\"ReadOnly\",\"diskSizeGB\":1656670838,\"storageAccountType\":\"PremiumV2_LRS\",\"diskEncryptionSet\":{\"id\":\"lajv\"}}],\"zoneResilient\":true},\"provisioningState\":\"hcsrlzknmzl\",\"hyperVGeneration\":\"V2\"},\"extendedLocation\":{\"name\":\"dwv\",\"type\":\"EdgeZone\"},\"location\":\"nzqtpjhmqrhvt\",\"tags\":{\"xetlgydlhqv\":\"iwdcxsmlzzhzd\",\"pxy\":\"n\",\"klbyulidwcw\":\"afiqgeaarbgjekg\",\"hj\":\"mzegjon\"},\"id\":\"rwgdnqzbrfks\",\"name\":\"zhzmtksjci\",\"type\":\"digsxcdgl\"}")
            .toObject(ImageInner.class);
        Assertions.assertEquals("nzqtpjhmqrhvt", model.location());
        Assertions.assertEquals("iwdcxsmlzzhzd", model.tags().get("xetlgydlhqv"));
        Assertions.assertEquals("dwv", model.extendedLocation().name());
        Assertions.assertEquals(ExtendedLocationTypes.EDGE_ZONE, model.extendedLocation().type());
        Assertions.assertEquals("blkujrllfojuidjp", model.sourceVirtualMachine().id());
        Assertions.assertEquals("jikzoeovvtzej", model.storageProfile().osDisk().snapshot().id());
        Assertions.assertEquals("kl", model.storageProfile().osDisk().managedDisk().id());
        Assertions.assertEquals("ikyju", model.storageProfile().osDisk().blobUri());
        Assertions.assertEquals(CachingTypes.READ_WRITE, model.storageProfile().osDisk().caching());
        Assertions.assertEquals(1015093902, model.storageProfile().osDisk().diskSizeGB());
        Assertions.assertEquals(StorageAccountTypes.STANDARD_SSD_LRS,
            model.storageProfile().osDisk().storageAccountType());
        Assertions.assertEquals("rzvh", model.storageProfile().osDisk().diskEncryptionSet().id());
        Assertions.assertEquals(OperatingSystemTypes.LINUX, model.storageProfile().osDisk().osType());
        Assertions.assertEquals(OperatingSystemStateTypes.SPECIALIZED, model.storageProfile().osDisk().osState());
        Assertions.assertEquals("tgvgzp", model.storageProfile().dataDisks().get(0).snapshot().id());
        Assertions.assertEquals("kolawjmjsmwrokc", model.storageProfile().dataDisks().get(0).managedDisk().id());
        Assertions.assertEquals("fzzzwyjafitlhg", model.storageProfile().dataDisks().get(0).blobUri());
        Assertions.assertEquals(CachingTypes.READ_WRITE, model.storageProfile().dataDisks().get(0).caching());
        Assertions.assertEquals(637513696, model.storageProfile().dataDisks().get(0).diskSizeGB());
        Assertions.assertEquals(StorageAccountTypes.STANDARD_SSD_ZRS,
            model.storageProfile().dataDisks().get(0).storageAccountType());
        Assertions.assertEquals("ltxdwhmozu", model.storageProfile().dataDisks().get(0).diskEncryptionSet().id());
        Assertions.assertEquals(2066712772, model.storageProfile().dataDisks().get(0).lun());
        Assertions.assertTrue(model.storageProfile().zoneResilient());
        Assertions.assertEquals(HyperVGenerationTypes.V2, model.hyperVGeneration());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ImageInner model = new ImageInner().withLocation("nzqtpjhmqrhvt")
            .withTags(
                mapOf("xetlgydlhqv", "iwdcxsmlzzhzd", "pxy", "n", "klbyulidwcw", "afiqgeaarbgjekg", "hj", "mzegjon"))
            .withExtendedLocation(new ExtendedLocation().withName("dwv").withType(ExtendedLocationTypes.EDGE_ZONE))
            .withSourceVirtualMachine(new SubResource().withId("blkujrllfojuidjp"))
            .withStorageProfile(new ImageStorageProfile()
                .withOsDisk(new ImageOSDisk().withSnapshot(new SubResource().withId("jikzoeovvtzej"))
                    .withManagedDisk(new SubResource().withId("kl"))
                    .withBlobUri("ikyju")
                    .withCaching(CachingTypes.READ_WRITE)
                    .withDiskSizeGB(1015093902)
                    .withStorageAccountType(StorageAccountTypes.STANDARD_SSD_LRS)
                    .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId("rzvh"))
                    .withOsType(OperatingSystemTypes.LINUX)
                    .withOsState(OperatingSystemStateTypes.SPECIALIZED))
                .withDataDisks(Arrays.asList(
                    new ImageDataDisk().withSnapshot(new SubResource().withId("tgvgzp"))
                        .withManagedDisk(new SubResource().withId("kolawjmjsmwrokc"))
                        .withBlobUri("fzzzwyjafitlhg")
                        .withCaching(CachingTypes.READ_WRITE)
                        .withDiskSizeGB(637513696)
                        .withStorageAccountType(StorageAccountTypes.STANDARD_SSD_ZRS)
                        .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId("ltxdwhmozu"))
                        .withLun(2066712772),
                    new ImageDataDisk().withSnapshot(new SubResource().withId("ln"))
                        .withManagedDisk(new SubResource().withId("jzfpafolpymwamx"))
                        .withBlobUri("rag")
                        .withCaching(CachingTypes.READ_ONLY)
                        .withDiskSizeGB(1656670838)
                        .withStorageAccountType(StorageAccountTypes.PREMIUM_V2_LRS)
                        .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId("lajv"))
                        .withLun(1986885457)))
                .withZoneResilient(true))
            .withHyperVGeneration(HyperVGenerationTypes.V2);
        model = BinaryData.fromObject(model).toObject(ImageInner.class);
        Assertions.assertEquals("nzqtpjhmqrhvt", model.location());
        Assertions.assertEquals("iwdcxsmlzzhzd", model.tags().get("xetlgydlhqv"));
        Assertions.assertEquals("dwv", model.extendedLocation().name());
        Assertions.assertEquals(ExtendedLocationTypes.EDGE_ZONE, model.extendedLocation().type());
        Assertions.assertEquals("blkujrllfojuidjp", model.sourceVirtualMachine().id());
        Assertions.assertEquals("jikzoeovvtzej", model.storageProfile().osDisk().snapshot().id());
        Assertions.assertEquals("kl", model.storageProfile().osDisk().managedDisk().id());
        Assertions.assertEquals("ikyju", model.storageProfile().osDisk().blobUri());
        Assertions.assertEquals(CachingTypes.READ_WRITE, model.storageProfile().osDisk().caching());
        Assertions.assertEquals(1015093902, model.storageProfile().osDisk().diskSizeGB());
        Assertions.assertEquals(StorageAccountTypes.STANDARD_SSD_LRS,
            model.storageProfile().osDisk().storageAccountType());
        Assertions.assertEquals("rzvh", model.storageProfile().osDisk().diskEncryptionSet().id());
        Assertions.assertEquals(OperatingSystemTypes.LINUX, model.storageProfile().osDisk().osType());
        Assertions.assertEquals(OperatingSystemStateTypes.SPECIALIZED, model.storageProfile().osDisk().osState());
        Assertions.assertEquals("tgvgzp", model.storageProfile().dataDisks().get(0).snapshot().id());
        Assertions.assertEquals("kolawjmjsmwrokc", model.storageProfile().dataDisks().get(0).managedDisk().id());
        Assertions.assertEquals("fzzzwyjafitlhg", model.storageProfile().dataDisks().get(0).blobUri());
        Assertions.assertEquals(CachingTypes.READ_WRITE, model.storageProfile().dataDisks().get(0).caching());
        Assertions.assertEquals(637513696, model.storageProfile().dataDisks().get(0).diskSizeGB());
        Assertions.assertEquals(StorageAccountTypes.STANDARD_SSD_ZRS,
            model.storageProfile().dataDisks().get(0).storageAccountType());
        Assertions.assertEquals("ltxdwhmozu", model.storageProfile().dataDisks().get(0).diskEncryptionSet().id());
        Assertions.assertEquals(2066712772, model.storageProfile().dataDisks().get(0).lun());
        Assertions.assertTrue(model.storageProfile().zoneResilient());
        Assertions.assertEquals(HyperVGenerationTypes.V2, model.hyperVGeneration());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
