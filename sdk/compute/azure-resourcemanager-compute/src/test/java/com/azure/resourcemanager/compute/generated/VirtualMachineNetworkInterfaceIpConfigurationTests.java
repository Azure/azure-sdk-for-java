// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.DeleteOptions;
import com.azure.resourcemanager.compute.models.DomainNameLabelScopeTypes;
import com.azure.resourcemanager.compute.models.IpVersions;
import com.azure.resourcemanager.compute.models.PublicIpAddressSku;
import com.azure.resourcemanager.compute.models.PublicIpAddressSkuName;
import com.azure.resourcemanager.compute.models.PublicIpAddressSkuTier;
import com.azure.resourcemanager.compute.models.PublicIpAllocationMethod;
import com.azure.resourcemanager.compute.models.VirtualMachineIpTag;
import com.azure.resourcemanager.compute.models.VirtualMachineNetworkInterfaceIpConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachinePublicIpAddressConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachinePublicIpAddressDnsSettingsConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineNetworkInterfaceIpConfigurationTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineNetworkInterfaceIpConfiguration model = BinaryData.fromString(
            "{\"name\":\"age\",\"properties\":{\"subnet\":{\"id\":\"xuns\"},\"primary\":false,\"publicIPAddressConfiguration\":{\"name\":\"kppxynenlsvxeiz\",\"properties\":{\"idleTimeoutInMinutes\":292685868,\"deleteOption\":\"Detach\",\"dnsSettings\":{\"domainNameLabel\":\"rmffeyc\",\"domainNameLabelScope\":\"TenantReuse\"},\"ipTags\":[{\"ipTagType\":\"ymerteeammxq\",\"tag\":\"kk\"},{\"ipTagType\":\"ddrtkgdojb\",\"tag\":\"vavrefdees\"},{\"ipTagType\":\"cuijpxt\",\"tag\":\"uwprtujwsawd\"}],\"publicIPPrefix\":{\"id\":\"babxvitit\"},\"publicIPAddressVersion\":\"IPv6\",\"publicIPAllocationMethod\":\"Dynamic\"},\"sku\":{\"name\":\"Basic\",\"tier\":\"Global\"},\"tags\":{\"gsfjac\":\"glecdmdqbwpypq\",\"d\":\"slhhxudbxv\",\"ud\":\"tnsi\"}},\"privateIPAddressVersion\":\"IPv4\",\"applicationSecurityGroups\":[{\"id\":\"ckdlpag\"}],\"applicationGatewayBackendAddressPools\":[{\"id\":\"failcfx\"},{\"id\":\"dboxdfgsftufqobr\"},{\"id\":\"nac\"},{\"id\":\"ckknhxkizvy\"}],\"loadBalancerBackendAddressPools\":[{\"id\":\"vuljraaeranokqg\"},{\"id\":\"kjq\"}]}}")
            .toObject(VirtualMachineNetworkInterfaceIpConfiguration.class);
        Assertions.assertEquals("age", model.name());
        Assertions.assertEquals("xuns", model.subnet().id());
        Assertions.assertFalse(model.primary());
        Assertions.assertEquals("kppxynenlsvxeiz", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals(PublicIpAddressSkuName.BASIC, model.publicIpAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIpAddressSkuTier.GLOBAL, model.publicIpAddressConfiguration().sku().tier());
        Assertions.assertEquals("glecdmdqbwpypq", model.publicIpAddressConfiguration().tags().get("gsfjac"));
        Assertions.assertEquals(292685868, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DETACH, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals("rmffeyc", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.TENANT_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("ymerteeammxq", model.publicIpAddressConfiguration().ipTags().get(0).ipTagType());
        Assertions.assertEquals("kk", model.publicIpAddressConfiguration().ipTags().get(0).tag());
        Assertions.assertEquals("babxvitit", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(IpVersions.IPV6, model.publicIpAddressConfiguration().publicIpAddressVersion());
        Assertions.assertEquals(PublicIpAllocationMethod.DYNAMIC,
            model.publicIpAddressConfiguration().publicIpAllocationMethod());
        Assertions.assertEquals(IpVersions.IPV4, model.privateIpAddressVersion());
        Assertions.assertEquals("ckdlpag", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("failcfx", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("vuljraaeranokqg", model.loadBalancerBackendAddressPools().get(0).id());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineNetworkInterfaceIpConfiguration model
            = new VirtualMachineNetworkInterfaceIpConfiguration().withName("age")
                .withSubnet(new SubResource().withId("xuns"))
                .withPrimary(false)
                .withPublicIpAddressConfiguration(
                    new VirtualMachinePublicIpAddressConfiguration().withName("kppxynenlsvxeiz")
                        .withSku(new PublicIpAddressSku().withName(PublicIpAddressSkuName.BASIC)
                            .withTier(PublicIpAddressSkuTier.GLOBAL))
                        .withTags(mapOf("gsfjac", "glecdmdqbwpypq", "d", "slhhxudbxv", "ud", "tnsi"))
                        .withIdleTimeoutInMinutes(292685868)
                        .withDeleteOption(DeleteOptions.DETACH)
                        .withDnsSettings(
                            new VirtualMachinePublicIpAddressDnsSettingsConfiguration().withDomainNameLabel("rmffeyc")
                                .withDomainNameLabelScope(DomainNameLabelScopeTypes.TENANT_REUSE))
                        .withIpTags(Arrays.asList(new VirtualMachineIpTag().withIpTagType("ymerteeammxq").withTag("kk"),
                            new VirtualMachineIpTag().withIpTagType("ddrtkgdojb").withTag("vavrefdees"),
                            new VirtualMachineIpTag().withIpTagType("cuijpxt").withTag("uwprtujwsawd")))
                        .withPublicIpPrefix(new SubResource().withId("babxvitit"))
                        .withPublicIpAddressVersion(IpVersions.IPV6)
                        .withPublicIpAllocationMethod(PublicIpAllocationMethod.DYNAMIC))
                .withPrivateIpAddressVersion(IpVersions.IPV4)
                .withApplicationSecurityGroups(Arrays.asList(new SubResource().withId("ckdlpag")))
                .withApplicationGatewayBackendAddressPools(
                    Arrays.asList(new SubResource().withId("failcfx"), new SubResource().withId("dboxdfgsftufqobr"),
                        new SubResource().withId("nac"), new SubResource().withId("ckknhxkizvy")))
                .withLoadBalancerBackendAddressPools(
                    Arrays.asList(new SubResource().withId("vuljraaeranokqg"), new SubResource().withId("kjq")));
        model = BinaryData.fromObject(model).toObject(VirtualMachineNetworkInterfaceIpConfiguration.class);
        Assertions.assertEquals("age", model.name());
        Assertions.assertEquals("xuns", model.subnet().id());
        Assertions.assertFalse(model.primary());
        Assertions.assertEquals("kppxynenlsvxeiz", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals(PublicIpAddressSkuName.BASIC, model.publicIpAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIpAddressSkuTier.GLOBAL, model.publicIpAddressConfiguration().sku().tier());
        Assertions.assertEquals("glecdmdqbwpypq", model.publicIpAddressConfiguration().tags().get("gsfjac"));
        Assertions.assertEquals(292685868, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DETACH, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals("rmffeyc", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.TENANT_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("ymerteeammxq", model.publicIpAddressConfiguration().ipTags().get(0).ipTagType());
        Assertions.assertEquals("kk", model.publicIpAddressConfiguration().ipTags().get(0).tag());
        Assertions.assertEquals("babxvitit", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(IpVersions.IPV6, model.publicIpAddressConfiguration().publicIpAddressVersion());
        Assertions.assertEquals(PublicIpAllocationMethod.DYNAMIC,
            model.publicIpAddressConfiguration().publicIpAllocationMethod());
        Assertions.assertEquals(IpVersions.IPV4, model.privateIpAddressVersion());
        Assertions.assertEquals("ckdlpag", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("failcfx", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("vuljraaeranokqg", model.loadBalancerBackendAddressPools().get(0).id());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
