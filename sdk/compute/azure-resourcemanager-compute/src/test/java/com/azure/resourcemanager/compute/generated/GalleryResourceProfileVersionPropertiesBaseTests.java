// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.AdditionalReplicaSet;
import com.azure.resourcemanager.compute.models.ConfidentialVMEncryptionType;
import com.azure.resourcemanager.compute.models.DataDiskImageEncryption;
import com.azure.resourcemanager.compute.models.EncryptionImages;
import com.azure.resourcemanager.compute.models.GalleryResourceProfileVersionPropertiesBase;
import com.azure.resourcemanager.compute.models.OSDiskImageEncryption;
import com.azure.resourcemanager.compute.models.OSDiskImageSecurityProfile;
import com.azure.resourcemanager.compute.models.StorageAccountType;
import com.azure.resourcemanager.compute.models.TargetRegion;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class GalleryResourceProfileVersionPropertiesBaseTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryResourceProfileVersionPropertiesBase model = BinaryData.fromString(
            "{\"targetLocations\":[{\"name\":\"pximziizmeq\",\"regionalReplicaCount\":416580875,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"NonPersistedTPM\",\"secureVMDiskEncryptionSetId\":\"p\"},\"diskEncryptionSetId\":\"ml\"},\"dataDiskImages\":[{\"lun\":799929731,\"diskEncryptionSetId\":\"lmcvrjaznotdofq\"}]},\"excludeFromLatest\":false,\"additionalReplicaSets\":[{\"storageAccountType\":\"Standard_ZRS\",\"regionalReplicaCount\":1779009385}]},{\"name\":\"sb\",\"regionalReplicaCount\":461029724,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"EncryptedWithPmk\",\"secureVMDiskEncryptionSetId\":\"zgcxsvqlcquf\"},\"diskEncryptionSetId\":\"amxo\"},\"dataDiskImages\":[{\"lun\":1515097052,\"diskEncryptionSetId\":\"oyutehlk\"}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{\"storageAccountType\":\"Standard_ZRS\",\"regionalReplicaCount\":1806410544},{\"storageAccountType\":\"Premium_LRS\",\"regionalReplicaCount\":480207952},{\"storageAccountType\":\"Premium_LRS\",\"regionalReplicaCount\":1588504621}]},{\"name\":\"fu\",\"regionalReplicaCount\":1293004973,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"EncryptedVMGuestStateOnlyWithPmk\",\"secureVMDiskEncryptionSetId\":\"mfnnbbxngdfkk\"},\"diskEncryptionSetId\":\"eetxtpwcv\"},\"dataDiskImages\":[{\"lun\":2002766414,\"diskEncryptionSetId\":\"unjzija\"},{\"lun\":2089228497,\"diskEncryptionSetId\":\"mm\"},{\"lun\":1092293519,\"diskEncryptionSetId\":\"qdonbzzs\"},{\"lun\":305954899,\"diskEncryptionSetId\":\"yviiws\"}]},\"excludeFromLatest\":false,\"additionalReplicaSets\":[{\"storageAccountType\":\"PremiumV2_LRS\",\"regionalReplicaCount\":126960416},{\"storageAccountType\":\"Standard_LRS\",\"regionalReplicaCount\":1790621244},{\"storageAccountType\":\"Premium_LRS\",\"regionalReplicaCount\":7694794},{\"storageAccountType\":\"PremiumV2_LRS\",\"regionalReplicaCount\":2060752250}]},{\"name\":\"ilm\",\"regionalReplicaCount\":1467963443,\"storageAccountType\":\"Standard_ZRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"NonPersistedTPM\",\"secureVMDiskEncryptionSetId\":\"gvyvuoikdlp\"},\"diskEncryptionSetId\":\"ntugfwi\"},\"dataDiskImages\":[{\"lun\":1246690355,\"diskEncryptionSetId\":\"clo\"}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{\"storageAccountType\":\"PremiumV2_LRS\",\"regionalReplicaCount\":726593939},{\"storageAccountType\":\"Standard_LRS\",\"regionalReplicaCount\":1431757088},{\"storageAccountType\":\"PremiumV2_LRS\",\"regionalReplicaCount\":171054171}]}],\"excludeFromLatest\":true,\"publishedDate\":\"2021-07-16T12:08:14Z\",\"provisioningState\":\"Deleting\",\"replicationStatus\":{\"aggregatedState\":\"Failed\",\"summary\":[{\"region\":\"evy\",\"state\":\"Failed\",\"details\":\"ecrqkw\",\"progress\":2074064845},{\"region\":\"hsfoulborcx\",\"state\":\"Completed\",\"details\":\"dqbdyblp\",\"progress\":65455837},{\"region\":\"m\",\"state\":\"Completed\",\"details\":\"eoqhbjql\",\"progress\":1133814718},{\"region\":\"erufollcshjuc\",\"state\":\"Completed\",\"details\":\"mjjvtpnerxvjea\",\"progress\":1142506282}]}}")
            .toObject(GalleryResourceProfileVersionPropertiesBase.class);
        Assertions.assertEquals("pximziizmeq", model.targetLocations().get(0).name());
        Assertions.assertEquals(416580875, model.targetLocations().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.targetLocations().get(0).storageAccountType());
        Assertions.assertEquals("ml", model.targetLocations().get(0).encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.NON_PERSISTED_TPM,
            model.targetLocations().get(0).encryption().osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("p",
            model.targetLocations().get(0).encryption().osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("lmcvrjaznotdofq",
            model.targetLocations().get(0).encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(799929731, model.targetLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertFalse(model.targetLocations().get(0).excludeFromLatest());
        Assertions.assertEquals(StorageAccountType.STANDARD_ZRS,
            model.targetLocations().get(0).additionalReplicaSets().get(0).storageAccountType());
        Assertions.assertEquals(1779009385,
            model.targetLocations().get(0).additionalReplicaSets().get(0).regionalReplicaCount());
        Assertions.assertTrue(model.excludeFromLatest());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryResourceProfileVersionPropertiesBase model
            = new GalleryResourceProfileVersionPropertiesBase()
                .withTargetLocations(
                    Arrays.asList(
                        new TargetRegion().withName("pximziizmeq")
                            .withRegionalReplicaCount(416580875)
                            .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                            .withEncryption(new EncryptionImages()
                                .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("ml")
                                    .withSecurityProfile(new OSDiskImageSecurityProfile()
                                        .withConfidentialVMEncryptionType(
                                            ConfidentialVMEncryptionType.NON_PERSISTED_TPM)
                                        .withSecureVMDiskEncryptionSetId("p")))
                                .withDataDiskImages(Arrays
                                    .asList(new DataDiskImageEncryption().withDiskEncryptionSetId("lmcvrjaznotdofq")
                                        .withLun(799929731))))
                            .withExcludeFromLatest(false)
                            .withAdditionalReplicaSets(
                                Arrays.asList(
                                    new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.STANDARD_ZRS)
                                        .withRegionalReplicaCount(1779009385))),
                        new TargetRegion().withName("sb")
                            .withRegionalReplicaCount(461029724)
                            .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                            .withEncryption(new EncryptionImages()
                                .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("amxo")
                                    .withSecurityProfile(new OSDiskImageSecurityProfile()
                                        .withConfidentialVMEncryptionType(
                                            ConfidentialVMEncryptionType.ENCRYPTED_WITH_PMK)
                                        .withSecureVMDiskEncryptionSetId("zgcxsvqlcquf")))
                                .withDataDiskImages(
                                    Arrays.asList(new DataDiskImageEncryption().withDiskEncryptionSetId("oyutehlk")
                                        .withLun(1515097052))))
                            .withExcludeFromLatest(true)
                            .withAdditionalReplicaSets(Arrays.asList(
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.STANDARD_ZRS)
                                    .withRegionalReplicaCount(1806410544),
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                                    .withRegionalReplicaCount(480207952),
                                new AdditionalReplicaSet()
                                    .withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                                    .withRegionalReplicaCount(1588504621))),
                        new TargetRegion().withName("fu")
                            .withRegionalReplicaCount(1293004973)
                            .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                            .withEncryption(
                                new EncryptionImages()
                                    .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("eetxtpwcv")
                                        .withSecurityProfile(new OSDiskImageSecurityProfile()
                                            .withConfidentialVMEncryptionType(
                                                ConfidentialVMEncryptionType.ENCRYPTED_VMGUEST_STATE_ONLY_WITH_PMK)
                                            .withSecureVMDiskEncryptionSetId("mfnnbbxngdfkk")))
                                    .withDataDiskImages(Arrays.asList(
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("unjzija")
                                            .withLun(2002766414),
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("mm").withLun(2089228497),
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("qdonbzzs")
                                            .withLun(1092293519),
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("yviiws")
                                            .withLun(305954899))))
                            .withExcludeFromLatest(false)
                            .withAdditionalReplicaSets(Arrays.asList(new AdditionalReplicaSet()
                                .withStorageAccountType(StorageAccountType.PREMIUM_V2_LRS)
                                .withRegionalReplicaCount(126960416),
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.STANDARD_LRS)
                                    .withRegionalReplicaCount(1790621244),
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                                    .withRegionalReplicaCount(7694794),
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_V2_LRS)
                                    .withRegionalReplicaCount(2060752250))),
                        new TargetRegion().withName("ilm")
                            .withRegionalReplicaCount(1467963443)
                            .withStorageAccountType(StorageAccountType.STANDARD_ZRS)
                            .withEncryption(new EncryptionImages()
                                .withOsDiskImage(
                                    new OSDiskImageEncryption().withDiskEncryptionSetId("ntugfwi")
                                        .withSecurityProfile(new OSDiskImageSecurityProfile()
                                            .withConfidentialVMEncryptionType(
                                                ConfidentialVMEncryptionType.NON_PERSISTED_TPM)
                                            .withSecureVMDiskEncryptionSetId("gvyvuoikdlp")))
                                .withDataDiskImages(Arrays.asList(
                                    new DataDiskImageEncryption().withDiskEncryptionSetId("clo").withLun(1246690355))))
                            .withExcludeFromLatest(true)
                            .withAdditionalReplicaSets(Arrays.asList(
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_V2_LRS)
                                    .withRegionalReplicaCount(726593939),
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.STANDARD_LRS)
                                    .withRegionalReplicaCount(1431757088),
                                new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_V2_LRS)
                                    .withRegionalReplicaCount(171054171)))))
                .withExcludeFromLatest(true);
        model = BinaryData.fromObject(model).toObject(GalleryResourceProfileVersionPropertiesBase.class);
        Assertions.assertEquals("pximziizmeq", model.targetLocations().get(0).name());
        Assertions.assertEquals(416580875, model.targetLocations().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.targetLocations().get(0).storageAccountType());
        Assertions.assertEquals("ml", model.targetLocations().get(0).encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.NON_PERSISTED_TPM,
            model.targetLocations().get(0).encryption().osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("p",
            model.targetLocations().get(0).encryption().osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("lmcvrjaznotdofq",
            model.targetLocations().get(0).encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(799929731, model.targetLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertFalse(model.targetLocations().get(0).excludeFromLatest());
        Assertions.assertEquals(StorageAccountType.STANDARD_ZRS,
            model.targetLocations().get(0).additionalReplicaSets().get(0).storageAccountType());
        Assertions.assertEquals(1779009385,
            model.targetLocations().get(0).additionalReplicaSets().get(0).regionalReplicaCount());
        Assertions.assertTrue(model.excludeFromLatest());
    }
}
