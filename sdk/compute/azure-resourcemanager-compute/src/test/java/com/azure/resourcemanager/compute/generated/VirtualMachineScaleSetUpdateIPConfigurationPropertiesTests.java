// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.VirtualMachineScaleSetUpdateIPConfigurationProperties;
import com.azure.resourcemanager.compute.models.ApiEntityReference;
import com.azure.resourcemanager.compute.models.DeleteOptions;
import com.azure.resourcemanager.compute.models.DomainNameLabelScopeTypes;
import com.azure.resourcemanager.compute.models.IpVersion;
import com.azure.resourcemanager.compute.models.VirtualMachineScaleSetPublicIpAddressConfigurationDnsSettings;
import com.azure.resourcemanager.compute.models.VirtualMachineScaleSetUpdatePublicIpAddressConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineScaleSetUpdateIPConfigurationPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineScaleSetUpdateIPConfigurationProperties model = BinaryData.fromString(
            "{\"subnet\":{\"id\":\"zudphqamvdkfw\"},\"primary\":true,\"publicIPAddressConfiguration\":{\"name\":\"tbvkayhmtnvyq\",\"properties\":{\"idleTimeoutInMinutes\":2006879823,\"dnsSettings\":{\"domainNameLabel\":\"wp\",\"domainNameLabelScope\":\"TenantReuse\"},\"publicIPPrefix\":{\"id\":\"cjaesgvvs\"},\"deleteOption\":\"Detach\"},\"tags\":{\"qfhwyg\":\"g\"}},\"privateIPAddressVersion\":\"IPv6\",\"applicationGatewayBackendAddressPools\":[{\"id\":\"fxusemdwzr\"}],\"applicationSecurityGroups\":[{\"id\":\"pfcqdp\"},{\"id\":\"xqv\"},{\"id\":\"vuoy\"}],\"loadBalancerBackendAddressPools\":[{\"id\":\"elvezrypq\"},{\"id\":\"feo\"}],\"loadBalancerInboundNatPools\":[{\"id\":\"wkyhkobopgxe\"},{\"id\":\"owepbqpcrfkb\"}]}")
            .toObject(VirtualMachineScaleSetUpdateIPConfigurationProperties.class);
        Assertions.assertEquals("zudphqamvdkfw", model.subnet().id());
        Assertions.assertTrue(model.primary());
        Assertions.assertEquals("tbvkayhmtnvyq", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals("g", model.publicIpAddressConfiguration().tags().get("qfhwyg"));
        Assertions.assertEquals(2006879823, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals("wp", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.TENANT_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("cjaesgvvs", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(DeleteOptions.DETACH, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals(IpVersion.IPV6, model.privateIpAddressVersion());
        Assertions.assertEquals("fxusemdwzr", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("pfcqdp", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("elvezrypq", model.loadBalancerBackendAddressPools().get(0).id());
        Assertions.assertEquals("wkyhkobopgxe", model.loadBalancerInboundNatPools().get(0).id());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineScaleSetUpdateIPConfigurationProperties model
            = new VirtualMachineScaleSetUpdateIPConfigurationProperties()
                .withSubnet(new ApiEntityReference().withId("zudphqamvdkfw"))
                .withPrimary(true)
                .withPublicIpAddressConfiguration(
                    new VirtualMachineScaleSetUpdatePublicIpAddressConfiguration().withName("tbvkayhmtnvyq")
                        .withTags(mapOf("qfhwyg", "g"))
                        .withIdleTimeoutInMinutes(2006879823)
                        .withDnsSettings(new VirtualMachineScaleSetPublicIpAddressConfigurationDnsSettings()
                            .withDomainNameLabel("wp")
                            .withDomainNameLabelScope(DomainNameLabelScopeTypes.TENANT_REUSE))
                        .withPublicIpPrefix(new SubResource().withId("cjaesgvvs"))
                        .withDeleteOption(DeleteOptions.DETACH))
                .withPrivateIpAddressVersion(IpVersion.IPV6)
                .withApplicationGatewayBackendAddressPools(Arrays.asList(new SubResource().withId("fxusemdwzr")))
                .withApplicationSecurityGroups(Arrays.asList(new SubResource().withId("pfcqdp"),
                    new SubResource().withId("xqv"), new SubResource().withId("vuoy")))
                .withLoadBalancerBackendAddressPools(
                    Arrays.asList(new SubResource().withId("elvezrypq"), new SubResource().withId("feo")))
                .withLoadBalancerInboundNatPools(
                    Arrays.asList(new SubResource().withId("wkyhkobopgxe"), new SubResource().withId("owepbqpcrfkb")));
        model = BinaryData.fromObject(model).toObject(VirtualMachineScaleSetUpdateIPConfigurationProperties.class);
        Assertions.assertEquals("zudphqamvdkfw", model.subnet().id());
        Assertions.assertTrue(model.primary());
        Assertions.assertEquals("tbvkayhmtnvyq", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals("g", model.publicIpAddressConfiguration().tags().get("qfhwyg"));
        Assertions.assertEquals(2006879823, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals("wp", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.TENANT_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("cjaesgvvs", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(DeleteOptions.DETACH, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals(IpVersion.IPV6, model.privateIpAddressVersion());
        Assertions.assertEquals("fxusemdwzr", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("pfcqdp", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("elvezrypq", model.loadBalancerBackendAddressPools().get(0).id());
        Assertions.assertEquals("wkyhkobopgxe", model.loadBalancerInboundNatPools().get(0).id());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
