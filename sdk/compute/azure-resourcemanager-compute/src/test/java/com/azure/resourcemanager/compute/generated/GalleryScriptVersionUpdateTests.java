// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.AdditionalReplicaSet;
import com.azure.resourcemanager.compute.models.DataDiskImageEncryption;
import com.azure.resourcemanager.compute.models.EdgeZoneStorageAccountType;
import com.azure.resourcemanager.compute.models.EncryptionImages;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocation;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocationType;
import com.azure.resourcemanager.compute.models.GalleryScriptParameter;
import com.azure.resourcemanager.compute.models.GalleryScriptParameterType;
import com.azure.resourcemanager.compute.models.GalleryScriptVersionPublishingProfile;
import com.azure.resourcemanager.compute.models.GalleryScriptVersionSafetyProfile;
import com.azure.resourcemanager.compute.models.GalleryScriptVersionUpdate;
import com.azure.resourcemanager.compute.models.GalleryTargetExtendedLocation;
import com.azure.resourcemanager.compute.models.OSDiskImageEncryption;
import com.azure.resourcemanager.compute.models.ReplicationMode;
import com.azure.resourcemanager.compute.models.ScriptSource;
import com.azure.resourcemanager.compute.models.StorageAccountStrategy;
import com.azure.resourcemanager.compute.models.StorageAccountType;
import com.azure.resourcemanager.compute.models.TargetRegion;
import java.time.OffsetDateTime;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class GalleryScriptVersionUpdateTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryScriptVersionUpdate model = BinaryData.fromString(
            "{\"properties\":{\"publishingProfile\":{\"source\":{\"scriptLink\":\"yumgmmuebsn\",\"parameters\":[{\"type\":\"Enum\",\"minValue\":\"ufmjxc\",\"maxValue\":\"seqcazisvbrqgc\",\"enumValues\":[\"gawepkwonrzp\",\"h\"],\"name\":\"rdtbgblxbuibrvj\",\"required\":false,\"defaultValue\":\"lvsmfjihv\",\"description\":\"cqrttjf\"},{\"type\":\"String\",\"minValue\":\"fjewfeqbavdo\",\"maxValue\":\"wy\",\"enumValues\":[\"mw\"],\"name\":\"lvxgwzz\",\"required\":true,\"defaultValue\":\"lcjgpvcqzvzrbvg\",\"description\":\"hlx\"},{\"type\":\"Enum\",\"minValue\":\"mdrwynb\",\"maxValue\":\"vazoymdvh\",\"enumValues\":[\"khwwdkatve\"],\"name\":\"mgkcswzey\",\"required\":true,\"defaultValue\":\"armhpwbuklv\",\"description\":\"fasgtlvhqpo\"},{\"type\":\"Int\",\"minValue\":\"ja\",\"maxValue\":\"cez\",\"enumValues\":[\"tmhllp\"],\"name\":\"kjyghztms\",\"required\":true,\"defaultValue\":\"pcflcezswwvwift\",\"description\":\"tvbfpfhr\"}]},\"targetRegions\":[{\"name\":\"syqcjnqswxdowum\",\"regionalReplicaCount\":368205040,\"storageAccountType\":\"PremiumV2_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1065212257},{\"lun\":1325186762},{\"lun\":1677005129},{\"lun\":1132582410}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{},{}]},{\"name\":\"fknebwedd\",\"regionalReplicaCount\":1313383111,\"storageAccountType\":\"Standard_ZRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1842021804},{\"lun\":1126633561},{\"lun\":1073676053}]},\"excludeFromLatest\":false,\"additionalReplicaSets\":[{}]}],\"replicaCount\":1709077396,\"excludeFromLatest\":false,\"publishedDate\":\"2021-02-04T11:19:15Z\",\"endOfLifeDate\":\"2020-12-23T04:38Z\",\"storageAccountType\":\"PremiumV2_LRS\",\"replicationMode\":\"Shallow\",\"targetExtendedLocations\":[{\"name\":\"gcfddofxnfb\",\"extendedLocation\":{\"name\":\"yrqaedwovoc\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":1770406965,\"storageAccountType\":\"StandardSSD_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":15272227},{\"lun\":650201337}]}},{\"name\":\"ihwpadhedbfobd\",\"extendedLocation\":{\"name\":\"othm\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":1669880005,\"storageAccountType\":\"StandardSSD_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1341910964},{\"lun\":816784099},{\"lun\":1619858598}]}},{\"name\":\"po\",\"extendedLocation\":{\"name\":\"scmyhrhjvszf\",\"type\":\"Unknown\"},\"extendedLocationReplicaCount\":1880515177,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":524137153},{\"lun\":1319031449}]}},{\"name\":\"oevzzufytdxmly\",\"extendedLocation\":{\"name\":\"yvapbkrbuoggtdl\",\"type\":\"Unknown\"},\"extendedLocationReplicaCount\":1615187796,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":472873354},{\"lun\":997710769}]}}],\"storageAccountStrategy\":\"DefaultStandard_LRS\"},\"safetyProfile\":{\"allowDeletionOfReplicatedLocations\":true},\"provisioningState\":\"Migrating\",\"replicationStatus\":{\"aggregatedState\":\"Failed\",\"summary\":[{\"region\":\"vmhvbvvcpwtqs\",\"state\":\"Replicating\",\"details\":\"hmz\",\"progress\":7604358},{\"region\":\"etevrntfknwacy\",\"state\":\"Replicating\",\"details\":\"tctkhfhfs\",\"progress\":672682727},{\"region\":\"sxrmhn\",\"state\":\"Replicating\",\"details\":\"vpr\",\"progress\":403090072}]}},\"id\":\"cubleh\",\"name\":\"plobzgotta\",\"type\":\"adzighmmtbt\",\"tags\":{\"rdeewl\":\"cfvvraabe\"}}")
            .toObject(GalleryScriptVersionUpdate.class);
        Assertions.assertEquals("cfvvraabe", model.tags().get("rdeewl"));
        Assertions.assertEquals("syqcjnqswxdowum", model.publishingProfile().targetRegions().get(0).name());
        Assertions.assertEquals(368205040, model.publishingProfile().targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.PREMIUM_V2_LRS,
            model.publishingProfile().targetRegions().get(0).storageAccountType());
        Assertions.assertEquals(1065212257,
            model.publishingProfile().targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.publishingProfile().targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(1709077396, model.publishingProfile().replicaCount());
        Assertions.assertFalse(model.publishingProfile().excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2020-12-23T04:38Z"), model.publishingProfile().endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.PREMIUM_V2_LRS, model.publishingProfile().storageAccountType());
        Assertions.assertEquals(ReplicationMode.SHALLOW, model.publishingProfile().replicationMode());
        Assertions.assertEquals("gcfddofxnfb", model.publishingProfile().targetExtendedLocations().get(0).name());
        Assertions.assertEquals("yrqaedwovoc",
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(1770406965,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.STANDARD_SSD_LRS,
            model.publishingProfile().targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals(15272227,
            model.publishingProfile().targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertEquals(StorageAccountStrategy.DEFAULT_STANDARD_LRS,
            model.publishingProfile().storageAccountStrategy());
        Assertions.assertEquals("yumgmmuebsn", model.publishingProfile().source().scriptLink());
        Assertions.assertEquals("rdtbgblxbuibrvj", model.publishingProfile().source().parameters().get(0).name());
        Assertions.assertFalse(model.publishingProfile().source().parameters().get(0).required());
        Assertions.assertEquals("lvsmfjihv", model.publishingProfile().source().parameters().get(0).defaultValue());
        Assertions.assertEquals("cqrttjf", model.publishingProfile().source().parameters().get(0).description());
        Assertions.assertEquals(GalleryScriptParameterType.ENUM,
            model.publishingProfile().source().parameters().get(0).type());
        Assertions.assertEquals("ufmjxc", model.publishingProfile().source().parameters().get(0).minValue());
        Assertions.assertEquals("seqcazisvbrqgc", model.publishingProfile().source().parameters().get(0).maxValue());
        Assertions.assertEquals("gawepkwonrzp",
            model.publishingProfile().source().parameters().get(0).enumValues().get(0));
        Assertions.assertTrue(model.safetyProfile().allowDeletionOfReplicatedLocations());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryScriptVersionUpdate model
            = new GalleryScriptVersionUpdate().withTags(mapOf("rdeewl", "cfvvraabe"))
                .withPublishingProfile(
                    new GalleryScriptVersionPublishingProfile()
                        .withTargetRegions(Arrays.asList(
                            new TargetRegion().withName("syqcjnqswxdowum")
                                .withRegionalReplicaCount(368205040)
                                .withStorageAccountType(StorageAccountType.PREMIUM_V2_LRS)
                                .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                    .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1065212257),
                                        new DataDiskImageEncryption().withLun(1325186762),
                                        new DataDiskImageEncryption().withLun(1677005129),
                                        new DataDiskImageEncryption().withLun(1132582410))))
                                .withExcludeFromLatest(true)
                                .withAdditionalReplicaSets(
                                    Arrays.asList(new AdditionalReplicaSet(), new AdditionalReplicaSet())),
                            new TargetRegion().withName("fknebwedd")
                                .withRegionalReplicaCount(1313383111)
                                .withStorageAccountType(StorageAccountType.STANDARD_ZRS)
                                .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                    .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1842021804),
                                        new DataDiskImageEncryption().withLun(1126633561),
                                        new DataDiskImageEncryption().withLun(1073676053))))
                                .withExcludeFromLatest(false)
                                .withAdditionalReplicaSets(Arrays.asList(new AdditionalReplicaSet()))))
                        .withReplicaCount(1709077396)
                        .withExcludeFromLatest(false)
                        .withEndOfLifeDate(OffsetDateTime.parse("2020-12-23T04:38Z"))
                        .withStorageAccountType(StorageAccountType.PREMIUM_V2_LRS)
                        .withReplicationMode(ReplicationMode.SHALLOW)
                        .withTargetExtendedLocations(Arrays.asList(
                            new GalleryTargetExtendedLocation().withName("gcfddofxnfb")
                                .withExtendedLocation(new GalleryExtendedLocation().withName("yrqaedwovoc")
                                    .withType(GalleryExtendedLocationType.EDGE_ZONE))
                                .withExtendedLocationReplicaCount(1770406965)
                                .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_SSD_LRS)
                                .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                    .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(15272227),
                                        new DataDiskImageEncryption().withLun(650201337)))),
                            new GalleryTargetExtendedLocation().withName("ihwpadhedbfobd")
                                .withExtendedLocation(new GalleryExtendedLocation().withName("othm")
                                    .withType(GalleryExtendedLocationType.EDGE_ZONE))
                                .withExtendedLocationReplicaCount(1669880005)
                                .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_SSD_LRS)
                                .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                    .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1341910964),
                                        new DataDiskImageEncryption().withLun(816784099),
                                        new DataDiskImageEncryption().withLun(1619858598)))),
                            new GalleryTargetExtendedLocation().withName("po")
                                .withExtendedLocation(new GalleryExtendedLocation().withName("scmyhrhjvszf")
                                    .withType(GalleryExtendedLocationType.UNKNOWN))
                                .withExtendedLocationReplicaCount(1880515177)
                                .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_LRS)
                                .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                    .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(524137153),
                                        new DataDiskImageEncryption().withLun(1319031449)))),
                            new GalleryTargetExtendedLocation().withName("oevzzufytdxmly")
                                .withExtendedLocation(new GalleryExtendedLocation().withName("yvapbkrbuoggtdl")
                                    .withType(GalleryExtendedLocationType.UNKNOWN))
                                .withExtendedLocationReplicaCount(1615187796)
                                .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_LRS)
                                .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                    .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(472873354),
                                        new DataDiskImageEncryption().withLun(997710769))))))
                        .withStorageAccountStrategy(StorageAccountStrategy.DEFAULT_STANDARD_LRS)
                        .withSource(new ScriptSource().withScriptLink("yumgmmuebsn")
                            .withParameters(Arrays.asList(
                                new GalleryScriptParameter().withName("rdtbgblxbuibrvj")
                                    .withRequired(false)
                                    .withDefaultValue("lvsmfjihv")
                                    .withDescription("cqrttjf")
                                    .withType(GalleryScriptParameterType.ENUM)
                                    .withMinValue("ufmjxc")
                                    .withMaxValue("seqcazisvbrqgc")
                                    .withEnumValues(Arrays.asList("gawepkwonrzp", "h")),
                                new GalleryScriptParameter().withName("lvxgwzz")
                                    .withRequired(true)
                                    .withDefaultValue("lcjgpvcqzvzrbvg")
                                    .withDescription("hlx")
                                    .withType(GalleryScriptParameterType.STRING)
                                    .withMinValue("fjewfeqbavdo")
                                    .withMaxValue("wy")
                                    .withEnumValues(Arrays.asList("mw")),
                                new GalleryScriptParameter().withName("mgkcswzey")
                                    .withRequired(true)
                                    .withDefaultValue("armhpwbuklv")
                                    .withDescription("fasgtlvhqpo")
                                    .withType(GalleryScriptParameterType.ENUM)
                                    .withMinValue("mdrwynb")
                                    .withMaxValue("vazoymdvh")
                                    .withEnumValues(Arrays.asList("khwwdkatve")),
                                new GalleryScriptParameter().withName("kjyghztms")
                                    .withRequired(true)
                                    .withDefaultValue("pcflcezswwvwift")
                                    .withDescription("tvbfpfhr")
                                    .withType(GalleryScriptParameterType.INT)
                                    .withMinValue("ja")
                                    .withMaxValue("cez")
                                    .withEnumValues(Arrays.asList("tmhllp"))))))
                .withSafetyProfile(
                    new GalleryScriptVersionSafetyProfile().withAllowDeletionOfReplicatedLocations(true));
        model = BinaryData.fromObject(model).toObject(GalleryScriptVersionUpdate.class);
        Assertions.assertEquals("cfvvraabe", model.tags().get("rdeewl"));
        Assertions.assertEquals("syqcjnqswxdowum", model.publishingProfile().targetRegions().get(0).name());
        Assertions.assertEquals(368205040, model.publishingProfile().targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.PREMIUM_V2_LRS,
            model.publishingProfile().targetRegions().get(0).storageAccountType());
        Assertions.assertEquals(1065212257,
            model.publishingProfile().targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.publishingProfile().targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(1709077396, model.publishingProfile().replicaCount());
        Assertions.assertFalse(model.publishingProfile().excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2020-12-23T04:38Z"), model.publishingProfile().endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.PREMIUM_V2_LRS, model.publishingProfile().storageAccountType());
        Assertions.assertEquals(ReplicationMode.SHALLOW, model.publishingProfile().replicationMode());
        Assertions.assertEquals("gcfddofxnfb", model.publishingProfile().targetExtendedLocations().get(0).name());
        Assertions.assertEquals("yrqaedwovoc",
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(1770406965,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.STANDARD_SSD_LRS,
            model.publishingProfile().targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals(15272227,
            model.publishingProfile().targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertEquals(StorageAccountStrategy.DEFAULT_STANDARD_LRS,
            model.publishingProfile().storageAccountStrategy());
        Assertions.assertEquals("yumgmmuebsn", model.publishingProfile().source().scriptLink());
        Assertions.assertEquals("rdtbgblxbuibrvj", model.publishingProfile().source().parameters().get(0).name());
        Assertions.assertFalse(model.publishingProfile().source().parameters().get(0).required());
        Assertions.assertEquals("lvsmfjihv", model.publishingProfile().source().parameters().get(0).defaultValue());
        Assertions.assertEquals("cqrttjf", model.publishingProfile().source().parameters().get(0).description());
        Assertions.assertEquals(GalleryScriptParameterType.ENUM,
            model.publishingProfile().source().parameters().get(0).type());
        Assertions.assertEquals("ufmjxc", model.publishingProfile().source().parameters().get(0).minValue());
        Assertions.assertEquals("seqcazisvbrqgc", model.publishingProfile().source().parameters().get(0).maxValue());
        Assertions.assertEquals("gawepkwonrzp",
            model.publishingProfile().source().parameters().get(0).enumValues().get(0));
        Assertions.assertTrue(model.safetyProfile().allowDeletionOfReplicatedLocations());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
