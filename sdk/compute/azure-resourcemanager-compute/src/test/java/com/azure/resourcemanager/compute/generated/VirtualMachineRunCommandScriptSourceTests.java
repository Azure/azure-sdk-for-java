// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.RunCommandManagedIdentity;
import com.azure.resourcemanager.compute.models.ScriptShellTypes;
import com.azure.resourcemanager.compute.models.VirtualMachineRunCommandScriptSource;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineRunCommandScriptSourceTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineRunCommandScriptSource model = BinaryData.fromString(
            "{\"script\":\"uvvadswzsnu\",\"scriptUri\":\"mlowuowhl\",\"commandId\":\"nwyrmouv\",\"scriptUriManagedIdentity\":{\"clientId\":\"mo\",\"objectId\":\"kltrfow\"},\"scriptShell\":\"Powershell7\",\"galleryScriptReferenceId\":\"fmvlihcvjdrqc\"}")
            .toObject(VirtualMachineRunCommandScriptSource.class);
        Assertions.assertEquals("uvvadswzsnu", model.script());
        Assertions.assertEquals("mlowuowhl", model.scriptUri());
        Assertions.assertEquals("nwyrmouv", model.commandId());
        Assertions.assertEquals("mo", model.scriptUriManagedIdentity().clientId());
        Assertions.assertEquals("kltrfow", model.scriptUriManagedIdentity().objectId());
        Assertions.assertEquals(ScriptShellTypes.POWERSHELL7, model.scriptShell());
        Assertions.assertEquals("fmvlihcvjdrqc", model.galleryScriptReferenceId());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineRunCommandScriptSource model = new VirtualMachineRunCommandScriptSource()
            .withScript("uvvadswzsnu")
            .withScriptUri("mlowuowhl")
            .withCommandId("nwyrmouv")
            .withScriptUriManagedIdentity(new RunCommandManagedIdentity().withClientId("mo").withObjectId("kltrfow"))
            .withScriptShell(ScriptShellTypes.POWERSHELL7)
            .withGalleryScriptReferenceId("fmvlihcvjdrqc");
        model = BinaryData.fromObject(model).toObject(VirtualMachineRunCommandScriptSource.class);
        Assertions.assertEquals("uvvadswzsnu", model.script());
        Assertions.assertEquals("mlowuowhl", model.scriptUri());
        Assertions.assertEquals("nwyrmouv", model.commandId());
        Assertions.assertEquals("mo", model.scriptUriManagedIdentity().clientId());
        Assertions.assertEquals("kltrfow", model.scriptUriManagedIdentity().objectId());
        Assertions.assertEquals(ScriptShellTypes.POWERSHELL7, model.scriptShell());
        Assertions.assertEquals("fmvlihcvjdrqc", model.galleryScriptReferenceId());
    }
}
