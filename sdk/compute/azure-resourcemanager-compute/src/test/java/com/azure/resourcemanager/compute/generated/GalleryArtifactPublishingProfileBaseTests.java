// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.AdditionalReplicaSet;
import com.azure.resourcemanager.compute.models.ConfidentialVMEncryptionType;
import com.azure.resourcemanager.compute.models.DataDiskImageEncryption;
import com.azure.resourcemanager.compute.models.EdgeZoneStorageAccountType;
import com.azure.resourcemanager.compute.models.EncryptionImages;
import com.azure.resourcemanager.compute.models.GalleryArtifactPublishingProfileBase;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocation;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocationType;
import com.azure.resourcemanager.compute.models.GalleryTargetExtendedLocation;
import com.azure.resourcemanager.compute.models.OSDiskImageEncryption;
import com.azure.resourcemanager.compute.models.OSDiskImageSecurityProfile;
import com.azure.resourcemanager.compute.models.ReplicationMode;
import com.azure.resourcemanager.compute.models.StorageAccountStrategy;
import com.azure.resourcemanager.compute.models.StorageAccountType;
import com.azure.resourcemanager.compute.models.TargetRegion;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class GalleryArtifactPublishingProfileBaseTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryArtifactPublishingProfileBase model = BinaryData.fromString(
            "{\"targetRegions\":[{\"name\":\"z\",\"regionalReplicaCount\":2022665583,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"EncryptedVMGuestStateOnlyWithPmk\",\"secureVMDiskEncryptionSetId\":\"sgwqpsqaz\"},\"diskEncryptionSetId\":\"qodvqgcnbhcbmj\"},\"dataDiskImages\":[{\"lun\":1943363798,\"diskEncryptionSetId\":\"n\"}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{\"storageAccountType\":\"Premium_LRS\",\"regionalReplicaCount\":1928295900},{\"storageAccountType\":\"Premium_LRS\",\"regionalReplicaCount\":823024082},{\"storageAccountType\":\"Standard_LRS\",\"regionalReplicaCount\":1336805960},{\"storageAccountType\":\"Premium_LRS\",\"regionalReplicaCount\":1369210689}]}],\"replicaCount\":852790830,\"excludeFromLatest\":false,\"publishedDate\":\"2021-04-12T04:58:23Z\",\"endOfLifeDate\":\"2021-02-07T17:59:50Z\",\"storageAccountType\":\"Standard_LRS\",\"replicationMode\":\"Full\",\"targetExtendedLocations\":[{\"name\":\"ogxhcxn\",\"extendedLocation\":{\"name\":\"pfdzxcouzfwofw\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":519620344,\"storageAccountType\":\"Standard_ZRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"NonPersistedTPM\",\"secureVMDiskEncryptionSetId\":\"dnlwglihezomuc\"},\"diskEncryptionSetId\":\"g\"},\"dataDiskImages\":[{\"lun\":2060319146,\"diskEncryptionSetId\":\"netbzdrdpuenxkgt\"},{\"lun\":748243362,\"diskEncryptionSetId\":\"mtrlxczn\"}]}},{\"name\":\"zkbnbmxl\",\"extendedLocation\":{\"name\":\"tygeqzus\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":1824623484,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"NonPersistedTPM\",\"secureVMDiskEncryptionSetId\":\"lreesrfwsszvlcwl\"},\"diskEncryptionSetId\":\"olntfx\"},\"dataDiskImages\":[{\"lun\":1496562426,\"diskEncryptionSetId\":\"ipfjwfoygizmshx\"},{\"lun\":2040101098,\"diskEncryptionSetId\":\"iz\"},{\"lun\":1800658940,\"diskEncryptionSetId\":\"lnvgskjtoxjdz\"}]}},{\"name\":\"jznvhxqqmq\",\"extendedLocation\":{\"name\":\"y\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":1636963902,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"EncryptedWithPmk\",\"secureVMDiskEncryptionSetId\":\"k\"},\"diskEncryptionSetId\":\"yzmspamwbwmbnl\"},\"dataDiskImages\":[{\"lun\":644063765,\"diskEncryptionSetId\":\"iqdktwtkvih\"},{\"lun\":1549040711,\"diskEncryptionSetId\":\"liwoyngu\"}]}}],\"storageAccountStrategy\":\"PreferStandard_ZRS\"}")
            .toObject(GalleryArtifactPublishingProfileBase.class);
        Assertions.assertEquals("z", model.targetRegions().get(0).name());
        Assertions.assertEquals(2022665583, model.targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.targetRegions().get(0).storageAccountType());
        Assertions.assertEquals("qodvqgcnbhcbmj",
            model.targetRegions().get(0).encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.ENCRYPTED_VMGUEST_STATE_ONLY_WITH_PMK,
            model.targetRegions().get(0).encryption().osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("sgwqpsqaz",
            model.targetRegions().get(0).encryption().osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("n",
            model.targetRegions().get(0).encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(1943363798, model.targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(StorageAccountType.PREMIUM_LRS,
            model.targetRegions().get(0).additionalReplicaSets().get(0).storageAccountType());
        Assertions.assertEquals(1928295900,
            model.targetRegions().get(0).additionalReplicaSets().get(0).regionalReplicaCount());
        Assertions.assertEquals(852790830, model.replicaCount());
        Assertions.assertFalse(model.excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-07T17:59:50Z"), model.endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.storageAccountType());
        Assertions.assertEquals(ReplicationMode.FULL, model.replicationMode());
        Assertions.assertEquals("ogxhcxn", model.targetExtendedLocations().get(0).name());
        Assertions.assertEquals("pfdzxcouzfwofw", model.targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(519620344, model.targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.STANDARD_ZRS,
            model.targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals("g",
            model.targetExtendedLocations().get(0).encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.NON_PERSISTED_TPM,
            model.targetExtendedLocations()
                .get(0)
                .encryption()
                .osDiskImage()
                .securityProfile()
                .confidentialVMEncryptionType());
        Assertions.assertEquals("dnlwglihezomuc",
            model.targetExtendedLocations()
                .get(0)
                .encryption()
                .osDiskImage()
                .securityProfile()
                .secureVMDiskEncryptionSetId());
        Assertions.assertEquals("netbzdrdpuenxkgt",
            model.targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(2060319146,
            model.targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertEquals(StorageAccountStrategy.PREFER_STANDARD_ZRS, model.storageAccountStrategy());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryArtifactPublishingProfileBase model = new GalleryArtifactPublishingProfileBase()
            .withTargetRegions(Arrays.asList(new TargetRegion().withName("z")
                .withRegionalReplicaCount(2022665583)
                .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                .withEncryption(new EncryptionImages()
                    .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("qodvqgcnbhcbmj")
                        .withSecurityProfile(new OSDiskImageSecurityProfile()
                            .withConfidentialVMEncryptionType(
                                ConfidentialVMEncryptionType.ENCRYPTED_VMGUEST_STATE_ONLY_WITH_PMK)
                            .withSecureVMDiskEncryptionSetId("sgwqpsqaz")))
                    .withDataDiskImages(
                        Arrays.asList(new DataDiskImageEncryption().withDiskEncryptionSetId("n").withLun(1943363798))))
                .withExcludeFromLatest(true)
                .withAdditionalReplicaSets(Arrays.asList(
                    new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                        .withRegionalReplicaCount(1928295900),
                    new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                        .withRegionalReplicaCount(823024082),
                    new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.STANDARD_LRS)
                        .withRegionalReplicaCount(1336805960),
                    new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                        .withRegionalReplicaCount(1369210689)))))
            .withReplicaCount(852790830)
            .withExcludeFromLatest(false)
            .withEndOfLifeDate(OffsetDateTime.parse("2021-02-07T17:59:50Z"))
            .withStorageAccountType(StorageAccountType.STANDARD_LRS)
            .withReplicationMode(ReplicationMode.FULL)
            .withTargetExtendedLocations(
                Arrays
                    .asList(
                        new GalleryTargetExtendedLocation().withName("ogxhcxn")
                            .withExtendedLocation(new GalleryExtendedLocation().withName("pfdzxcouzfwofw")
                                .withType(GalleryExtendedLocationType.EDGE_ZONE))
                            .withExtendedLocationReplicaCount(519620344)
                            .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_ZRS)
                            .withEncryption(new EncryptionImages()
                                .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("g")
                                    .withSecurityProfile(new OSDiskImageSecurityProfile()
                                        .withConfidentialVMEncryptionType(
                                            ConfidentialVMEncryptionType.NON_PERSISTED_TPM)
                                        .withSecureVMDiskEncryptionSetId("dnlwglihezomuc")))
                                .withDataDiskImages(
                                    Arrays.asList(
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("netbzdrdpuenxkgt")
                                            .withLun(2060319146),
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("mtrlxczn")
                                            .withLun(748243362)))),
                        new GalleryTargetExtendedLocation().withName("zkbnbmxl")
                            .withExtendedLocation(new GalleryExtendedLocation().withName("tygeqzus")
                                .withType(GalleryExtendedLocationType.EDGE_ZONE))
                            .withExtendedLocationReplicaCount(1824623484)
                            .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_LRS)
                            .withEncryption(new EncryptionImages()
                                .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("olntfx")
                                    .withSecurityProfile(new OSDiskImageSecurityProfile()
                                        .withConfidentialVMEncryptionType(
                                            ConfidentialVMEncryptionType.NON_PERSISTED_TPM)
                                        .withSecureVMDiskEncryptionSetId("lreesrfwsszvlcwl")))
                                .withDataDiskImages(Arrays
                                    .asList(
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("ipfjwfoygizmshx")
                                            .withLun(1496562426),
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("iz").withLun(2040101098),
                                        new DataDiskImageEncryption().withDiskEncryptionSetId("lnvgskjtoxjdz")
                                            .withLun(1800658940)))),
                        new GalleryTargetExtendedLocation().withName("jznvhxqqmq")
                            .withExtendedLocation(new GalleryExtendedLocation().withName("y")
                                .withType(GalleryExtendedLocationType.EDGE_ZONE))
                            .withExtendedLocationReplicaCount(1636963902)
                            .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_LRS)
                            .withEncryption(new EncryptionImages()
                                .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("yzmspamwbwmbnl")
                                    .withSecurityProfile(new OSDiskImageSecurityProfile()
                                        .withConfidentialVMEncryptionType(
                                            ConfidentialVMEncryptionType.ENCRYPTED_WITH_PMK)
                                        .withSecureVMDiskEncryptionSetId("k")))
                                .withDataDiskImages(Arrays.asList(
                                    new DataDiskImageEncryption().withDiskEncryptionSetId("iqdktwtkvih")
                                        .withLun(644063765),
                                    new DataDiskImageEncryption().withDiskEncryptionSetId("liwoyngu")
                                        .withLun(1549040711))))))
            .withStorageAccountStrategy(StorageAccountStrategy.PREFER_STANDARD_ZRS);
        model = BinaryData.fromObject(model).toObject(GalleryArtifactPublishingProfileBase.class);
        Assertions.assertEquals("z", model.targetRegions().get(0).name());
        Assertions.assertEquals(2022665583, model.targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.targetRegions().get(0).storageAccountType());
        Assertions.assertEquals("qodvqgcnbhcbmj",
            model.targetRegions().get(0).encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.ENCRYPTED_VMGUEST_STATE_ONLY_WITH_PMK,
            model.targetRegions().get(0).encryption().osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("sgwqpsqaz",
            model.targetRegions().get(0).encryption().osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("n",
            model.targetRegions().get(0).encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(1943363798, model.targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(StorageAccountType.PREMIUM_LRS,
            model.targetRegions().get(0).additionalReplicaSets().get(0).storageAccountType());
        Assertions.assertEquals(1928295900,
            model.targetRegions().get(0).additionalReplicaSets().get(0).regionalReplicaCount());
        Assertions.assertEquals(852790830, model.replicaCount());
        Assertions.assertFalse(model.excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-07T17:59:50Z"), model.endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.storageAccountType());
        Assertions.assertEquals(ReplicationMode.FULL, model.replicationMode());
        Assertions.assertEquals("ogxhcxn", model.targetExtendedLocations().get(0).name());
        Assertions.assertEquals("pfdzxcouzfwofw", model.targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(519620344, model.targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.STANDARD_ZRS,
            model.targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals("g",
            model.targetExtendedLocations().get(0).encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.NON_PERSISTED_TPM,
            model.targetExtendedLocations()
                .get(0)
                .encryption()
                .osDiskImage()
                .securityProfile()
                .confidentialVMEncryptionType());
        Assertions.assertEquals("dnlwglihezomuc",
            model.targetExtendedLocations()
                .get(0)
                .encryption()
                .osDiskImage()
                .securityProfile()
                .secureVMDiskEncryptionSetId());
        Assertions.assertEquals("netbzdrdpuenxkgt",
            model.targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(2060319146,
            model.targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertEquals(StorageAccountStrategy.PREFER_STANDARD_ZRS, model.storageAccountStrategy());
    }
}
