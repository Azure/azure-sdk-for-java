// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.GalleryApplicationVersionInner;
import com.azure.resourcemanager.compute.models.AdditionalReplicaSet;
import com.azure.resourcemanager.compute.models.DataDiskImageEncryption;
import com.azure.resourcemanager.compute.models.EdgeZoneStorageAccountType;
import com.azure.resourcemanager.compute.models.EncryptionImages;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomAction;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomActionParameter;
import com.azure.resourcemanager.compute.models.GalleryApplicationScriptRebootBehavior;
import com.azure.resourcemanager.compute.models.GalleryApplicationVersionPublishingProfile;
import com.azure.resourcemanager.compute.models.GalleryApplicationVersionSafetyProfile;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocation;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocationType;
import com.azure.resourcemanager.compute.models.GalleryTargetExtendedLocation;
import com.azure.resourcemanager.compute.models.OSDiskImageEncryption;
import com.azure.resourcemanager.compute.models.ReplicationMode;
import com.azure.resourcemanager.compute.models.StorageAccountStrategy;
import com.azure.resourcemanager.compute.models.StorageAccountType;
import com.azure.resourcemanager.compute.models.TargetRegion;
import com.azure.resourcemanager.compute.models.UserArtifactManage;
import com.azure.resourcemanager.compute.models.UserArtifactSettings;
import com.azure.resourcemanager.compute.models.UserArtifactSource;
import java.time.OffsetDateTime;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class GalleryApplicationVersionInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryApplicationVersionInner model = BinaryData.fromString(
            "{\"properties\":{\"publishingProfile\":{\"source\":{\"mediaLink\":\"ljphraspifleimi\",\"defaultConfigurationLink\":\"mdbgi\"},\"manageActions\":{\"install\":\"hfgsmd\",\"remove\":\"juqbpx\",\"update\":\"kljmtznpaxwfq\"},\"settings\":{\"packageFileName\":\"qi\",\"configFileName\":\"cltungbso\",\"scriptBehaviorAfterReboot\":\"None\"},\"advancedSettings\":{\"kuckgkdskswtiiq\":\"iigz\",\"lnssw\":\"cqikclsm\"},\"enableHealthCheck\":true,\"customActions\":[{\"name\":\"onaaxwmgzrujlqc\",\"script\":\"ny\",\"description\":\"lei\",\"parameters\":[{\"name\":\"bgvsbtsertoxadh\"},{\"name\":\"uvjhxmnrqstjc\"}]},{\"name\":\"etwmlgicvnp\",\"script\":\"vdhgjnaqyqip\",\"description\":\"zmvc\",\"parameters\":[{\"name\":\"mwbitekdtfo\"}]},{\"name\":\"vfiybxqichgyb\",\"script\":\"zdqekivycpzcvd\",\"description\":\"ulrqtbht\",\"parameters\":[{\"name\":\"pzl\"},{\"name\":\"ryfmxmdu\"}]}],\"targetRegions\":[{\"name\":\"kgilnoudccgnd\",\"regionalReplicaCount\":2066921492,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1966845044},{\"lun\":542096212}]},\"excludeFromLatest\":false,\"additionalReplicaSets\":[{},{},{}]},{\"name\":\"buu\",\"regionalReplicaCount\":797374219,\"storageAccountType\":\"Premium_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":83849622}]},\"excludeFromLatest\":false,\"additionalReplicaSets\":[{},{},{}]},{\"name\":\"cyohigimwdcs\",\"regionalReplicaCount\":1412920858,\"storageAccountType\":\"Premium_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":278271308},{\"lun\":204730263}]},\"excludeFromLatest\":false,\"additionalReplicaSets\":[{},{},{}]},{\"name\":\"ecuyr\",\"regionalReplicaCount\":570583148,\"storageAccountType\":\"Premium_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1205231365},{\"lun\":221304519},{\"lun\":1892737026},{\"lun\":1635857435}]},\"excludeFromLatest\":false,\"additionalReplicaSets\":[{}]}],\"replicaCount\":763832979,\"excludeFromLatest\":false,\"publishedDate\":\"2021-10-21T19:04:35Z\",\"endOfLifeDate\":\"2021-08-08T02:04:21Z\",\"storageAccountType\":\"Standard_ZRS\",\"replicationMode\":\"Shallow\",\"targetExtendedLocations\":[{\"name\":\"atlzmg\",\"extendedLocation\":{\"name\":\"nzrsbkkzovlzdmn\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":464620773,\"storageAccountType\":\"Standard_ZRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1386264221},{\"lun\":1419228296},{\"lun\":1035121753}]}},{\"name\":\"mmovzwd\",\"extendedLocation\":{\"name\":\"kmvhzfo\",\"type\":\"Unknown\"},\"extendedLocationReplicaCount\":944959937,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1662373037}]}},{\"name\":\"gwewikfyaqand\",\"extendedLocation\":{\"name\":\"n\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":931337231,\"storageAccountType\":\"Standard_ZRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":2111371683},{\"lun\":1048668275},{\"lun\":1023839887}]}}],\"storageAccountStrategy\":\"PreferStandard_ZRS\"},\"safetyProfile\":{\"allowDeletionOfReplicatedLocations\":false},\"provisioningState\":\"Failed\",\"replicationStatus\":{\"aggregatedState\":\"Completed\",\"summary\":[{\"region\":\"oxfaxdtn\",\"state\":\"Replicating\",\"details\":\"satroia\",\"progress\":574618809},{\"region\":\"gmocpcjycboelrgt\",\"state\":\"Completed\",\"details\":\"dsiuorin\",\"progress\":1949455088}]}},\"location\":\"dpk\",\"tags\":{\"vyczyayubt\":\"wmmtmqrxrzq\"},\"id\":\"mbxiqahra\",\"name\":\"pxmib\",\"type\":\"lnupoyryefqmw\"}")
            .toObject(GalleryApplicationVersionInner.class);
        Assertions.assertEquals("dpk", model.location());
        Assertions.assertEquals("wmmtmqrxrzq", model.tags().get("vyczyayubt"));
        Assertions.assertEquals("kgilnoudccgnd", model.publishingProfile().targetRegions().get(0).name());
        Assertions.assertEquals(2066921492, model.publishingProfile().targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS,
            model.publishingProfile().targetRegions().get(0).storageAccountType());
        Assertions.assertEquals(1966845044,
            model.publishingProfile().targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertFalse(model.publishingProfile().targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(763832979, model.publishingProfile().replicaCount());
        Assertions.assertFalse(model.publishingProfile().excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-08T02:04:21Z"),
            model.publishingProfile().endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.STANDARD_ZRS, model.publishingProfile().storageAccountType());
        Assertions.assertEquals(ReplicationMode.SHALLOW, model.publishingProfile().replicationMode());
        Assertions.assertEquals("atlzmg", model.publishingProfile().targetExtendedLocations().get(0).name());
        Assertions.assertEquals("nzrsbkkzovlzdmn",
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(464620773,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.STANDARD_ZRS,
            model.publishingProfile().targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals(1386264221,
            model.publishingProfile().targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertEquals(StorageAccountStrategy.PREFER_STANDARD_ZRS,
            model.publishingProfile().storageAccountStrategy());
        Assertions.assertEquals("ljphraspifleimi", model.publishingProfile().source().mediaLink());
        Assertions.assertEquals("mdbgi", model.publishingProfile().source().defaultConfigurationLink());
        Assertions.assertEquals("hfgsmd", model.publishingProfile().manageActions().install());
        Assertions.assertEquals("juqbpx", model.publishingProfile().manageActions().remove());
        Assertions.assertEquals("kljmtznpaxwfq", model.publishingProfile().manageActions().update());
        Assertions.assertEquals("qi", model.publishingProfile().settings().packageFileName());
        Assertions.assertEquals("cltungbso", model.publishingProfile().settings().configFileName());
        Assertions.assertEquals(GalleryApplicationScriptRebootBehavior.NONE,
            model.publishingProfile().settings().scriptBehaviorAfterReboot());
        Assertions.assertEquals("iigz", model.publishingProfile().advancedSettings().get("kuckgkdskswtiiq"));
        Assertions.assertTrue(model.publishingProfile().enableHealthCheck());
        Assertions.assertEquals("onaaxwmgzrujlqc", model.publishingProfile().customActions().get(0).name());
        Assertions.assertEquals("ny", model.publishingProfile().customActions().get(0).script());
        Assertions.assertEquals("lei", model.publishingProfile().customActions().get(0).description());
        Assertions.assertEquals("bgvsbtsertoxadh",
            model.publishingProfile().customActions().get(0).parameters().get(0).name());
        Assertions.assertFalse(model.safetyProfile().allowDeletionOfReplicatedLocations());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryApplicationVersionInner model = new GalleryApplicationVersionInner().withLocation("dpk")
            .withTags(mapOf("vyczyayubt", "wmmtmqrxrzq"))
            .withPublishingProfile(new GalleryApplicationVersionPublishingProfile()
                .withTargetRegions(Arrays.asList(
                    new TargetRegion().withName("kgilnoudccgnd")
                        .withRegionalReplicaCount(2066921492)
                        .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                        .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                            .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1966845044),
                                new DataDiskImageEncryption().withLun(542096212))))
                        .withExcludeFromLatest(false)
                        .withAdditionalReplicaSets(Arrays.asList(new AdditionalReplicaSet(), new AdditionalReplicaSet(),
                            new AdditionalReplicaSet())),
                    new TargetRegion().withName("buu")
                        .withRegionalReplicaCount(797374219)
                        .withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                        .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                            .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(83849622))))
                        .withExcludeFromLatest(false)
                        .withAdditionalReplicaSets(Arrays.asList(new AdditionalReplicaSet(), new AdditionalReplicaSet(),
                            new AdditionalReplicaSet())),
                    new TargetRegion().withName("cyohigimwdcs")
                        .withRegionalReplicaCount(1412920858)
                        .withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                        .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                            .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(278271308),
                                new DataDiskImageEncryption().withLun(204730263))))
                        .withExcludeFromLatest(false)
                        .withAdditionalReplicaSets(Arrays.asList(new AdditionalReplicaSet(), new AdditionalReplicaSet(),
                            new AdditionalReplicaSet())),
                    new TargetRegion().withName("ecuyr")
                        .withRegionalReplicaCount(570583148)
                        .withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                        .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                            .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1205231365),
                                new DataDiskImageEncryption().withLun(221304519),
                                new DataDiskImageEncryption().withLun(1892737026),
                                new DataDiskImageEncryption().withLun(1635857435))))
                        .withExcludeFromLatest(false)
                        .withAdditionalReplicaSets(Arrays.asList(new AdditionalReplicaSet()))))
                .withReplicaCount(763832979)
                .withExcludeFromLatest(false)
                .withEndOfLifeDate(OffsetDateTime.parse("2021-08-08T02:04:21Z"))
                .withStorageAccountType(StorageAccountType.STANDARD_ZRS)
                .withReplicationMode(ReplicationMode.SHALLOW)
                .withTargetExtendedLocations(Arrays.asList(
                    new GalleryTargetExtendedLocation().withName("atlzmg")
                        .withExtendedLocation(new GalleryExtendedLocation().withName("nzrsbkkzovlzdmn")
                            .withType(GalleryExtendedLocationType.EDGE_ZONE))
                        .withExtendedLocationReplicaCount(464620773)
                        .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_ZRS)
                        .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                            .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1386264221),
                                new DataDiskImageEncryption().withLun(1419228296),
                                new DataDiskImageEncryption().withLun(1035121753)))),
                    new GalleryTargetExtendedLocation().withName("mmovzwd")
                        .withExtendedLocation(new GalleryExtendedLocation().withName("kmvhzfo")
                            .withType(GalleryExtendedLocationType.UNKNOWN))
                        .withExtendedLocationReplicaCount(944959937)
                        .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_LRS)
                        .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                            .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1662373037)))),
                    new GalleryTargetExtendedLocation().withName("gwewikfyaqand")
                        .withExtendedLocation(
                            new GalleryExtendedLocation().withName("n").withType(GalleryExtendedLocationType.EDGE_ZONE))
                        .withExtendedLocationReplicaCount(931337231)
                        .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_ZRS)
                        .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                            .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(2111371683),
                                new DataDiskImageEncryption().withLun(1048668275),
                                new DataDiskImageEncryption().withLun(1023839887))))))
                .withStorageAccountStrategy(StorageAccountStrategy.PREFER_STANDARD_ZRS)
                .withSource(
                    new UserArtifactSource().withMediaLink("ljphraspifleimi").withDefaultConfigurationLink("mdbgi"))
                .withManageActions(
                    new UserArtifactManage().withInstall("hfgsmd").withRemove("juqbpx").withUpdate("kljmtznpaxwfq"))
                .withSettings(new UserArtifactSettings().withPackageFileName("qi")
                    .withConfigFileName("cltungbso")
                    .withScriptBehaviorAfterReboot(GalleryApplicationScriptRebootBehavior.NONE))
                .withAdvancedSettings(mapOf("kuckgkdskswtiiq", "iigz", "lnssw", "cqikclsm"))
                .withEnableHealthCheck(true)
                .withCustomActions(
                    Arrays
                        .asList(
                            new GalleryApplicationCustomAction().withName("onaaxwmgzrujlqc")
                                .withScript("ny")
                                .withDescription("lei")
                                .withParameters(Arrays.asList(
                                    new GalleryApplicationCustomActionParameter().withName("bgvsbtsertoxadh"),
                                    new GalleryApplicationCustomActionParameter().withName("uvjhxmnrqstjc"))),
                            new GalleryApplicationCustomAction().withName("etwmlgicvnp")
                                .withScript("vdhgjnaqyqip")
                                .withDescription("zmvc")
                                .withParameters(Arrays
                                    .asList(new GalleryApplicationCustomActionParameter().withName("mwbitekdtfo"))),
                            new GalleryApplicationCustomAction().withName("vfiybxqichgyb")
                                .withScript("zdqekivycpzcvd")
                                .withDescription("ulrqtbht")
                                .withParameters(
                                    Arrays.asList(new GalleryApplicationCustomActionParameter().withName("pzl"),
                                        new GalleryApplicationCustomActionParameter().withName("ryfmxmdu"))))))
            .withSafetyProfile(
                new GalleryApplicationVersionSafetyProfile().withAllowDeletionOfReplicatedLocations(false));
        model = BinaryData.fromObject(model).toObject(GalleryApplicationVersionInner.class);
        Assertions.assertEquals("dpk", model.location());
        Assertions.assertEquals("wmmtmqrxrzq", model.tags().get("vyczyayubt"));
        Assertions.assertEquals("kgilnoudccgnd", model.publishingProfile().targetRegions().get(0).name());
        Assertions.assertEquals(2066921492, model.publishingProfile().targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS,
            model.publishingProfile().targetRegions().get(0).storageAccountType());
        Assertions.assertEquals(1966845044,
            model.publishingProfile().targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertFalse(model.publishingProfile().targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(763832979, model.publishingProfile().replicaCount());
        Assertions.assertFalse(model.publishingProfile().excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-08T02:04:21Z"),
            model.publishingProfile().endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.STANDARD_ZRS, model.publishingProfile().storageAccountType());
        Assertions.assertEquals(ReplicationMode.SHALLOW, model.publishingProfile().replicationMode());
        Assertions.assertEquals("atlzmg", model.publishingProfile().targetExtendedLocations().get(0).name());
        Assertions.assertEquals("nzrsbkkzovlzdmn",
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(464620773,
            model.publishingProfile().targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.STANDARD_ZRS,
            model.publishingProfile().targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals(1386264221,
            model.publishingProfile().targetExtendedLocations().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertEquals(StorageAccountStrategy.PREFER_STANDARD_ZRS,
            model.publishingProfile().storageAccountStrategy());
        Assertions.assertEquals("ljphraspifleimi", model.publishingProfile().source().mediaLink());
        Assertions.assertEquals("mdbgi", model.publishingProfile().source().defaultConfigurationLink());
        Assertions.assertEquals("hfgsmd", model.publishingProfile().manageActions().install());
        Assertions.assertEquals("juqbpx", model.publishingProfile().manageActions().remove());
        Assertions.assertEquals("kljmtznpaxwfq", model.publishingProfile().manageActions().update());
        Assertions.assertEquals("qi", model.publishingProfile().settings().packageFileName());
        Assertions.assertEquals("cltungbso", model.publishingProfile().settings().configFileName());
        Assertions.assertEquals(GalleryApplicationScriptRebootBehavior.NONE,
            model.publishingProfile().settings().scriptBehaviorAfterReboot());
        Assertions.assertEquals("iigz", model.publishingProfile().advancedSettings().get("kuckgkdskswtiiq"));
        Assertions.assertTrue(model.publishingProfile().enableHealthCheck());
        Assertions.assertEquals("onaaxwmgzrujlqc", model.publishingProfile().customActions().get(0).name());
        Assertions.assertEquals("ny", model.publishingProfile().customActions().get(0).script());
        Assertions.assertEquals("lei", model.publishingProfile().customActions().get(0).description());
        Assertions.assertEquals("bgvsbtsertoxadh",
            model.publishingProfile().customActions().get(0).parameters().get(0).name());
        Assertions.assertFalse(model.safetyProfile().allowDeletionOfReplicatedLocations());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
