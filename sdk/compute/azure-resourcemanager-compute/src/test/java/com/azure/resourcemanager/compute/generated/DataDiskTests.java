// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.ApiEntityReference;
import com.azure.resourcemanager.compute.models.CachingTypes;
import com.azure.resourcemanager.compute.models.DataDisk;
import com.azure.resourcemanager.compute.models.DiskCreateOptionTypes;
import com.azure.resourcemanager.compute.models.DiskDeleteOptionTypes;
import com.azure.resourcemanager.compute.models.DiskDetachOptionTypes;
import com.azure.resourcemanager.compute.models.DiskEncryptionSetParameters;
import com.azure.resourcemanager.compute.models.ManagedDiskParameters;
import com.azure.resourcemanager.compute.models.SecurityEncryptionTypes;
import com.azure.resourcemanager.compute.models.StorageAccountTypes;
import com.azure.resourcemanager.compute.models.VMDiskSecurityProfile;
import com.azure.resourcemanager.compute.models.VirtualHardDisk;
import org.junit.jupiter.api.Assertions;

public final class DataDiskTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DataDisk model = BinaryData.fromString(
            "{\"lun\":1219308694,\"name\":\"qfkuvscxkdmli\",\"vhd\":{\"uri\":\"ibrxkp\"},\"image\":{\"uri\":\"azur\"},\"caching\":\"ReadWrite\",\"writeAcceleratorEnabled\":false,\"createOption\":\"FromImage\",\"diskSizeGB\":293589117,\"managedDisk\":{\"storageAccountType\":\"Premium_ZRS\",\"diskEncryptionSet\":{\"id\":\"bfhjxakvvjgsl\"},\"securityProfile\":{\"securityEncryptionType\":\"NonPersistedTPM\",\"diskEncryptionSet\":{\"id\":\"yw\"}},\"id\":\"kgkxn\"},\"sourceResource\":{\"id\":\"abgyvudt\"},\"toBeDetached\":true,\"diskIOPSReadWrite\":1545235790677448459,\"diskMBpsReadWrite\":9033865557502512110,\"detachOption\":\"ForceDetach\",\"deleteOption\":\"Delete\"}")
            .toObject(DataDisk.class);
        Assertions.assertEquals(1219308694, model.lun());
        Assertions.assertEquals("qfkuvscxkdmli", model.name());
        Assertions.assertEquals("ibrxkp", model.vhd().uri());
        Assertions.assertEquals("azur", model.image().uri());
        Assertions.assertEquals(CachingTypes.READ_WRITE, model.caching());
        Assertions.assertFalse(model.writeAcceleratorEnabled());
        Assertions.assertEquals(DiskCreateOptionTypes.FROM_IMAGE, model.createOption());
        Assertions.assertEquals(293589117, model.diskSizeGB());
        Assertions.assertEquals("kgkxn", model.managedDisk().id());
        Assertions.assertEquals(StorageAccountTypes.PREMIUM_ZRS, model.managedDisk().storageAccountType());
        Assertions.assertEquals("bfhjxakvvjgsl", model.managedDisk().diskEncryptionSet().id());
        Assertions.assertEquals(SecurityEncryptionTypes.NON_PERSISTED_TPM,
            model.managedDisk().securityProfile().securityEncryptionType());
        Assertions.assertEquals("yw", model.managedDisk().securityProfile().diskEncryptionSet().id());
        Assertions.assertEquals("abgyvudt", model.sourceResource().id());
        Assertions.assertTrue(model.toBeDetached());
        Assertions.assertEquals(1545235790677448459L, model.diskIopsReadWrite());
        Assertions.assertEquals(9033865557502512110L, model.diskMBpsReadWrite());
        Assertions.assertEquals(DiskDetachOptionTypes.FORCE_DETACH, model.detachOption());
        Assertions.assertEquals(DiskDeleteOptionTypes.DELETE, model.deleteOption());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DataDisk model
            = new DataDisk().withLun(1219308694)
                .withName("qfkuvscxkdmli")
                .withVhd(new VirtualHardDisk().withUri("ibrxkp"))
                .withImage(new VirtualHardDisk().withUri("azur"))
                .withCaching(CachingTypes.READ_WRITE)
                .withWriteAcceleratorEnabled(false)
                .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                .withDiskSizeGB(293589117)
                .withManagedDisk(new ManagedDiskParameters().withId("kgkxn")
                    .withStorageAccountType(StorageAccountTypes.PREMIUM_ZRS)
                    .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId("bfhjxakvvjgsl"))
                    .withSecurityProfile(new VMDiskSecurityProfile()
                        .withSecurityEncryptionType(SecurityEncryptionTypes.NON_PERSISTED_TPM)
                        .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId("yw"))))
                .withSourceResource(new ApiEntityReference().withId("abgyvudt"))
                .withToBeDetached(true)
                .withDiskIopsReadWrite(1545235790677448459L)
                .withDiskMBpsReadWrite(9033865557502512110L)
                .withDetachOption(DiskDetachOptionTypes.FORCE_DETACH)
                .withDeleteOption(DiskDeleteOptionTypes.DELETE);
        model = BinaryData.fromObject(model).toObject(DataDisk.class);
        Assertions.assertEquals(1219308694, model.lun());
        Assertions.assertEquals("qfkuvscxkdmli", model.name());
        Assertions.assertEquals("ibrxkp", model.vhd().uri());
        Assertions.assertEquals("azur", model.image().uri());
        Assertions.assertEquals(CachingTypes.READ_WRITE, model.caching());
        Assertions.assertFalse(model.writeAcceleratorEnabled());
        Assertions.assertEquals(DiskCreateOptionTypes.FROM_IMAGE, model.createOption());
        Assertions.assertEquals(293589117, model.diskSizeGB());
        Assertions.assertEquals("kgkxn", model.managedDisk().id());
        Assertions.assertEquals(StorageAccountTypes.PREMIUM_ZRS, model.managedDisk().storageAccountType());
        Assertions.assertEquals("bfhjxakvvjgsl", model.managedDisk().diskEncryptionSet().id());
        Assertions.assertEquals(SecurityEncryptionTypes.NON_PERSISTED_TPM,
            model.managedDisk().securityProfile().securityEncryptionType());
        Assertions.assertEquals("yw", model.managedDisk().securityProfile().diskEncryptionSet().id());
        Assertions.assertEquals("abgyvudt", model.sourceResource().id());
        Assertions.assertTrue(model.toBeDetached());
        Assertions.assertEquals(1545235790677448459L, model.diskIopsReadWrite());
        Assertions.assertEquals(9033865557502512110L, model.diskMBpsReadWrite());
        Assertions.assertEquals(DiskDetachOptionTypes.FORCE_DETACH, model.detachOption());
        Assertions.assertEquals(DiskDeleteOptionTypes.DELETE, model.deleteOption());
    }
}
