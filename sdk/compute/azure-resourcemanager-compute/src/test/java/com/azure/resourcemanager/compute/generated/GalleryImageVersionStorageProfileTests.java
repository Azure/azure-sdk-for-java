// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.GalleryArtifactVersionFullSource;
import com.azure.resourcemanager.compute.models.GalleryDataDiskImage;
import com.azure.resourcemanager.compute.models.GalleryDiskImageSource;
import com.azure.resourcemanager.compute.models.GalleryImageVersionStorageProfile;
import com.azure.resourcemanager.compute.models.GalleryOSDiskImage;
import com.azure.resourcemanager.compute.models.HostCaching;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class GalleryImageVersionStorageProfileTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryImageVersionStorageProfile model = BinaryData.fromString(
            "{\"source\":{\"communityGalleryImageId\":\"ajodmkrrwepgqvqo\",\"virtualMachineId\":\"lujqgi\",\"id\":\"bwlyvxc\"},\"osDiskImage\":{\"sizeInGB\":443350085,\"hostCaching\":\"ReadWrite\",\"source\":{\"uri\":\"aeuhwwsknstvz\",\"storageAccountId\":\"hasupmlppdpgzvz\",\"id\":\"z\"}},\"dataDiskImages\":[{\"lun\":1991415189,\"sizeInGB\":777814867,\"hostCaching\":\"None\",\"source\":{\"uri\":\"ngru\",\"storageAccountId\":\"s\",\"id\":\"y\"}},{\"lun\":1907449529,\"sizeInGB\":1401114997,\"hostCaching\":\"ReadOnly\",\"source\":{\"uri\":\"beqngubabyjde\",\"storageAccountId\":\"sc\",\"id\":\"ydzjemexm\"}}]}")
            .toObject(GalleryImageVersionStorageProfile.class);
        Assertions.assertEquals("bwlyvxc", model.source().id());
        Assertions.assertEquals("ajodmkrrwepgqvqo", model.source().communityGalleryImageId());
        Assertions.assertEquals("lujqgi", model.source().virtualMachineId());
        Assertions.assertEquals(HostCaching.READ_WRITE, model.osDiskImage().hostCaching());
        Assertions.assertEquals("z", model.osDiskImage().source().id());
        Assertions.assertEquals("aeuhwwsknstvz", model.osDiskImage().source().uri());
        Assertions.assertEquals("hasupmlppdpgzvz", model.osDiskImage().source().storageAccountId());
        Assertions.assertEquals(HostCaching.NONE, model.dataDiskImages().get(0).hostCaching());
        Assertions.assertEquals("y", model.dataDiskImages().get(0).source().id());
        Assertions.assertEquals("ngru", model.dataDiskImages().get(0).source().uri());
        Assertions.assertEquals("s", model.dataDiskImages().get(0).source().storageAccountId());
        Assertions.assertEquals(1991415189, model.dataDiskImages().get(0).lun());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryImageVersionStorageProfile model
            = new GalleryImageVersionStorageProfile()
                .withSource(new GalleryArtifactVersionFullSource().withId("bwlyvxc")
                    .withCommunityGalleryImageId("ajodmkrrwepgqvqo")
                    .withVirtualMachineId("lujqgi"))
                .withOsDiskImage(new GalleryOSDiskImage().withHostCaching(HostCaching.READ_WRITE)
                    .withSource(new GalleryDiskImageSource().withId("z")
                        .withUri("aeuhwwsknstvz")
                        .withStorageAccountId("hasupmlppdpgzvz")))
                .withDataDiskImages(
                    Arrays.asList(
                        new GalleryDataDiskImage().withHostCaching(HostCaching.NONE)
                            .withSource(
                                new GalleryDiskImageSource().withId("y").withUri("ngru").withStorageAccountId("s"))
                            .withLun(1991415189),
                        new GalleryDataDiskImage().withHostCaching(HostCaching.READ_ONLY)
                            .withSource(new GalleryDiskImageSource().withId("ydzjemexm")
                                .withUri("beqngubabyjde")
                                .withStorageAccountId("sc"))
                            .withLun(1907449529)));
        model = BinaryData.fromObject(model).toObject(GalleryImageVersionStorageProfile.class);
        Assertions.assertEquals("bwlyvxc", model.source().id());
        Assertions.assertEquals("ajodmkrrwepgqvqo", model.source().communityGalleryImageId());
        Assertions.assertEquals("lujqgi", model.source().virtualMachineId());
        Assertions.assertEquals(HostCaching.READ_WRITE, model.osDiskImage().hostCaching());
        Assertions.assertEquals("z", model.osDiskImage().source().id());
        Assertions.assertEquals("aeuhwwsknstvz", model.osDiskImage().source().uri());
        Assertions.assertEquals("hasupmlppdpgzvz", model.osDiskImage().source().storageAccountId());
        Assertions.assertEquals(HostCaching.NONE, model.dataDiskImages().get(0).hostCaching());
        Assertions.assertEquals("y", model.dataDiskImages().get(0).source().id());
        Assertions.assertEquals("ngru", model.dataDiskImages().get(0).source().uri());
        Assertions.assertEquals("s", model.dataDiskImages().get(0).source().storageAccountId());
        Assertions.assertEquals(1991415189, model.dataDiskImages().get(0).lun());
    }
}
