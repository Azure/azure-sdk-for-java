// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.AdditionalReplicaSet;
import com.azure.resourcemanager.compute.models.ConfidentialVMEncryptionType;
import com.azure.resourcemanager.compute.models.DataDiskImageEncryption;
import com.azure.resourcemanager.compute.models.EncryptionImages;
import com.azure.resourcemanager.compute.models.OSDiskImageEncryption;
import com.azure.resourcemanager.compute.models.OSDiskImageSecurityProfile;
import com.azure.resourcemanager.compute.models.StorageAccountType;
import com.azure.resourcemanager.compute.models.TargetRegion;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class TargetRegionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        TargetRegion model = BinaryData.fromString(
            "{\"name\":\"wvladpcmhjh\",\"regionalReplicaCount\":930236025,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"EncryptedVMGuestStateOnlyWithPmk\",\"secureVMDiskEncryptionSetId\":\"fztsi\"},\"diskEncryptionSetId\":\"c\"},\"dataDiskImages\":[{\"lun\":617068880,\"diskEncryptionSetId\":\"iihfymkoui\"},{\"lun\":931157878,\"diskEncryptionSetId\":\"seuugcig\"}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{\"storageAccountType\":\"Standard_LRS\",\"regionalReplicaCount\":1365528947}]}")
            .toObject(TargetRegion.class);
        Assertions.assertEquals("wvladpcmhjh", model.name());
        Assertions.assertEquals(930236025, model.regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.storageAccountType());
        Assertions.assertEquals("c", model.encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.ENCRYPTED_VMGUEST_STATE_ONLY_WITH_PMK,
            model.encryption().osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("fztsi",
            model.encryption().osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("iihfymkoui", model.encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(617068880, model.encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.excludeFromLatest());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS,
            model.additionalReplicaSets().get(0).storageAccountType());
        Assertions.assertEquals(1365528947, model.additionalReplicaSets().get(0).regionalReplicaCount());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        TargetRegion model = new TargetRegion().withName("wvladpcmhjh")
            .withRegionalReplicaCount(930236025)
            .withStorageAccountType(StorageAccountType.STANDARD_LRS)
            .withEncryption(new EncryptionImages()
                .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("c")
                    .withSecurityProfile(new OSDiskImageSecurityProfile()
                        .withConfidentialVMEncryptionType(
                            ConfidentialVMEncryptionType.ENCRYPTED_VMGUEST_STATE_ONLY_WITH_PMK)
                        .withSecureVMDiskEncryptionSetId("fztsi")))
                .withDataDiskImages(Arrays.asList(
                    new DataDiskImageEncryption().withDiskEncryptionSetId("iihfymkoui").withLun(617068880),
                    new DataDiskImageEncryption().withDiskEncryptionSetId("seuugcig").withLun(931157878))))
            .withExcludeFromLatest(true)
            .withAdditionalReplicaSets(
                Arrays.asList(new AdditionalReplicaSet().withStorageAccountType(StorageAccountType.STANDARD_LRS)
                    .withRegionalReplicaCount(1365528947)));
        model = BinaryData.fromObject(model).toObject(TargetRegion.class);
        Assertions.assertEquals("wvladpcmhjh", model.name());
        Assertions.assertEquals(930236025, model.regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS, model.storageAccountType());
        Assertions.assertEquals("c", model.encryption().osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.ENCRYPTED_VMGUEST_STATE_ONLY_WITH_PMK,
            model.encryption().osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("fztsi",
            model.encryption().osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("iihfymkoui", model.encryption().dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(617068880, model.encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.excludeFromLatest());
        Assertions.assertEquals(StorageAccountType.STANDARD_LRS,
            model.additionalReplicaSets().get(0).storageAccountType());
        Assertions.assertEquals(1365528947, model.additionalReplicaSets().get(0).regionalReplicaCount());
    }
}
