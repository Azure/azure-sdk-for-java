// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomAction;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomActionParameter;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomActionParameterType;
import com.azure.resourcemanager.compute.models.GalleryApplicationUpdate;
import com.azure.resourcemanager.compute.models.OperatingSystemTypes;
import java.time.OffsetDateTime;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class GalleryApplicationUpdateTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryApplicationUpdate model = BinaryData.fromString(
            "{\"properties\":{\"description\":\"dyuep\",\"eula\":\"pl\",\"privacyStatementUri\":\"dajjvywe\",\"releaseNoteUri\":\"fkumcfjxoky\",\"endOfLifeDate\":\"2021-06-18T18:32:43Z\",\"supportedOSType\":\"Windows\",\"customActions\":[{\"name\":\"vfnkwmygjjekrk\",\"script\":\"fdrugjq\",\"description\":\"kgtxkrdtulcrcj\",\"parameters\":[{\"name\":\"otcsu\",\"required\":false,\"type\":\"String\",\"defaultValue\":\"svobchkxfp\",\"description\":\"dyslbklglmnn\"},{\"name\":\"kwayqshwy\",\"required\":true,\"type\":\"String\",\"defaultValue\":\"tb\",\"description\":\"q\"},{\"name\":\"mkgxqwqueuuylzt\",\"required\":true,\"type\":\"LogOutputBlob\",\"defaultValue\":\"vjykofveze\",\"description\":\"hkqtwqlepjj\"},{\"name\":\"kca\",\"required\":false,\"type\":\"String\",\"defaultValue\":\"togffjwajnrtwz\",\"description\":\"qkifmxawostfz\"}]},{\"name\":\"nhrkmjqncfvdsc\",\"script\":\"hemvwfnqqwypvnd\",\"description\":\"b\",\"parameters\":[{\"name\":\"tggrss\",\"required\":false,\"type\":\"LogOutputBlob\",\"defaultValue\":\"injmuymve\",\"description\":\"ztscbgmusaictds\"},{\"name\":\"nkzzohnrddclz\",\"required\":true,\"type\":\"LogOutputBlob\",\"defaultValue\":\"hlbzqixbnjrqvzy\",\"description\":\"xozony\"}]}]},\"id\":\"ameudpabcreu\",\"name\":\"osgyj\",\"type\":\"cvasormrexzvdu\",\"tags\":{\"sdqhzr\":\"gzygbaduveco\",\"imzfvpp\":\"dbakr\",\"ombcdtajdopggo\":\"eqsifjmclngygnhr\",\"qtrotpvclp\":\"wj\"}}")
            .toObject(GalleryApplicationUpdate.class);
        Assertions.assertEquals("gzygbaduveco", model.tags().get("sdqhzr"));
        Assertions.assertEquals("dyuep", model.description());
        Assertions.assertEquals("pl", model.eula());
        Assertions.assertEquals("dajjvywe", model.privacyStatementUri());
        Assertions.assertEquals("fkumcfjxoky", model.releaseNoteUri());
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-18T18:32:43Z"), model.endOfLifeDate());
        Assertions.assertEquals(OperatingSystemTypes.WINDOWS, model.supportedOSType());
        Assertions.assertEquals("vfnkwmygjjekrk", model.customActions().get(0).name());
        Assertions.assertEquals("fdrugjq", model.customActions().get(0).script());
        Assertions.assertEquals("kgtxkrdtulcrcj", model.customActions().get(0).description());
        Assertions.assertEquals("otcsu", model.customActions().get(0).parameters().get(0).name());
        Assertions.assertFalse(model.customActions().get(0).parameters().get(0).required());
        Assertions.assertEquals(GalleryApplicationCustomActionParameterType.STRING,
            model.customActions().get(0).parameters().get(0).type());
        Assertions.assertEquals("svobchkxfp", model.customActions().get(0).parameters().get(0).defaultValue());
        Assertions.assertEquals("dyslbklglmnn", model.customActions().get(0).parameters().get(0).description());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryApplicationUpdate model
            = new GalleryApplicationUpdate()
                .withTags(mapOf("sdqhzr", "gzygbaduveco", "imzfvpp", "dbakr", "ombcdtajdopggo", "eqsifjmclngygnhr",
                    "qtrotpvclp", "wj"))
                .withDescription("dyuep")
                .withEula("pl")
                .withPrivacyStatementUri("dajjvywe")
                .withReleaseNoteUri("fkumcfjxoky")
                .withEndOfLifeDate(OffsetDateTime.parse("2021-06-18T18:32:43Z"))
                .withSupportedOSType(OperatingSystemTypes.WINDOWS)
                .withCustomActions(
                    Arrays
                        .asList(
                            new GalleryApplicationCustomAction().withName("vfnkwmygjjekrk")
                                .withScript("fdrugjq")
                                .withDescription("kgtxkrdtulcrcj")
                                .withParameters(Arrays.asList(
                                    new GalleryApplicationCustomActionParameter().withName("otcsu")
                                        .withRequired(false)
                                        .withType(GalleryApplicationCustomActionParameterType.STRING)
                                        .withDefaultValue("svobchkxfp")
                                        .withDescription("dyslbklglmnn"),
                                    new GalleryApplicationCustomActionParameter().withName("kwayqshwy")
                                        .withRequired(true)
                                        .withType(GalleryApplicationCustomActionParameterType.STRING)
                                        .withDefaultValue("tb")
                                        .withDescription("q"),
                                    new GalleryApplicationCustomActionParameter().withName("mkgxqwqueuuylzt")
                                        .withRequired(true)
                                        .withType(GalleryApplicationCustomActionParameterType.LOG_OUTPUT_BLOB)
                                        .withDefaultValue("vjykofveze")
                                        .withDescription("hkqtwqlepjj"),
                                    new GalleryApplicationCustomActionParameter().withName("kca")
                                        .withRequired(false)
                                        .withType(GalleryApplicationCustomActionParameterType.STRING)
                                        .withDefaultValue("togffjwajnrtwz")
                                        .withDescription("qkifmxawostfz"))),
                            new GalleryApplicationCustomAction().withName("nhrkmjqncfvdsc")
                                .withScript("hemvwfnqqwypvnd")
                                .withDescription("b")
                                .withParameters(Arrays.asList(
                                    new GalleryApplicationCustomActionParameter().withName("tggrss")
                                        .withRequired(false)
                                        .withType(GalleryApplicationCustomActionParameterType.LOG_OUTPUT_BLOB)
                                        .withDefaultValue("injmuymve")
                                        .withDescription("ztscbgmusaictds"),
                                    new GalleryApplicationCustomActionParameter().withName("nkzzohnrddclz")
                                        .withRequired(true)
                                        .withType(GalleryApplicationCustomActionParameterType.LOG_OUTPUT_BLOB)
                                        .withDefaultValue("hlbzqixbnjrqvzy")
                                        .withDescription("xozony")))));
        model = BinaryData.fromObject(model).toObject(GalleryApplicationUpdate.class);
        Assertions.assertEquals("gzygbaduveco", model.tags().get("sdqhzr"));
        Assertions.assertEquals("dyuep", model.description());
        Assertions.assertEquals("pl", model.eula());
        Assertions.assertEquals("dajjvywe", model.privacyStatementUri());
        Assertions.assertEquals("fkumcfjxoky", model.releaseNoteUri());
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-18T18:32:43Z"), model.endOfLifeDate());
        Assertions.assertEquals(OperatingSystemTypes.WINDOWS, model.supportedOSType());
        Assertions.assertEquals("vfnkwmygjjekrk", model.customActions().get(0).name());
        Assertions.assertEquals("fdrugjq", model.customActions().get(0).script());
        Assertions.assertEquals("kgtxkrdtulcrcj", model.customActions().get(0).description());
        Assertions.assertEquals("otcsu", model.customActions().get(0).parameters().get(0).name());
        Assertions.assertFalse(model.customActions().get(0).parameters().get(0).required());
        Assertions.assertEquals(GalleryApplicationCustomActionParameterType.STRING,
            model.customActions().get(0).parameters().get(0).type());
        Assertions.assertEquals("svobchkxfp", model.customActions().get(0).parameters().get(0).defaultValue());
        Assertions.assertEquals("dyslbklglmnn", model.customActions().get(0).parameters().get(0).description());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
