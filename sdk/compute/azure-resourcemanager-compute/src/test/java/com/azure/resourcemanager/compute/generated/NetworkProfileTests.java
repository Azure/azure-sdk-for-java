// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.DeleteOptions;
import com.azure.resourcemanager.compute.models.NetworkApiVersion;
import com.azure.resourcemanager.compute.models.NetworkInterfaceAuxiliaryMode;
import com.azure.resourcemanager.compute.models.NetworkInterfaceAuxiliarySku;
import com.azure.resourcemanager.compute.models.NetworkInterfaceReference;
import com.azure.resourcemanager.compute.models.NetworkProfile;
import com.azure.resourcemanager.compute.models.VirtualMachineNetworkInterfaceConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachineNetworkInterfaceDnsSettingsConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachineNetworkInterfaceIpConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class NetworkProfileTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NetworkProfile model = BinaryData.fromString(
            "{\"networkInterfaces\":[{\"properties\":{\"primary\":true,\"deleteOption\":\"Delete\"},\"id\":\"agst\"},{\"properties\":{\"primary\":true,\"deleteOption\":\"Delete\"},\"id\":\"yrkdbdgiogsjkmn\"},{\"properties\":{\"primary\":true,\"deleteOption\":\"Detach\"},\"id\":\"iyhddvi\"},{\"properties\":{\"primary\":true,\"deleteOption\":\"Delete\"},\"id\":\"ntfpmvmemfnc\"}],\"networkApiVersion\":\"2020-11-01\",\"networkInterfaceConfigurations\":[{\"name\":\"b\",\"properties\":{\"primary\":true,\"deleteOption\":\"Detach\",\"enableAcceleratedNetworking\":false,\"disableTcpStateTracking\":true,\"enableFpga\":false,\"enableIPForwarding\":true,\"networkSecurityGroup\":{\"id\":\"rdnhfuku\"},\"dnsSettings\":{\"dnsServers\":[\"swsmys\",\"uluqypfc\",\"lerchpq\"]},\"ipConfigurations\":[{\"name\":\"f\",\"properties\":{}},{\"name\":\"babwidfcxss\",\"properties\":{}}],\"dscpConfiguration\":{\"id\":\"noxyhkx\"},\"auxiliaryMode\":\"AcceleratedConnections\",\"auxiliarySku\":\"A8\"},\"tags\":{\"djvlpj\":\"pfhoqcaaewdao\"}},{\"name\":\"xkzb\",\"properties\":{\"primary\":true,\"deleteOption\":\"Delete\",\"enableAcceleratedNetworking\":true,\"disableTcpStateTracking\":true,\"enableFpga\":false,\"enableIPForwarding\":false,\"networkSecurityGroup\":{\"id\":\"jdxon\"},\"dnsSettings\":{\"dnsServers\":[\"gculap\",\"wyrpgogtqxepnyl\"]},\"ipConfigurations\":[{\"name\":\"uajlyj\",\"properties\":{}},{\"name\":\"vofqzhvfc\",\"properties\":{}}],\"dscpConfiguration\":{\"id\":\"mowuxrk\"},\"auxiliaryMode\":\"AcceleratedConnections\",\"auxiliarySku\":\"A4\"},\"tags\":{\"jrkambtrnegvmnv\":\"zwiivwzjbhyzs\",\"qvldspastjbkkd\":\"q\",\"apeewchpxlkt\":\"flvestmjlxrrilo\",\"ufuztcktyhjtq\":\"kuziycsle\"}},{\"name\":\"dcgzul\",\"properties\":{\"primary\":false,\"deleteOption\":\"Delete\",\"enableAcceleratedNetworking\":false,\"disableTcpStateTracking\":true,\"enableFpga\":false,\"enableIPForwarding\":false,\"networkSecurityGroup\":{\"id\":\"zgkrvqe\"},\"dnsSettings\":{\"dnsServers\":[\"epr\",\"utnwytpzdmovzvf\"]},\"ipConfigurations\":[{\"name\":\"awzqadfl\",\"properties\":{}},{\"name\":\"ur\",\"properties\":{}},{\"name\":\"laecxndticok\",\"properties\":{}}],\"dscpConfiguration\":{\"id\":\"lqtmldgxob\"},\"auxiliaryMode\":\"None\",\"auxiliarySku\":\"A1\"},\"tags\":{\"khyawfvjlboxqv\":\"kciayzri\"}}]}")
            .toObject(NetworkProfile.class);
        Assertions.assertEquals("agst", model.networkInterfaces().get(0).id());
        Assertions.assertTrue(model.networkInterfaces().get(0).primary());
        Assertions.assertEquals(DeleteOptions.DELETE, model.networkInterfaces().get(0).deleteOption());
        Assertions.assertEquals(NetworkApiVersion.TWO_ZERO_TWO_ZERO_ONE_ONE_ZERO_ONE, model.networkApiVersion());
        Assertions.assertEquals("b", model.networkInterfaceConfigurations().get(0).name());
        Assertions.assertEquals("pfhoqcaaewdao", model.networkInterfaceConfigurations().get(0).tags().get("djvlpj"));
        Assertions.assertTrue(model.networkInterfaceConfigurations().get(0).primary());
        Assertions.assertEquals(DeleteOptions.DETACH, model.networkInterfaceConfigurations().get(0).deleteOption());
        Assertions.assertFalse(model.networkInterfaceConfigurations().get(0).enableAcceleratedNetworking());
        Assertions.assertTrue(model.networkInterfaceConfigurations().get(0).disableTcpStateTracking());
        Assertions.assertFalse(model.networkInterfaceConfigurations().get(0).enableFpga());
        Assertions.assertTrue(model.networkInterfaceConfigurations().get(0).enableIpForwarding());
        Assertions.assertEquals("rdnhfuku", model.networkInterfaceConfigurations().get(0).networkSecurityGroup().id());
        Assertions.assertEquals("swsmys",
            model.networkInterfaceConfigurations().get(0).dnsSettings().dnsServers().get(0));
        Assertions.assertEquals("f", model.networkInterfaceConfigurations().get(0).ipConfigurations().get(0).name());
        Assertions.assertEquals("noxyhkx", model.networkInterfaceConfigurations().get(0).dscpConfiguration().id());
        Assertions.assertEquals(NetworkInterfaceAuxiliaryMode.ACCELERATED_CONNECTIONS,
            model.networkInterfaceConfigurations().get(0).auxiliaryMode());
        Assertions.assertEquals(NetworkInterfaceAuxiliarySku.A8,
            model.networkInterfaceConfigurations().get(0).auxiliarySku());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NetworkProfile model = new NetworkProfile().withNetworkInterfaces(Arrays.asList(
            new NetworkInterfaceReference().withId("agst").withPrimary(true).withDeleteOption(DeleteOptions.DELETE),
            new NetworkInterfaceReference().withId("yrkdbdgiogsjkmn")
                .withPrimary(true)
                .withDeleteOption(DeleteOptions.DELETE),
            new NetworkInterfaceReference().withId("iyhddvi").withPrimary(true).withDeleteOption(DeleteOptions.DETACH),
            new NetworkInterfaceReference().withId("ntfpmvmemfnc")
                .withPrimary(true)
                .withDeleteOption(DeleteOptions.DELETE)))
            .withNetworkApiVersion(NetworkApiVersion.TWO_ZERO_TWO_ZERO_ONE_ONE_ZERO_ONE)
            .withNetworkInterfaceConfigurations(Arrays.asList(
                new VirtualMachineNetworkInterfaceConfiguration().withName("b")
                    .withTags(mapOf("djvlpj", "pfhoqcaaewdao"))
                    .withPrimary(true)
                    .withDeleteOption(DeleteOptions.DETACH)
                    .withEnableAcceleratedNetworking(false)
                    .withDisableTcpStateTracking(true)
                    .withEnableFpga(false)
                    .withEnableIpForwarding(true)
                    .withNetworkSecurityGroup(new SubResource().withId("rdnhfuku"))
                    .withDnsSettings(new VirtualMachineNetworkInterfaceDnsSettingsConfiguration()
                        .withDnsServers(Arrays.asList("swsmys", "uluqypfc", "lerchpq")))
                    .withIpConfigurations(
                        Arrays.asList(new VirtualMachineNetworkInterfaceIpConfiguration().withName("f"),
                            new VirtualMachineNetworkInterfaceIpConfiguration().withName("babwidfcxss")))
                    .withDscpConfiguration(new SubResource().withId("noxyhkx"))
                    .withAuxiliaryMode(NetworkInterfaceAuxiliaryMode.ACCELERATED_CONNECTIONS)
                    .withAuxiliarySku(NetworkInterfaceAuxiliarySku.A8),
                new VirtualMachineNetworkInterfaceConfiguration().withName("xkzb")
                    .withTags(mapOf("jrkambtrnegvmnv", "zwiivwzjbhyzs", "qvldspastjbkkd", "q", "apeewchpxlkt",
                        "flvestmjlxrrilo", "ufuztcktyhjtq", "kuziycsle"))
                    .withPrimary(true)
                    .withDeleteOption(DeleteOptions.DELETE)
                    .withEnableAcceleratedNetworking(true)
                    .withDisableTcpStateTracking(true)
                    .withEnableFpga(false)
                    .withEnableIpForwarding(false)
                    .withNetworkSecurityGroup(new SubResource().withId("jdxon"))
                    .withDnsSettings(new VirtualMachineNetworkInterfaceDnsSettingsConfiguration()
                        .withDnsServers(Arrays.asList("gculap", "wyrpgogtqxepnyl")))
                    .withIpConfigurations(
                        Arrays.asList(new VirtualMachineNetworkInterfaceIpConfiguration().withName("uajlyj"),
                            new VirtualMachineNetworkInterfaceIpConfiguration().withName("vofqzhvfc")))
                    .withDscpConfiguration(new SubResource().withId("mowuxrk"))
                    .withAuxiliaryMode(NetworkInterfaceAuxiliaryMode.ACCELERATED_CONNECTIONS)
                    .withAuxiliarySku(NetworkInterfaceAuxiliarySku.A4),
                new VirtualMachineNetworkInterfaceConfiguration().withName("dcgzul")
                    .withTags(mapOf("khyawfvjlboxqv", "kciayzri"))
                    .withPrimary(false)
                    .withDeleteOption(DeleteOptions.DELETE)
                    .withEnableAcceleratedNetworking(false)
                    .withDisableTcpStateTracking(true)
                    .withEnableFpga(false)
                    .withEnableIpForwarding(false)
                    .withNetworkSecurityGroup(new SubResource().withId("zgkrvqe"))
                    .withDnsSettings(new VirtualMachineNetworkInterfaceDnsSettingsConfiguration()
                        .withDnsServers(Arrays.asList("epr", "utnwytpzdmovzvf")))
                    .withIpConfigurations(
                        Arrays.asList(new VirtualMachineNetworkInterfaceIpConfiguration().withName("awzqadfl"),
                            new VirtualMachineNetworkInterfaceIpConfiguration().withName("ur"),
                            new VirtualMachineNetworkInterfaceIpConfiguration().withName("laecxndticok")))
                    .withDscpConfiguration(new SubResource().withId("lqtmldgxob"))
                    .withAuxiliaryMode(NetworkInterfaceAuxiliaryMode.NONE)
                    .withAuxiliarySku(NetworkInterfaceAuxiliarySku.A1)));
        model = BinaryData.fromObject(model).toObject(NetworkProfile.class);
        Assertions.assertEquals("agst", model.networkInterfaces().get(0).id());
        Assertions.assertTrue(model.networkInterfaces().get(0).primary());
        Assertions.assertEquals(DeleteOptions.DELETE, model.networkInterfaces().get(0).deleteOption());
        Assertions.assertEquals(NetworkApiVersion.TWO_ZERO_TWO_ZERO_ONE_ONE_ZERO_ONE, model.networkApiVersion());
        Assertions.assertEquals("b", model.networkInterfaceConfigurations().get(0).name());
        Assertions.assertEquals("pfhoqcaaewdao", model.networkInterfaceConfigurations().get(0).tags().get("djvlpj"));
        Assertions.assertTrue(model.networkInterfaceConfigurations().get(0).primary());
        Assertions.assertEquals(DeleteOptions.DETACH, model.networkInterfaceConfigurations().get(0).deleteOption());
        Assertions.assertFalse(model.networkInterfaceConfigurations().get(0).enableAcceleratedNetworking());
        Assertions.assertTrue(model.networkInterfaceConfigurations().get(0).disableTcpStateTracking());
        Assertions.assertFalse(model.networkInterfaceConfigurations().get(0).enableFpga());
        Assertions.assertTrue(model.networkInterfaceConfigurations().get(0).enableIpForwarding());
        Assertions.assertEquals("rdnhfuku", model.networkInterfaceConfigurations().get(0).networkSecurityGroup().id());
        Assertions.assertEquals("swsmys",
            model.networkInterfaceConfigurations().get(0).dnsSettings().dnsServers().get(0));
        Assertions.assertEquals("f", model.networkInterfaceConfigurations().get(0).ipConfigurations().get(0).name());
        Assertions.assertEquals("noxyhkx", model.networkInterfaceConfigurations().get(0).dscpConfiguration().id());
        Assertions.assertEquals(NetworkInterfaceAuxiliaryMode.ACCELERATED_CONNECTIONS,
            model.networkInterfaceConfigurations().get(0).auxiliaryMode());
        Assertions.assertEquals(NetworkInterfaceAuxiliarySku.A8,
            model.networkInterfaceConfigurations().get(0).auxiliarySku());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
