// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.VirtualMachineNetworkInterfaceIPConfigurationProperties;
import com.azure.resourcemanager.compute.models.DeleteOptions;
import com.azure.resourcemanager.compute.models.DomainNameLabelScopeTypes;
import com.azure.resourcemanager.compute.models.IpVersions;
import com.azure.resourcemanager.compute.models.PublicIpAddressSku;
import com.azure.resourcemanager.compute.models.PublicIpAddressSkuName;
import com.azure.resourcemanager.compute.models.PublicIpAddressSkuTier;
import com.azure.resourcemanager.compute.models.PublicIpAllocationMethod;
import com.azure.resourcemanager.compute.models.VirtualMachineIpTag;
import com.azure.resourcemanager.compute.models.VirtualMachinePublicIpAddressConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachinePublicIpAddressDnsSettingsConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineNetworkInterfaceIPConfigurationPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineNetworkInterfaceIPConfigurationProperties model = BinaryData.fromString(
            "{\"subnet\":{\"id\":\"roylaxxu\"},\"primary\":true,\"publicIPAddressConfiguration\":{\"name\":\"sdosfjbjsvgjr\",\"properties\":{\"idleTimeoutInMinutes\":1647149514,\"deleteOption\":\"Delete\",\"dnsSettings\":{\"domainNameLabel\":\"ytdc\",\"domainNameLabelScope\":\"TenantReuse\"},\"ipTags\":[{\"ipTagType\":\"nfnw\",\"tag\":\"tmvpdvjdhtt\"},{\"ipTagType\":\"efedxihchrphkm\",\"tag\":\"jdqnsdfzpbgt\"},{\"ipTagType\":\"ylkdghrje\",\"tag\":\"tl\"},{\"ipTagType\":\"ez\",\"tag\":\"hokvbwnh\"}],\"publicIPPrefix\":{\"id\":\"lgehg\"},\"publicIPAddressVersion\":\"IPv6\",\"publicIPAllocationMethod\":\"Dynamic\"},\"sku\":{\"name\":\"Standard\",\"tier\":\"Regional\"},\"tags\":{\"csheafidltugsr\":\"jvgcxtx\",\"h\":\"smkss\",\"egprhptil\":\"iftxfkf\",\"qtgdqohmcwsl\":\"ucb\"}},\"privateIPAddressVersion\":\"IPv4\",\"applicationSecurityGroups\":[{\"id\":\"pwbralllibphbqz\"},{\"id\":\"zakakankjpdn\"},{\"id\":\"ha\"}],\"applicationGatewayBackendAddressPools\":[{\"id\":\"hjlmu\"},{\"id\":\"xprimrsop\"}],\"loadBalancerBackendAddressPools\":[{\"id\":\"jme\"}]}")
            .toObject(VirtualMachineNetworkInterfaceIPConfigurationProperties.class);
        Assertions.assertEquals("roylaxxu", model.subnet().id());
        Assertions.assertTrue(model.primary());
        Assertions.assertEquals("sdosfjbjsvgjr", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals(PublicIpAddressSkuName.STANDARD, model.publicIpAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIpAddressSkuTier.REGIONAL, model.publicIpAddressConfiguration().sku().tier());
        Assertions.assertEquals("jvgcxtx", model.publicIpAddressConfiguration().tags().get("csheafidltugsr"));
        Assertions.assertEquals(1647149514, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DELETE, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals("ytdc", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.TENANT_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("nfnw", model.publicIpAddressConfiguration().ipTags().get(0).ipTagType());
        Assertions.assertEquals("tmvpdvjdhtt", model.publicIpAddressConfiguration().ipTags().get(0).tag());
        Assertions.assertEquals("lgehg", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(IpVersions.IPV6, model.publicIpAddressConfiguration().publicIpAddressVersion());
        Assertions.assertEquals(PublicIpAllocationMethod.DYNAMIC,
            model.publicIpAddressConfiguration().publicIpAllocationMethod());
        Assertions.assertEquals(IpVersions.IPV4, model.privateIpAddressVersion());
        Assertions.assertEquals("pwbralllibphbqz", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("hjlmu", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("jme", model.loadBalancerBackendAddressPools().get(0).id());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineNetworkInterfaceIPConfigurationProperties model
            = new VirtualMachineNetworkInterfaceIPConfigurationProperties()
                .withSubnet(new SubResource().withId("roylaxxu"))
                .withPrimary(true)
                .withPublicIpAddressConfiguration(new VirtualMachinePublicIpAddressConfiguration()
                    .withName("sdosfjbjsvgjr")
                    .withSku(new PublicIpAddressSku().withName(PublicIpAddressSkuName.STANDARD)
                        .withTier(PublicIpAddressSkuTier.REGIONAL))
                    .withTags(
                        mapOf("csheafidltugsr", "jvgcxtx", "h", "smkss", "egprhptil", "iftxfkf", "qtgdqohmcwsl", "ucb"))
                    .withIdleTimeoutInMinutes(1647149514)
                    .withDeleteOption(DeleteOptions.DELETE)
                    .withDnsSettings(
                        new VirtualMachinePublicIpAddressDnsSettingsConfiguration().withDomainNameLabel("ytdc")
                            .withDomainNameLabelScope(DomainNameLabelScopeTypes.TENANT_REUSE))
                    .withIpTags(Arrays.asList(new VirtualMachineIpTag().withIpTagType("nfnw").withTag("tmvpdvjdhtt"),
                        new VirtualMachineIpTag().withIpTagType("efedxihchrphkm").withTag("jdqnsdfzpbgt"),
                        new VirtualMachineIpTag().withIpTagType("ylkdghrje").withTag("tl"),
                        new VirtualMachineIpTag().withIpTagType("ez").withTag("hokvbwnh")))
                    .withPublicIpPrefix(new SubResource().withId("lgehg"))
                    .withPublicIpAddressVersion(IpVersions.IPV6)
                    .withPublicIpAllocationMethod(PublicIpAllocationMethod.DYNAMIC))
                .withPrivateIpAddressVersion(IpVersions.IPV4)
                .withApplicationSecurityGroups(Arrays.asList(new SubResource().withId("pwbralllibphbqz"),
                    new SubResource().withId("zakakankjpdn"), new SubResource().withId("ha")))
                .withApplicationGatewayBackendAddressPools(
                    Arrays.asList(new SubResource().withId("hjlmu"), new SubResource().withId("xprimrsop")))
                .withLoadBalancerBackendAddressPools(Arrays.asList(new SubResource().withId("jme")));
        model = BinaryData.fromObject(model).toObject(VirtualMachineNetworkInterfaceIPConfigurationProperties.class);
        Assertions.assertEquals("roylaxxu", model.subnet().id());
        Assertions.assertTrue(model.primary());
        Assertions.assertEquals("sdosfjbjsvgjr", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals(PublicIpAddressSkuName.STANDARD, model.publicIpAddressConfiguration().sku().name());
        Assertions.assertEquals(PublicIpAddressSkuTier.REGIONAL, model.publicIpAddressConfiguration().sku().tier());
        Assertions.assertEquals("jvgcxtx", model.publicIpAddressConfiguration().tags().get("csheafidltugsr"));
        Assertions.assertEquals(1647149514, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals(DeleteOptions.DELETE, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals("ytdc", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.TENANT_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("nfnw", model.publicIpAddressConfiguration().ipTags().get(0).ipTagType());
        Assertions.assertEquals("tmvpdvjdhtt", model.publicIpAddressConfiguration().ipTags().get(0).tag());
        Assertions.assertEquals("lgehg", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(IpVersions.IPV6, model.publicIpAddressConfiguration().publicIpAddressVersion());
        Assertions.assertEquals(PublicIpAllocationMethod.DYNAMIC,
            model.publicIpAddressConfiguration().publicIpAllocationMethod());
        Assertions.assertEquals(IpVersions.IPV4, model.privateIpAddressVersion());
        Assertions.assertEquals("pwbralllibphbqz", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("hjlmu", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("jme", model.loadBalancerBackendAddressPools().get(0).id());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
