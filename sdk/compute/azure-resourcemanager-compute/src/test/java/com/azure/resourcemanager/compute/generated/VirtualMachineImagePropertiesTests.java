// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.VirtualMachineImageProperties;
import com.azure.resourcemanager.compute.models.AlternativeType;
import com.azure.resourcemanager.compute.models.ArchitectureTypes;
import com.azure.resourcemanager.compute.models.HyperVGenerationTypes;
import com.azure.resourcemanager.compute.models.ImageState;
import com.azure.resourcemanager.compute.models.OperatingSystemTypes;
import com.azure.resourcemanager.compute.models.VmDiskTypes;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineImagePropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineImageProperties model = BinaryData.fromString(
            "{\"plan\":{\"publisher\":\"ueyxfzibrlrjugcf\",\"name\":\"bpiu\",\"product\":\"enbvrllldfknb\"},\"osDiskImage\":{\"operatingSystem\":\"Windows\"},\"dataDiskImages\":[{\"lun\":7716941}],\"automaticOSUpgradeProperties\":{\"automaticOSUpgradeSupported\":false},\"hyperVGeneration\":\"V2\",\"disallowed\":{\"vmDiskType\":\"Unmanaged\"},\"features\":[{\"name\":\"u\",\"value\":\"tpfxxgjahyxfwf\"}],\"architecture\":\"x64\",\"imageDeprecationStatus\":{\"imageState\":\"Deprecated\",\"scheduledDeprecationTime\":\"2021-04-09T04:32:29Z\",\"alternativeOption\":{\"type\":\"Plan\",\"value\":\"lzxem\"}}}")
            .toObject(VirtualMachineImageProperties.class);
        Assertions.assertEquals("ueyxfzibrlrjugcf", model.plan().publisher());
        Assertions.assertEquals("bpiu", model.plan().name());
        Assertions.assertEquals("enbvrllldfknb", model.plan().product());
        Assertions.assertEquals(OperatingSystemTypes.WINDOWS, model.osDiskImage().operatingSystem());
        Assertions.assertFalse(model.automaticOSUpgradeProperties().automaticOSUpgradeSupported());
        Assertions.assertEquals(HyperVGenerationTypes.V2, model.hyperVGeneration());
        Assertions.assertEquals(VmDiskTypes.UNMANAGED, model.disallowed().vmDiskType());
        Assertions.assertEquals("u", model.features().get(0).name());
        Assertions.assertEquals("tpfxxgjahyxfwf", model.features().get(0).value());
        Assertions.assertEquals(ArchitectureTypes.X64, model.architecture());
        Assertions.assertEquals(ImageState.DEPRECATED, model.imageDeprecationStatus().imageState());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-09T04:32:29Z"),
            model.imageDeprecationStatus().scheduledDeprecationTime());
        Assertions.assertEquals(AlternativeType.PLAN, model.imageDeprecationStatus().alternativeOption().type());
        Assertions.assertEquals("lzxem", model.imageDeprecationStatus().alternativeOption().value());
    }
}
