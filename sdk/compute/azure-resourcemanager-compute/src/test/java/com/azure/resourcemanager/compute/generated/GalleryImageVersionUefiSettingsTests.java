// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.GalleryImageVersionUefiSettings;
import com.azure.resourcemanager.compute.models.UefiKey;
import com.azure.resourcemanager.compute.models.UefiKeySignatures;
import com.azure.resourcemanager.compute.models.UefiKeyType;
import com.azure.resourcemanager.compute.models.UefiSignatureTemplateName;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class GalleryImageVersionUefiSettingsTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryImageVersionUefiSettings model = BinaryData.fromString(
            "{\"signatureTemplateNames\":[\"MicrosoftUefiCertificateAuthorityTemplate\",\"MicrosoftWindowsTemplate\"],\"additionalSignatures\":{\"pk\":{\"type\":\"x509\",\"value\":[\"ddqil\",\"gdfpfqfpcvst\",\"l\",\"qrvwerfwxbsm\"]},\"kek\":[{\"type\":\"sha256\",\"value\":[\"hci\"]},{\"type\":\"sha256\",\"value\":[\"btb\",\"ekqhs\",\"htfpwpqb\",\"ejuwyqwdqigmghgi\"]},{\"type\":\"x509\",\"value\":[\"ujkhnjcmrnkfmkh\",\"qtwmlmhjnqtqeahj\"]},{\"type\":\"x509\",\"value\":[\"gpokddxejhhkvgu\",\"vtptbk\",\"wkqyns\"]}],\"db\":[{\"type\":\"x509\",\"value\":[\"bkkwvdxae\",\"qokmyrljial\",\"bn\"]},{\"type\":\"x509\",\"value\":[\"pbcjtrpzuyudivbx\",\"hsqe\",\"eonqelwgdhuru\"]}],\"dbx\":[{\"type\":\"x509\",\"value\":[\"gatmoljiy\",\"mpinmzvfkneerzzt\",\"knsjulugd\"]},{\"type\":\"sha256\",\"value\":[\"xlelfjh\"]},{\"type\":\"x509\",\"value\":[\"pihtdmiwjekpt\",\"caydbjzcqymlcfnz\"]},{\"type\":\"sha256\",\"value\":[\"rlgwqkpmmzpsta\",\"olawiubmoms\",\"vvjhvvlrlohewjj\",\"ajnkdflqionswae\"]}]}}")
            .toObject(GalleryImageVersionUefiSettings.class);
        Assertions.assertEquals(UefiSignatureTemplateName.MICROSOFT_UEFI_CERTIFICATE_AUTHORITY_TEMPLATE,
            model.signatureTemplateNames().get(0));
        Assertions.assertEquals(UefiKeyType.X509, model.additionalSignatures().pk().type());
        Assertions.assertEquals("ddqil", model.additionalSignatures().pk().value().get(0));
        Assertions.assertEquals(UefiKeyType.SHA256, model.additionalSignatures().kek().get(0).type());
        Assertions.assertEquals("hci", model.additionalSignatures().kek().get(0).value().get(0));
        Assertions.assertEquals(UefiKeyType.X509, model.additionalSignatures().db().get(0).type());
        Assertions.assertEquals("bkkwvdxae", model.additionalSignatures().db().get(0).value().get(0));
        Assertions.assertEquals(UefiKeyType.X509, model.additionalSignatures().dbx().get(0).type());
        Assertions.assertEquals("gatmoljiy", model.additionalSignatures().dbx().get(0).value().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryImageVersionUefiSettings model = new GalleryImageVersionUefiSettings()
            .withSignatureTemplateNames(
                Arrays.asList(UefiSignatureTemplateName.MICROSOFT_UEFI_CERTIFICATE_AUTHORITY_TEMPLATE,
                    UefiSignatureTemplateName.MICROSOFT_WINDOWS_TEMPLATE))
            .withAdditionalSignatures(new UefiKeySignatures()
                .withPk(new UefiKey().withType(UefiKeyType.X509)
                    .withValue(Arrays.asList("ddqil", "gdfpfqfpcvst", "l", "qrvwerfwxbsm")))
                .withKek(Arrays.asList(new UefiKey().withType(UefiKeyType.SHA256).withValue(Arrays.asList("hci")),
                    new UefiKey().withType(UefiKeyType.SHA256)
                        .withValue(Arrays.asList("btb", "ekqhs", "htfpwpqb", "ejuwyqwdqigmghgi")),
                    new UefiKey().withType(UefiKeyType.X509)
                        .withValue(Arrays.asList("ujkhnjcmrnkfmkh", "qtwmlmhjnqtqeahj")),
                    new UefiKey().withType(UefiKeyType.X509)
                        .withValue(Arrays.asList("gpokddxejhhkvgu", "vtptbk", "wkqyns"))))
                .withDb(Arrays.asList(
                    new UefiKey().withType(UefiKeyType.X509).withValue(Arrays.asList("bkkwvdxae", "qokmyrljial", "bn")),
                    new UefiKey().withType(UefiKeyType.X509)
                        .withValue(Arrays.asList("pbcjtrpzuyudivbx", "hsqe", "eonqelwgdhuru"))))
                .withDbx(Arrays.asList(
                    new UefiKey().withType(UefiKeyType.X509)
                        .withValue(Arrays.asList("gatmoljiy", "mpinmzvfkneerzzt", "knsjulugd")),
                    new UefiKey().withType(UefiKeyType.SHA256).withValue(Arrays.asList("xlelfjh")),
                    new UefiKey().withType(UefiKeyType.X509)
                        .withValue(Arrays.asList("pihtdmiwjekpt", "caydbjzcqymlcfnz")),
                    new UefiKey().withType(UefiKeyType.SHA256)
                        .withValue(
                            Arrays.asList("rlgwqkpmmzpsta", "olawiubmoms", "vvjhvvlrlohewjj", "ajnkdflqionswae")))));
        model = BinaryData.fromObject(model).toObject(GalleryImageVersionUefiSettings.class);
        Assertions.assertEquals(UefiSignatureTemplateName.MICROSOFT_UEFI_CERTIFICATE_AUTHORITY_TEMPLATE,
            model.signatureTemplateNames().get(0));
        Assertions.assertEquals(UefiKeyType.X509, model.additionalSignatures().pk().type());
        Assertions.assertEquals("ddqil", model.additionalSignatures().pk().value().get(0));
        Assertions.assertEquals(UefiKeyType.SHA256, model.additionalSignatures().kek().get(0).type());
        Assertions.assertEquals("hci", model.additionalSignatures().kek().get(0).value().get(0));
        Assertions.assertEquals(UefiKeyType.X509, model.additionalSignatures().db().get(0).type());
        Assertions.assertEquals("bkkwvdxae", model.additionalSignatures().db().get(0).value().get(0));
        Assertions.assertEquals(UefiKeyType.X509, model.additionalSignatures().dbx().get(0).type());
        Assertions.assertEquals("gatmoljiy", model.additionalSignatures().dbx().get(0).value().get(0));
    }
}
