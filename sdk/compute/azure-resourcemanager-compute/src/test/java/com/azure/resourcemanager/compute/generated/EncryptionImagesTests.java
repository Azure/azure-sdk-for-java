// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.ConfidentialVMEncryptionType;
import com.azure.resourcemanager.compute.models.DataDiskImageEncryption;
import com.azure.resourcemanager.compute.models.EncryptionImages;
import com.azure.resourcemanager.compute.models.OSDiskImageEncryption;
import com.azure.resourcemanager.compute.models.OSDiskImageSecurityProfile;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class EncryptionImagesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        EncryptionImages model = BinaryData.fromString(
            "{\"osDiskImage\":{\"securityProfile\":{\"confidentialVMEncryptionType\":\"EncryptedWithCmk\",\"secureVMDiskEncryptionSetId\":\"qbe\"},\"diskEncryptionSetId\":\"nfvegl\"},\"dataDiskImages\":[{\"lun\":1172358239,\"diskEncryptionSetId\":\"biwznhtfgficudy\"},{\"lun\":1357332355,\"diskEncryptionSetId\":\"paczmuh\"},{\"lun\":2050942222,\"diskEncryptionSetId\":\"kznhokhoitwhrj\"}]}")
            .toObject(EncryptionImages.class);
        Assertions.assertEquals("nfvegl", model.osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.ENCRYPTED_WITH_CMK,
            model.osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("qbe", model.osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("biwznhtfgficudy", model.dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(1172358239, model.dataDiskImages().get(0).lun());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        EncryptionImages model = new EncryptionImages()
            .withOsDiskImage(new OSDiskImageEncryption().withDiskEncryptionSetId("nfvegl")
                .withSecurityProfile(new OSDiskImageSecurityProfile()
                    .withConfidentialVMEncryptionType(ConfidentialVMEncryptionType.ENCRYPTED_WITH_CMK)
                    .withSecureVMDiskEncryptionSetId("qbe")))
            .withDataDiskImages(Arrays.asList(
                new DataDiskImageEncryption().withDiskEncryptionSetId("biwznhtfgficudy").withLun(1172358239),
                new DataDiskImageEncryption().withDiskEncryptionSetId("paczmuh").withLun(1357332355),
                new DataDiskImageEncryption().withDiskEncryptionSetId("kznhokhoitwhrj").withLun(2050942222)));
        model = BinaryData.fromObject(model).toObject(EncryptionImages.class);
        Assertions.assertEquals("nfvegl", model.osDiskImage().diskEncryptionSetId());
        Assertions.assertEquals(ConfidentialVMEncryptionType.ENCRYPTED_WITH_CMK,
            model.osDiskImage().securityProfile().confidentialVMEncryptionType());
        Assertions.assertEquals("qbe", model.osDiskImage().securityProfile().secureVMDiskEncryptionSetId());
        Assertions.assertEquals("biwznhtfgficudy", model.dataDiskImages().get(0).diskEncryptionSetId());
        Assertions.assertEquals(1172358239, model.dataDiskImages().get(0).lun());
    }
}
