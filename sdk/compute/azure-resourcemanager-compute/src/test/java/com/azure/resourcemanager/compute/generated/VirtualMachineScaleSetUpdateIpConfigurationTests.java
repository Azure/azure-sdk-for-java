// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.management.SubResource;
import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.models.ApiEntityReference;
import com.azure.resourcemanager.compute.models.DeleteOptions;
import com.azure.resourcemanager.compute.models.DomainNameLabelScopeTypes;
import com.azure.resourcemanager.compute.models.IpVersion;
import com.azure.resourcemanager.compute.models.VirtualMachineScaleSetPublicIpAddressConfigurationDnsSettings;
import com.azure.resourcemanager.compute.models.VirtualMachineScaleSetUpdateIpConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachineScaleSetUpdatePublicIpAddressConfiguration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class VirtualMachineScaleSetUpdateIpConfigurationTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        VirtualMachineScaleSetUpdateIpConfiguration model = BinaryData.fromString(
            "{\"name\":\"i\",\"properties\":{\"subnet\":{\"id\":\"cirgzp\"},\"primary\":false,\"publicIPAddressConfiguration\":{\"name\":\"szrnwo\",\"properties\":{\"idleTimeoutInMinutes\":1988160983,\"dnsSettings\":{\"domainNameLabel\":\"pwp\",\"domainNameLabelScope\":\"SubscriptionReuse\"},\"publicIPPrefix\":{\"id\":\"tlhflsjcdhszf\"},\"deleteOption\":\"Detach\"},\"tags\":{\"a\":\"ofel\",\"ldvriiiojnalghfk\":\"rqmq\"}},\"privateIPAddressVersion\":\"IPv6\",\"applicationGatewayBackendAddressPools\":[{\"id\":\"sowueluqhhahhx\"}],\"applicationSecurityGroups\":[{\"id\":\"zkw\"}],\"loadBalancerBackendAddressPools\":[{\"id\":\"wspughftqsxhqx\"}],\"loadBalancerInboundNatPools\":[{\"id\":\"kndxdigrjgu\"},{\"id\":\"zdmsyqtfi\"},{\"id\":\"hbotzingamvppho\"}]}}")
            .toObject(VirtualMachineScaleSetUpdateIpConfiguration.class);
        Assertions.assertEquals("i", model.name());
        Assertions.assertEquals("cirgzp", model.subnet().id());
        Assertions.assertFalse(model.primary());
        Assertions.assertEquals("szrnwo", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals("ofel", model.publicIpAddressConfiguration().tags().get("a"));
        Assertions.assertEquals(1988160983, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals("pwp", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.SUBSCRIPTION_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("tlhflsjcdhszf", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(DeleteOptions.DETACH, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals(IpVersion.IPV6, model.privateIpAddressVersion());
        Assertions.assertEquals("sowueluqhhahhx", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("zkw", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("wspughftqsxhqx", model.loadBalancerBackendAddressPools().get(0).id());
        Assertions.assertEquals("kndxdigrjgu", model.loadBalancerInboundNatPools().get(0).id());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        VirtualMachineScaleSetUpdateIpConfiguration model
            = new VirtualMachineScaleSetUpdateIpConfiguration().withName("i")
                .withSubnet(new ApiEntityReference().withId("cirgzp"))
                .withPrimary(false)
                .withPublicIpAddressConfiguration(
                    new VirtualMachineScaleSetUpdatePublicIpAddressConfiguration().withName("szrnwo")
                        .withTags(mapOf("a", "ofel", "ldvriiiojnalghfk", "rqmq"))
                        .withIdleTimeoutInMinutes(1988160983)
                        .withDnsSettings(new VirtualMachineScaleSetPublicIpAddressConfigurationDnsSettings()
                            .withDomainNameLabel("pwp")
                            .withDomainNameLabelScope(DomainNameLabelScopeTypes.SUBSCRIPTION_REUSE))
                        .withPublicIpPrefix(new SubResource().withId("tlhflsjcdhszf"))
                        .withDeleteOption(DeleteOptions.DETACH))
                .withPrivateIpAddressVersion(IpVersion.IPV6)
                .withApplicationGatewayBackendAddressPools(Arrays.asList(new SubResource().withId("sowueluqhhahhx")))
                .withApplicationSecurityGroups(Arrays.asList(new SubResource().withId("zkw")))
                .withLoadBalancerBackendAddressPools(Arrays.asList(new SubResource().withId("wspughftqsxhqx")))
                .withLoadBalancerInboundNatPools(Arrays.asList(new SubResource().withId("kndxdigrjgu"),
                    new SubResource().withId("zdmsyqtfi"), new SubResource().withId("hbotzingamvppho")));
        model = BinaryData.fromObject(model).toObject(VirtualMachineScaleSetUpdateIpConfiguration.class);
        Assertions.assertEquals("i", model.name());
        Assertions.assertEquals("cirgzp", model.subnet().id());
        Assertions.assertFalse(model.primary());
        Assertions.assertEquals("szrnwo", model.publicIpAddressConfiguration().name());
        Assertions.assertEquals("ofel", model.publicIpAddressConfiguration().tags().get("a"));
        Assertions.assertEquals(1988160983, model.publicIpAddressConfiguration().idleTimeoutInMinutes());
        Assertions.assertEquals("pwp", model.publicIpAddressConfiguration().dnsSettings().domainNameLabel());
        Assertions.assertEquals(DomainNameLabelScopeTypes.SUBSCRIPTION_REUSE,
            model.publicIpAddressConfiguration().dnsSettings().domainNameLabelScope());
        Assertions.assertEquals("tlhflsjcdhszf", model.publicIpAddressConfiguration().publicIpPrefix().id());
        Assertions.assertEquals(DeleteOptions.DETACH, model.publicIpAddressConfiguration().deleteOption());
        Assertions.assertEquals(IpVersion.IPV6, model.privateIpAddressVersion());
        Assertions.assertEquals("sowueluqhhahhx", model.applicationGatewayBackendAddressPools().get(0).id());
        Assertions.assertEquals("zkw", model.applicationSecurityGroups().get(0).id());
        Assertions.assertEquals("wspughftqsxhqx", model.loadBalancerBackendAddressPools().get(0).id());
        Assertions.assertEquals("kndxdigrjgu", model.loadBalancerInboundNatPools().get(0).id());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
