// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.GalleryScriptVersionInner;
import com.azure.resourcemanager.compute.fluent.models.GalleryScriptVersionProperties;
import com.azure.resourcemanager.compute.models.AdditionalReplicaSet;
import com.azure.resourcemanager.compute.models.DataDiskImageEncryption;
import com.azure.resourcemanager.compute.models.EdgeZoneStorageAccountType;
import com.azure.resourcemanager.compute.models.EncryptionImages;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocation;
import com.azure.resourcemanager.compute.models.GalleryExtendedLocationType;
import com.azure.resourcemanager.compute.models.GalleryScriptParameter;
import com.azure.resourcemanager.compute.models.GalleryScriptParameterType;
import com.azure.resourcemanager.compute.models.GalleryScriptVersionPublishingProfile;
import com.azure.resourcemanager.compute.models.GalleryScriptVersionSafetyProfile;
import com.azure.resourcemanager.compute.models.GalleryTargetExtendedLocation;
import com.azure.resourcemanager.compute.models.OSDiskImageEncryption;
import com.azure.resourcemanager.compute.models.ReplicationMode;
import com.azure.resourcemanager.compute.models.ScriptSource;
import com.azure.resourcemanager.compute.models.StorageAccountStrategy;
import com.azure.resourcemanager.compute.models.StorageAccountType;
import com.azure.resourcemanager.compute.models.TargetRegion;
import java.time.OffsetDateTime;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class GalleryScriptVersionInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryScriptVersionInner model = BinaryData.fromString(
            "{\"properties\":{\"publishingProfile\":{\"source\":{\"scriptLink\":\"tgvpatr\",\"parameters\":[{\"type\":\"Int\",\"minValue\":\"i\",\"maxValue\":\"hoksmmculwk\",\"enumValues\":[\"ruook\"],\"name\":\"jflsgaojb\",\"required\":false,\"defaultValue\":\"sdoctpzpu\",\"description\":\"flmcdsgxc\"},{\"type\":\"Boolean\",\"minValue\":\"iswlluunxhfw\",\"maxValue\":\"xzfwugeupcknec\",\"enumValues\":[\"grvfp\",\"jdmngsytqpdzfyxc\",\"wawoxcgzbejqf\"],\"name\":\"ifopf\",\"required\":true,\"defaultValue\":\"drpazqjkrfmbw\",\"description\":\"fcuuugtjigpg\"}]},\"targetRegions\":[{\"name\":\"awohfmhnnzmec\",\"regionalReplicaCount\":1482539415,\"storageAccountType\":\"Premium_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":954646160},{\"lun\":2098123732},{\"lun\":1063766970}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{},{}]},{\"name\":\"gloiovsl\",\"regionalReplicaCount\":250538513,\"storageAccountType\":\"Standard_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":837292963}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{},{}]},{\"name\":\"i\",\"regionalReplicaCount\":335113798,\"storageAccountType\":\"Premium_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":1442218085},{\"lun\":1523097130}]},\"excludeFromLatest\":true,\"additionalReplicaSets\":[{},{},{}]}],\"replicaCount\":1967283311,\"excludeFromLatest\":false,\"publishedDate\":\"2021-11-12T15:51:12Z\",\"endOfLifeDate\":\"2021-05-03T11:51:08Z\",\"storageAccountType\":\"Standard_ZRS\",\"replicationMode\":\"Shallow\",\"targetExtendedLocations\":[{\"name\":\"fhvpxjhxzubfj\",\"extendedLocation\":{\"name\":\"bwzgv\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":718777220,\"storageAccountType\":\"Premium_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":513989654},{\"lun\":359901761}]}},{\"name\":\"aigavkmvyxzerejr\",\"extendedLocation\":{\"name\":\"jbyetjxryoptaei\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":794493203,\"storageAccountType\":\"StandardSSD_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":816302370}]}},{\"name\":\"emnrrabovrwwxy\",\"extendedLocation\":{\"name\":\"hspbo\",\"type\":\"EdgeZone\"},\"extendedLocationReplicaCount\":461847919,\"storageAccountType\":\"Premium_LRS\",\"encryption\":{\"osDiskImage\":{},\"dataDiskImages\":[{\"lun\":953634796}]}}],\"storageAccountStrategy\":\"DefaultStandard_LRS\"},\"safetyProfile\":{\"allowDeletionOfReplicatedLocations\":false},\"provisioningState\":\"Migrating\",\"replicationStatus\":{\"aggregatedState\":\"InProgress\",\"summary\":[{\"region\":\"vcmmpeglyuq\",\"state\":\"Unknown\",\"details\":\"aexbzbqufpnez\",\"progress\":1416486207}]}},\"location\":\"ymldrorhyogzm\",\"tags\":{\"yhn\":\"ehtcuuwdhtqq\"},\"id\":\"m\",\"name\":\"tnsugisno\",\"type\":\"wnwngh\"}")
            .toObject(GalleryScriptVersionInner.class);
        Assertions.assertEquals("ymldrorhyogzm", model.location());
        Assertions.assertEquals("ehtcuuwdhtqq", model.tags().get("yhn"));
        Assertions.assertEquals("awohfmhnnzmec", model.properties().publishingProfile().targetRegions().get(0).name());
        Assertions.assertEquals(1482539415,
            model.properties().publishingProfile().targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.PREMIUM_LRS,
            model.properties().publishingProfile().targetRegions().get(0).storageAccountType());
        Assertions.assertEquals(954646160,
            model.properties().publishingProfile().targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.properties().publishingProfile().targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(1967283311, model.properties().publishingProfile().replicaCount());
        Assertions.assertFalse(model.properties().publishingProfile().excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-03T11:51:08Z"),
            model.properties().publishingProfile().endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.STANDARD_ZRS,
            model.properties().publishingProfile().storageAccountType());
        Assertions.assertEquals(ReplicationMode.SHALLOW, model.properties().publishingProfile().replicationMode());
        Assertions.assertEquals("fhvpxjhxzubfj",
            model.properties().publishingProfile().targetExtendedLocations().get(0).name());
        Assertions.assertEquals("bwzgv",
            model.properties().publishingProfile().targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.properties().publishingProfile().targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(718777220,
            model.properties().publishingProfile().targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.PREMIUM_LRS,
            model.properties().publishingProfile().targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals(513989654,
            model.properties()
                .publishingProfile()
                .targetExtendedLocations()
                .get(0)
                .encryption()
                .dataDiskImages()
                .get(0)
                .lun());
        Assertions.assertEquals(StorageAccountStrategy.DEFAULT_STANDARD_LRS,
            model.properties().publishingProfile().storageAccountStrategy());
        Assertions.assertEquals("tgvpatr", model.properties().publishingProfile().source().scriptLink());
        Assertions.assertEquals("jflsgaojb",
            model.properties().publishingProfile().source().parameters().get(0).name());
        Assertions.assertFalse(model.properties().publishingProfile().source().parameters().get(0).required());
        Assertions.assertEquals("sdoctpzpu",
            model.properties().publishingProfile().source().parameters().get(0).defaultValue());
        Assertions.assertEquals("flmcdsgxc",
            model.properties().publishingProfile().source().parameters().get(0).description());
        Assertions.assertEquals(GalleryScriptParameterType.INT,
            model.properties().publishingProfile().source().parameters().get(0).type());
        Assertions.assertEquals("i", model.properties().publishingProfile().source().parameters().get(0).minValue());
        Assertions.assertEquals("hoksmmculwk",
            model.properties().publishingProfile().source().parameters().get(0).maxValue());
        Assertions.assertEquals("ruook",
            model.properties().publishingProfile().source().parameters().get(0).enumValues().get(0));
        Assertions.assertFalse(model.properties().safetyProfile().allowDeletionOfReplicatedLocations());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryScriptVersionInner model = new GalleryScriptVersionInner().withLocation("ymldrorhyogzm")
            .withTags(mapOf("yhn", "ehtcuuwdhtqq"))
            .withProperties(new GalleryScriptVersionProperties()
                .withPublishingProfile(new GalleryScriptVersionPublishingProfile()
                    .withTargetRegions(Arrays.asList(
                        new TargetRegion().withName("awohfmhnnzmec")
                            .withRegionalReplicaCount(1482539415)
                            .withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                            .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(954646160),
                                    new DataDiskImageEncryption().withLun(2098123732),
                                    new DataDiskImageEncryption().withLun(1063766970))))
                            .withExcludeFromLatest(true)
                            .withAdditionalReplicaSets(
                                Arrays.asList(new AdditionalReplicaSet(), new AdditionalReplicaSet())),
                        new TargetRegion().withName("gloiovsl")
                            .withRegionalReplicaCount(250538513)
                            .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                            .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(837292963))))
                            .withExcludeFromLatest(true)
                            .withAdditionalReplicaSets(
                                Arrays.asList(new AdditionalReplicaSet(), new AdditionalReplicaSet())),
                        new TargetRegion().withName("i")
                            .withRegionalReplicaCount(335113798)
                            .withStorageAccountType(StorageAccountType.PREMIUM_LRS)
                            .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(1442218085),
                                    new DataDiskImageEncryption().withLun(1523097130))))
                            .withExcludeFromLatest(true)
                            .withAdditionalReplicaSets(Arrays.asList(new AdditionalReplicaSet(),
                                new AdditionalReplicaSet(), new AdditionalReplicaSet()))))
                    .withReplicaCount(1967283311)
                    .withExcludeFromLatest(false)
                    .withEndOfLifeDate(OffsetDateTime.parse("2021-05-03T11:51:08Z"))
                    .withStorageAccountType(StorageAccountType.STANDARD_ZRS)
                    .withReplicationMode(ReplicationMode.SHALLOW)
                    .withTargetExtendedLocations(Arrays.asList(
                        new GalleryTargetExtendedLocation().withName("fhvpxjhxzubfj")
                            .withExtendedLocation(new GalleryExtendedLocation().withName("bwzgv")
                                .withType(GalleryExtendedLocationType.EDGE_ZONE))
                            .withExtendedLocationReplicaCount(718777220)
                            .withStorageAccountType(EdgeZoneStorageAccountType.PREMIUM_LRS)
                            .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(513989654),
                                    new DataDiskImageEncryption().withLun(359901761)))),
                        new GalleryTargetExtendedLocation().withName("aigavkmvyxzerejr")
                            .withExtendedLocation(new GalleryExtendedLocation().withName("jbyetjxryoptaei")
                                .withType(GalleryExtendedLocationType.EDGE_ZONE))
                            .withExtendedLocationReplicaCount(794493203)
                            .withStorageAccountType(EdgeZoneStorageAccountType.STANDARD_SSD_LRS)
                            .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(816302370)))),
                        new GalleryTargetExtendedLocation().withName("emnrrabovrwwxy")
                            .withExtendedLocation(new GalleryExtendedLocation().withName("hspbo")
                                .withType(GalleryExtendedLocationType.EDGE_ZONE))
                            .withExtendedLocationReplicaCount(461847919)
                            .withStorageAccountType(EdgeZoneStorageAccountType.PREMIUM_LRS)
                            .withEncryption(new EncryptionImages().withOsDiskImage(new OSDiskImageEncryption())
                                .withDataDiskImages(Arrays.asList(new DataDiskImageEncryption().withLun(953634796))))))
                    .withStorageAccountStrategy(StorageAccountStrategy.DEFAULT_STANDARD_LRS)
                    .withSource(new ScriptSource().withScriptLink("tgvpatr")
                        .withParameters(Arrays.asList(
                            new GalleryScriptParameter().withName("jflsgaojb")
                                .withRequired(false)
                                .withDefaultValue("sdoctpzpu")
                                .withDescription("flmcdsgxc")
                                .withType(GalleryScriptParameterType.INT)
                                .withMinValue("i")
                                .withMaxValue("hoksmmculwk")
                                .withEnumValues(Arrays.asList("ruook")),
                            new GalleryScriptParameter().withName("ifopf")
                                .withRequired(true)
                                .withDefaultValue("drpazqjkrfmbw")
                                .withDescription("fcuuugtjigpg")
                                .withType(GalleryScriptParameterType.BOOLEAN)
                                .withMinValue("iswlluunxhfw")
                                .withMaxValue("xzfwugeupcknec")
                                .withEnumValues(Arrays.asList("grvfp", "jdmngsytqpdzfyxc", "wawoxcgzbejqf"))))))
                .withSafetyProfile(
                    new GalleryScriptVersionSafetyProfile().withAllowDeletionOfReplicatedLocations(false)));
        model = BinaryData.fromObject(model).toObject(GalleryScriptVersionInner.class);
        Assertions.assertEquals("ymldrorhyogzm", model.location());
        Assertions.assertEquals("ehtcuuwdhtqq", model.tags().get("yhn"));
        Assertions.assertEquals("awohfmhnnzmec", model.properties().publishingProfile().targetRegions().get(0).name());
        Assertions.assertEquals(1482539415,
            model.properties().publishingProfile().targetRegions().get(0).regionalReplicaCount());
        Assertions.assertEquals(StorageAccountType.PREMIUM_LRS,
            model.properties().publishingProfile().targetRegions().get(0).storageAccountType());
        Assertions.assertEquals(954646160,
            model.properties().publishingProfile().targetRegions().get(0).encryption().dataDiskImages().get(0).lun());
        Assertions.assertTrue(model.properties().publishingProfile().targetRegions().get(0).excludeFromLatest());
        Assertions.assertEquals(1967283311, model.properties().publishingProfile().replicaCount());
        Assertions.assertFalse(model.properties().publishingProfile().excludeFromLatest());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-03T11:51:08Z"),
            model.properties().publishingProfile().endOfLifeDate());
        Assertions.assertEquals(StorageAccountType.STANDARD_ZRS,
            model.properties().publishingProfile().storageAccountType());
        Assertions.assertEquals(ReplicationMode.SHALLOW, model.properties().publishingProfile().replicationMode());
        Assertions.assertEquals("fhvpxjhxzubfj",
            model.properties().publishingProfile().targetExtendedLocations().get(0).name());
        Assertions.assertEquals("bwzgv",
            model.properties().publishingProfile().targetExtendedLocations().get(0).extendedLocation().name());
        Assertions.assertEquals(GalleryExtendedLocationType.EDGE_ZONE,
            model.properties().publishingProfile().targetExtendedLocations().get(0).extendedLocation().type());
        Assertions.assertEquals(718777220,
            model.properties().publishingProfile().targetExtendedLocations().get(0).extendedLocationReplicaCount());
        Assertions.assertEquals(EdgeZoneStorageAccountType.PREMIUM_LRS,
            model.properties().publishingProfile().targetExtendedLocations().get(0).storageAccountType());
        Assertions.assertEquals(513989654,
            model.properties()
                .publishingProfile()
                .targetExtendedLocations()
                .get(0)
                .encryption()
                .dataDiskImages()
                .get(0)
                .lun());
        Assertions.assertEquals(StorageAccountStrategy.DEFAULT_STANDARD_LRS,
            model.properties().publishingProfile().storageAccountStrategy());
        Assertions.assertEquals("tgvpatr", model.properties().publishingProfile().source().scriptLink());
        Assertions.assertEquals("jflsgaojb",
            model.properties().publishingProfile().source().parameters().get(0).name());
        Assertions.assertFalse(model.properties().publishingProfile().source().parameters().get(0).required());
        Assertions.assertEquals("sdoctpzpu",
            model.properties().publishingProfile().source().parameters().get(0).defaultValue());
        Assertions.assertEquals("flmcdsgxc",
            model.properties().publishingProfile().source().parameters().get(0).description());
        Assertions.assertEquals(GalleryScriptParameterType.INT,
            model.properties().publishingProfile().source().parameters().get(0).type());
        Assertions.assertEquals("i", model.properties().publishingProfile().source().parameters().get(0).minValue());
        Assertions.assertEquals("hoksmmculwk",
            model.properties().publishingProfile().source().parameters().get(0).maxValue());
        Assertions.assertEquals("ruook",
            model.properties().publishingProfile().source().parameters().get(0).enumValues().get(0));
        Assertions.assertFalse(model.properties().safetyProfile().allowDeletionOfReplicatedLocations());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
