// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.GalleryImageProperties;
import com.azure.resourcemanager.compute.models.Architecture;
import com.azure.resourcemanager.compute.models.Disallowed;
import com.azure.resourcemanager.compute.models.GalleryImageFeature;
import com.azure.resourcemanager.compute.models.GalleryImageIdentifier;
import com.azure.resourcemanager.compute.models.HyperVGeneration;
import com.azure.resourcemanager.compute.models.ImagePurchasePlan;
import com.azure.resourcemanager.compute.models.OperatingSystemStateTypes;
import com.azure.resourcemanager.compute.models.OperatingSystemTypes;
import com.azure.resourcemanager.compute.models.RecommendedMachineConfiguration;
import com.azure.resourcemanager.compute.models.ResourceRange;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class GalleryImagePropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryImageProperties model = BinaryData.fromString(
            "{\"description\":\"mltwjfluxynbpvzl\",\"eula\":\"wa\",\"privacyStatementUri\":\"qnjckhmocg\",\"releaseNoteUri\":\"hgouarh\",\"osType\":\"Windows\",\"osState\":\"Generalized\",\"hyperVGeneration\":\"V1\",\"endOfLifeDate\":\"2021-04-17T16:17:58Z\",\"identifier\":{\"publisher\":\"gljkybsj\",\"offer\":\"clrvtzqnrbctbh\",\"sku\":\"jhxpcvrd\"},\"recommended\":{\"vCPUs\":{\"min\":1058674336,\"max\":192844445},\"memory\":{\"min\":297181437,\"max\":199362651}},\"disallowed\":{\"diskTypes\":[\"ahwriuomzczfk\",\"ceevsa\",\"xwspcaxikhfjq\",\"bglcxkxgzzromvy\"]},\"purchasePlan\":{\"name\":\"emtm\",\"publisher\":\"rf\",\"product\":\"pinkzp\"},\"provisioningState\":\"Migrating\",\"features\":[{\"name\":\"swxspvckojaz\",\"value\":\"gspftesu\",\"startsAtVersion\":\"pvpvd\"},{\"name\":\"ytcovqs\",\"value\":\"srfjbdxzfxnx\",\"startsAtVersion\":\"b\"},{\"name\":\"oswkjmdihdcyyyzl\",\"value\":\"bwzjnufzrf\",\"startsAtVersion\":\"dq\"},{\"name\":\"nbzrtfte\",\"value\":\"uubjtvgjsxmty\",\"startsAtVersion\":\"vavdp\"}],\"architecture\":\"x64\",\"allowUpdateImage\":false}")
            .toObject(GalleryImageProperties.class);
        Assertions.assertEquals("mltwjfluxynbpvzl", model.description());
        Assertions.assertEquals("wa", model.eula());
        Assertions.assertEquals("qnjckhmocg", model.privacyStatementUri());
        Assertions.assertEquals("hgouarh", model.releaseNoteUri());
        Assertions.assertEquals(OperatingSystemTypes.WINDOWS, model.osType());
        Assertions.assertEquals(OperatingSystemStateTypes.GENERALIZED, model.osState());
        Assertions.assertEquals(HyperVGeneration.V1, model.hyperVGeneration());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-17T16:17:58Z"), model.endOfLifeDate());
        Assertions.assertEquals("gljkybsj", model.identifier().publisher());
        Assertions.assertEquals("clrvtzqnrbctbh", model.identifier().offer());
        Assertions.assertEquals("jhxpcvrd", model.identifier().sku());
        Assertions.assertEquals(1058674336, model.recommended().vCPUs().min());
        Assertions.assertEquals(192844445, model.recommended().vCPUs().max());
        Assertions.assertEquals(297181437, model.recommended().memory().min());
        Assertions.assertEquals(199362651, model.recommended().memory().max());
        Assertions.assertEquals("ahwriuomzczfk", model.disallowed().diskTypes().get(0));
        Assertions.assertEquals("emtm", model.purchasePlan().name());
        Assertions.assertEquals("rf", model.purchasePlan().publisher());
        Assertions.assertEquals("pinkzp", model.purchasePlan().product());
        Assertions.assertEquals("swxspvckojaz", model.features().get(0).name());
        Assertions.assertEquals("gspftesu", model.features().get(0).value());
        Assertions.assertEquals("pvpvd", model.features().get(0).startsAtVersion());
        Assertions.assertEquals(Architecture.X64, model.architecture());
        Assertions.assertFalse(model.allowUpdateImage());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryImageProperties model = new GalleryImageProperties().withDescription("mltwjfluxynbpvzl")
            .withEula("wa")
            .withPrivacyStatementUri("qnjckhmocg")
            .withReleaseNoteUri("hgouarh")
            .withOsType(OperatingSystemTypes.WINDOWS)
            .withOsState(OperatingSystemStateTypes.GENERALIZED)
            .withHyperVGeneration(HyperVGeneration.V1)
            .withEndOfLifeDate(OffsetDateTime.parse("2021-04-17T16:17:58Z"))
            .withIdentifier(
                new GalleryImageIdentifier().withPublisher("gljkybsj").withOffer("clrvtzqnrbctbh").withSku("jhxpcvrd"))
            .withRecommended(new RecommendedMachineConfiguration()
                .withVCPUs(new ResourceRange().withMin(1058674336).withMax(192844445))
                .withMemory(new ResourceRange().withMin(297181437).withMax(199362651)))
            .withDisallowed(new Disallowed()
                .withDiskTypes(Arrays.asList("ahwriuomzczfk", "ceevsa", "xwspcaxikhfjq", "bglcxkxgzzromvy")))
            .withPurchasePlan(new ImagePurchasePlan().withName("emtm").withPublisher("rf").withProduct("pinkzp"))
            .withFeatures(Arrays.asList(
                new GalleryImageFeature().withName("swxspvckojaz").withValue("gspftesu").withStartsAtVersion("pvpvd"),
                new GalleryImageFeature().withName("ytcovqs").withValue("srfjbdxzfxnx").withStartsAtVersion("b"),
                new GalleryImageFeature().withName("oswkjmdihdcyyyzl")
                    .withValue("bwzjnufzrf")
                    .withStartsAtVersion("dq"),
                new GalleryImageFeature().withName("nbzrtfte").withValue("uubjtvgjsxmty").withStartsAtVersion("vavdp")))
            .withArchitecture(Architecture.X64)
            .withAllowUpdateImage(false);
        model = BinaryData.fromObject(model).toObject(GalleryImageProperties.class);
        Assertions.assertEquals("mltwjfluxynbpvzl", model.description());
        Assertions.assertEquals("wa", model.eula());
        Assertions.assertEquals("qnjckhmocg", model.privacyStatementUri());
        Assertions.assertEquals("hgouarh", model.releaseNoteUri());
        Assertions.assertEquals(OperatingSystemTypes.WINDOWS, model.osType());
        Assertions.assertEquals(OperatingSystemStateTypes.GENERALIZED, model.osState());
        Assertions.assertEquals(HyperVGeneration.V1, model.hyperVGeneration());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-17T16:17:58Z"), model.endOfLifeDate());
        Assertions.assertEquals("gljkybsj", model.identifier().publisher());
        Assertions.assertEquals("clrvtzqnrbctbh", model.identifier().offer());
        Assertions.assertEquals("jhxpcvrd", model.identifier().sku());
        Assertions.assertEquals(1058674336, model.recommended().vCPUs().min());
        Assertions.assertEquals(192844445, model.recommended().vCPUs().max());
        Assertions.assertEquals(297181437, model.recommended().memory().min());
        Assertions.assertEquals(199362651, model.recommended().memory().max());
        Assertions.assertEquals("ahwriuomzczfk", model.disallowed().diskTypes().get(0));
        Assertions.assertEquals("emtm", model.purchasePlan().name());
        Assertions.assertEquals("rf", model.purchasePlan().publisher());
        Assertions.assertEquals("pinkzp", model.purchasePlan().product());
        Assertions.assertEquals("swxspvckojaz", model.features().get(0).name());
        Assertions.assertEquals("gspftesu", model.features().get(0).value());
        Assertions.assertEquals("pvpvd", model.features().get(0).startsAtVersion());
        Assertions.assertEquals(Architecture.X64, model.architecture());
        Assertions.assertFalse(model.allowUpdateImage());
    }
}
