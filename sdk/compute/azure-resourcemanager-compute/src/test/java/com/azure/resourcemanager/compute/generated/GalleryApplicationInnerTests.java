// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.compute.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.compute.fluent.models.GalleryApplicationInner;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomAction;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomActionParameter;
import com.azure.resourcemanager.compute.models.GalleryApplicationCustomActionParameterType;
import com.azure.resourcemanager.compute.models.OperatingSystemTypes;
import java.time.OffsetDateTime;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class GalleryApplicationInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GalleryApplicationInner model = BinaryData.fromString(
            "{\"properties\":{\"description\":\"klpruulhglt\",\"eula\":\"zwxvscksgf\",\"privacyStatementUri\":\"skyekgafxczv\",\"releaseNoteUri\":\"ckwrtw\",\"endOfLifeDate\":\"2021-11-25T04:30:08Z\",\"supportedOSType\":\"Windows\",\"customActions\":[{\"name\":\"szrtlhpdhwynct\",\"script\":\"c\",\"description\":\"njfmbbfnvjxit\",\"parameters\":[{\"name\":\"nkrtikl\",\"required\":false,\"type\":\"String\",\"defaultValue\":\"lcoqksyiib\",\"description\":\"xwbgbudavqd\"}]}]},\"location\":\"bccqcdhthojvl\",\"tags\":{\"gpyai\":\"nucosawrdtnagz\",\"qfttkacybdueur\":\"ihzqjjtsmuy\"},\"id\":\"mcdcpkshl\",\"name\":\"jermhzic\",\"type\":\"bfdjhyaaknyukibx\"}")
            .toObject(GalleryApplicationInner.class);
        Assertions.assertEquals("bccqcdhthojvl", model.location());
        Assertions.assertEquals("nucosawrdtnagz", model.tags().get("gpyai"));
        Assertions.assertEquals("klpruulhglt", model.description());
        Assertions.assertEquals("zwxvscksgf", model.eula());
        Assertions.assertEquals("skyekgafxczv", model.privacyStatementUri());
        Assertions.assertEquals("ckwrtw", model.releaseNoteUri());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-25T04:30:08Z"), model.endOfLifeDate());
        Assertions.assertEquals(OperatingSystemTypes.WINDOWS, model.supportedOSType());
        Assertions.assertEquals("szrtlhpdhwynct", model.customActions().get(0).name());
        Assertions.assertEquals("c", model.customActions().get(0).script());
        Assertions.assertEquals("njfmbbfnvjxit", model.customActions().get(0).description());
        Assertions.assertEquals("nkrtikl", model.customActions().get(0).parameters().get(0).name());
        Assertions.assertFalse(model.customActions().get(0).parameters().get(0).required());
        Assertions.assertEquals(GalleryApplicationCustomActionParameterType.STRING,
            model.customActions().get(0).parameters().get(0).type());
        Assertions.assertEquals("lcoqksyiib", model.customActions().get(0).parameters().get(0).defaultValue());
        Assertions.assertEquals("xwbgbudavqd", model.customActions().get(0).parameters().get(0).description());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GalleryApplicationInner model = new GalleryApplicationInner().withLocation("bccqcdhthojvl")
            .withTags(mapOf("gpyai", "nucosawrdtnagz", "qfttkacybdueur", "ihzqjjtsmuy"))
            .withDescription("klpruulhglt")
            .withEula("zwxvscksgf")
            .withPrivacyStatementUri("skyekgafxczv")
            .withReleaseNoteUri("ckwrtw")
            .withEndOfLifeDate(OffsetDateTime.parse("2021-11-25T04:30:08Z"))
            .withSupportedOSType(OperatingSystemTypes.WINDOWS)
            .withCustomActions(Arrays.asList(new GalleryApplicationCustomAction().withName("szrtlhpdhwynct")
                .withScript("c")
                .withDescription("njfmbbfnvjxit")
                .withParameters(Arrays.asList(new GalleryApplicationCustomActionParameter().withName("nkrtikl")
                    .withRequired(false)
                    .withType(GalleryApplicationCustomActionParameterType.STRING)
                    .withDefaultValue("lcoqksyiib")
                    .withDescription("xwbgbudavqd")))));
        model = BinaryData.fromObject(model).toObject(GalleryApplicationInner.class);
        Assertions.assertEquals("bccqcdhthojvl", model.location());
        Assertions.assertEquals("nucosawrdtnagz", model.tags().get("gpyai"));
        Assertions.assertEquals("klpruulhglt", model.description());
        Assertions.assertEquals("zwxvscksgf", model.eula());
        Assertions.assertEquals("skyekgafxczv", model.privacyStatementUri());
        Assertions.assertEquals("ckwrtw", model.releaseNoteUri());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-25T04:30:08Z"), model.endOfLifeDate());
        Assertions.assertEquals(OperatingSystemTypes.WINDOWS, model.supportedOSType());
        Assertions.assertEquals("szrtlhpdhwynct", model.customActions().get(0).name());
        Assertions.assertEquals("c", model.customActions().get(0).script());
        Assertions.assertEquals("njfmbbfnvjxit", model.customActions().get(0).description());
        Assertions.assertEquals("nkrtikl", model.customActions().get(0).parameters().get(0).name());
        Assertions.assertFalse(model.customActions().get(0).parameters().get(0).required());
        Assertions.assertEquals(GalleryApplicationCustomActionParameterType.STRING,
            model.customActions().get(0).parameters().get(0).type());
        Assertions.assertEquals("lcoqksyiib", model.customActions().get(0).parameters().get(0).defaultValue());
        Assertions.assertEquals("xwbgbudavqd", model.customActions().get(0).parameters().get(0).description());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
