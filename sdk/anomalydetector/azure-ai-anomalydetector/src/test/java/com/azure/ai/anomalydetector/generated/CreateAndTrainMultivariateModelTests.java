// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.ai.anomalydetector.generated;

import com.azure.ai.anomalydetector.models.AlignMode;
import com.azure.ai.anomalydetector.models.AlignPolicy;
import com.azure.ai.anomalydetector.models.AnomalyDetectionModel;
import com.azure.ai.anomalydetector.models.DataSchema;
import com.azure.ai.anomalydetector.models.ErrorResponse;
import com.azure.ai.anomalydetector.models.FillNAMethod;
import com.azure.ai.anomalydetector.models.ModelInfo;
import com.azure.ai.anomalydetector.models.ModelStatus;
import java.time.OffsetDateTime;
import java.util.List;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

@Disabled
public final class CreateAndTrainMultivariateModelTests extends AnomalyDetectorClientTestBase {
    @Test
    @Disabled
    public void testCreateAndTrainMultivariateModelTests() {
        // method invocation
        AnomalyDetectionModel response = multivariateClient.trainMultivariateModel(
            new ModelInfo("https://multiadsample.blob.core.windows.net/data/sample_data_2_1000.csv",
                OffsetDateTime.parse("2019-04-01T00:00:00Z"), OffsetDateTime.parse("2019-04-02T00:00:00Z"))
                    .setDataSchema(DataSchema.ONE_TABLE)
                    .setDisplayName("Devops-MultiAD")
                    .setSlidingWindow(20)
                    .setAlignPolicy(new AlignPolicy().setAlignMode(AlignMode.OUTER)
                        .setFillNAMethod(FillNAMethod.LINEAR)
                        .setPaddingValue(0.0D)));

        // response assertion
        Assertions.assertNotNull(response);
        // verify property "modelId"
        Assertions.assertEquals("45aad126-aafd-11ea-b8fb-d89ef3400c5f", response.getModelId());
        // verify property "createdTime"
        Assertions.assertNotNull(response.getCreatedTime());
        // verify property "lastUpdatedTime"
        Assertions.assertNotNull(response.getLastUpdatedTime());
        // verify property "modelInfo"
        ModelInfo responseModelInfo = response.getModelInfo();
        Assertions.assertNotNull(responseModelInfo);
        Assertions.assertEquals("https://multiadsample.blob.core.windows.net/data/sample_data_2_1000.csv",
            responseModelInfo.getDataSource());
        Assertions.assertEquals(DataSchema.ONE_TABLE, responseModelInfo.getDataSchema());
        Assertions.assertNotNull(responseModelInfo.getStartTime());
        Assertions.assertNotNull(responseModelInfo.getEndTime());
        Assertions.assertEquals("Devops-MultiAD", responseModelInfo.getDisplayName());
        Assertions.assertEquals(20, responseModelInfo.getSlidingWindow());
        AlignPolicy responseModelInfoAlignPolicy = responseModelInfo.getAlignPolicy();
        Assertions.assertNotNull(responseModelInfoAlignPolicy);
        Assertions.assertEquals(AlignMode.OUTER, responseModelInfoAlignPolicy.getAlignMode());
        Assertions.assertEquals(FillNAMethod.LINEAR, responseModelInfoAlignPolicy.getFillNAMethod());
        Assertions.assertEquals(0.0D, responseModelInfoAlignPolicy.getPaddingValue());
        Assertions.assertEquals(ModelStatus.CREATED, responseModelInfo.getStatus());
        List<ErrorResponse> responseModelInfoErrors = responseModelInfo.getErrors();
        Assertions.assertEquals(0, responseModelInfoErrors.size());
    }
}
