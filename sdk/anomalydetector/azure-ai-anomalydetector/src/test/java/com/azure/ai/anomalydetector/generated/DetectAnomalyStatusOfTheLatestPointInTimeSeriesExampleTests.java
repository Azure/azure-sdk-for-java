// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License. See License.txt in the project root for license information.
//
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.ai.anomalydetector.generated;

import com.azure.core.http.rest.RequestOptions;
import com.azure.core.http.rest.Response;
import com.azure.core.util.BinaryData;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

public final class DetectAnomalyStatusOfTheLatestPointInTimeSeriesExampleTests extends AnomalyDetectorClientTestBase {
    @Test
    @Disabled
    public void testDetectAnomalyStatusOfTheLatestPointInTimeSeriesExampleTests() {
        BinaryData body =
                BinaryData.fromString(
                        "{\"granularity\":\"monthly\",\"imputeFixedValue\":800,\"imputeMode\":\"fixed\",\"maxAnomalyRatio\":0.25,\"sensitivity\":95,\"series\":[{\"timestamp\":\"1972-01-01T00:00:00Z\",\"value\":826},{\"timestamp\":\"1972-02-01T00:00:00Z\",\"value\":799},{\"timestamp\":\"1972-03-01T00:00:00Z\",\"value\":890},{\"timestamp\":\"1972-04-01T00:00:00Z\",\"value\":900},{\"timestamp\":\"1972-05-01T00:00:00Z\",\"value\":961},{\"timestamp\":\"1972-06-01T00:00:00Z\",\"value\":935},{\"timestamp\":\"1972-07-01T00:00:00Z\",\"value\":894},{\"timestamp\":\"1972-08-01T00:00:00Z\",\"value\":855},{\"timestamp\":\"1972-09-01T00:00:00Z\",\"value\":809},{\"timestamp\":\"1972-10-01T00:00:00Z\",\"value\":810},{\"timestamp\":\"1972-11-01T00:00:00Z\",\"value\":766},{\"timestamp\":\"1972-12-01T00:00:00Z\",\"value\":805},{\"timestamp\":\"1973-01-01T00:00:00Z\",\"value\":821},{\"timestamp\":\"1973-02-01T00:00:00Z\",\"value\":773},{\"timestamp\":\"1973-03-01T00:00:00Z\",\"value\":883},{\"timestamp\":\"1973-04-01T00:00:00Z\",\"value\":898},{\"timestamp\":\"1973-05-01T00:00:00Z\",\"value\":957},{\"timestamp\":\"1973-06-01T00:00:00Z\",\"value\":924},{\"timestamp\":\"1973-07-01T00:00:00Z\",\"value\":881},{\"timestamp\":\"1973-08-01T00:00:00Z\",\"value\":837},{\"timestamp\":\"1973-09-01T00:00:00Z\",\"value\":784},{\"timestamp\":\"1973-10-01T00:00:00Z\",\"value\":791},{\"timestamp\":\"1973-11-01T00:00:00Z\",\"value\":760},{\"timestamp\":\"1973-12-01T00:00:00Z\",\"value\":802},{\"timestamp\":\"1974-01-01T00:00:00Z\",\"value\":828},{\"timestamp\":\"1974-02-01T00:00:00Z\",\"value\":1030},{\"timestamp\":\"1974-03-01T00:00:00Z\",\"value\":889},{\"timestamp\":\"1974-04-01T00:00:00Z\",\"value\":902},{\"timestamp\":\"1974-05-01T00:00:00Z\",\"value\":969},{\"timestamp\":\"1974-06-01T00:00:00Z\",\"value\":947},{\"timestamp\":\"1974-07-01T00:00:00Z\",\"value\":908},{\"timestamp\":\"1974-08-01T00:00:00Z\",\"value\":867},{\"timestamp\":\"1974-09-01T00:00:00Z\",\"value\":815},{\"timestamp\":\"1974-10-01T00:00:00Z\",\"value\":812},{\"timestamp\":\"1974-11-01T00:00:00Z\",\"value\":773},{\"timestamp\":\"1974-12-01T00:00:00Z\",\"value\":813},{\"timestamp\":\"1975-01-01T00:00:00Z\",\"value\":834},{\"timestamp\":\"1975-02-01T00:00:00Z\",\"value\":782},{\"timestamp\":\"1975-03-01T00:00:00Z\",\"value\":892},{\"timestamp\":\"1975-04-01T00:00:00Z\",\"value\":903},{\"timestamp\":\"1975-05-01T00:00:00Z\",\"value\":966},{\"timestamp\":\"1975-06-01T00:00:00Z\",\"value\":937},{\"timestamp\":\"1975-07-01T00:00:00Z\",\"value\":896},{\"timestamp\":\"1975-08-01T00:00:00Z\",\"value\":858},{\"timestamp\":\"1975-09-01T00:00:00Z\",\"value\":817},{\"timestamp\":\"1975-10-01T00:00:00Z\",\"value\":827},{\"timestamp\":\"1975-11-01T00:00:00Z\",\"value\":797},{\"timestamp\":\"1975-12-01T00:00:00Z\",\"value\":843}]}");
        RequestOptions requestOptions = new RequestOptions();
        Response<BinaryData> response = anomalyDetectorClient.detectLastPointWithResponse(body, requestOptions);
        Assertions.assertEquals(200, response.getStatusCode());
        Assertions.assertEquals(
                BinaryData.fromString(
                                "{\"expectedValue\":809.2328084659704,\"isAnomaly\":false,\"isNegativeAnomaly\":false,\"isPositiveAnomaly\":false,\"lowerMargin\":40.46164042329852,\"period\":12,\"severity\":0,\"suggestedWindow\":49,\"upperMargin\":40.46164042329852}")
                        .toObject(Object.class),
                response.getValue().toObject(Object.class));
    }
}
