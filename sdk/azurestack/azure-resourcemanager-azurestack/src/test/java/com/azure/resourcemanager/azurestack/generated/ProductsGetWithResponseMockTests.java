// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.azurestack.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.azurestack.AzureStackManager;
import com.azure.resourcemanager.azurestack.models.CompatibilityIssue;
import com.azure.resourcemanager.azurestack.models.Product;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class ProductsGetWithResponseMockTests {
    @Test
    public void testGetWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"displayName\":\"postmgrcfbunrm\",\"description\":\"jhhkxbp\",\"publisherDisplayName\":\"ymjhxxjyngudivkr\",\"publisherIdentifier\":\"wbxqzvszjfau\",\"offer\":\"fdxxivetvtcqaqtd\",\"offerVersion\":\"mcbxvwvxysl\",\"sku\":\"hsfxoblytkb\",\"billingPartNumber\":\"pe\",\"vmExtensionType\":\"wfbkrvrns\",\"galleryItemIdentity\":\"hqjohxcrsbfova\",\"iconUris\":{\"large\":\"uvwbhsqfs\",\"wide\":\"cgjbirxbp\",\"medium\":\"srfbjfdtwss\",\"small\":\"ftpvjzbexil\",\"hero\":\"nfqqnvwp\"},\"links\":[{\"displayName\":\"ruoujmk\",\"uri\":\"hwqytj\"},{\"displayName\":\"bnw\",\"uri\":\"wgdrjervnaenqp\"},{\"displayName\":\"indoygmifthnzd\",\"uri\":\"sl\"}],\"legalTerms\":\"ayqigynduhav\",\"privacyPolicy\":\"lkthu\",\"payloadLength\":7354376095357948005,\"productKind\":\"bgycduiertgccym\",\"productProperties\":{\"version\":\"l\"},\"compatibility\":{\"isCompatible\":false,\"message\":\"lfmmdnbbglzpswi\",\"description\":\"mcwyhzdxssadb\",\"issues\":[\"DisconnectedEnvironmentRequired\",\"PayAsYouGoBillingModelRequired\",\"DisconnectedEnvironmentRequired\"]}},\"etag\":\"n\",\"id\":\"daodvxzbncblyl\",\"name\":\"stdbhhxsrzdzu\",\"type\":\"erscdntne\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        AzureStackManager manager = AzureStackManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        Product response = manager.products()
            .getWithResponse("pfqbuaceopzf", "rhhuaopppcqeqx", "lzdahzxctobgbkdm", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals("n", response.etag());
        Assertions.assertEquals("postmgrcfbunrm", response.displayName());
        Assertions.assertEquals("jhhkxbp", response.description());
        Assertions.assertEquals("ymjhxxjyngudivkr", response.publisherDisplayName());
        Assertions.assertEquals("wbxqzvszjfau", response.publisherIdentifier());
        Assertions.assertEquals("fdxxivetvtcqaqtd", response.offer());
        Assertions.assertEquals("mcbxvwvxysl", response.offerVersion());
        Assertions.assertEquals("hsfxoblytkb", response.sku());
        Assertions.assertEquals("pe", response.billingPartNumber());
        Assertions.assertEquals("wfbkrvrns", response.vmExtensionType());
        Assertions.assertEquals("hqjohxcrsbfova", response.galleryItemIdentity());
        Assertions.assertEquals("uvwbhsqfs", response.iconUris().large());
        Assertions.assertEquals("cgjbirxbp", response.iconUris().wide());
        Assertions.assertEquals("srfbjfdtwss", response.iconUris().medium());
        Assertions.assertEquals("ftpvjzbexil", response.iconUris().small());
        Assertions.assertEquals("nfqqnvwp", response.iconUris().hero());
        Assertions.assertEquals("ruoujmk", response.links().get(0).displayName());
        Assertions.assertEquals("hwqytj", response.links().get(0).uri());
        Assertions.assertEquals("ayqigynduhav", response.legalTerms());
        Assertions.assertEquals("lkthu", response.privacyPolicy());
        Assertions.assertEquals(7354376095357948005L, response.payloadLength());
        Assertions.assertEquals("bgycduiertgccym", response.productKind());
        Assertions.assertEquals("l", response.productProperties().version());
        Assertions.assertEquals(false, response.compatibility().isCompatible());
        Assertions.assertEquals("lfmmdnbbglzpswi", response.compatibility().message());
        Assertions.assertEquals("mcwyhzdxssadb", response.compatibility().description());
        Assertions.assertEquals(CompatibilityIssue.DISCONNECTED_ENVIRONMENT_REQUIRED,
            response.compatibility().issues().get(0));
    }
}
