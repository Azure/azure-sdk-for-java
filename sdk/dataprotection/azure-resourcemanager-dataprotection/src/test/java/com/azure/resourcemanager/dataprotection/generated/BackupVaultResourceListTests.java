// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.dataprotection.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.dataprotection.fluent.models.BackupVaultResourceInner;
import com.azure.resourcemanager.dataprotection.models.AlertsState;
import com.azure.resourcemanager.dataprotection.models.AzureMonitorAlertSettings;
import com.azure.resourcemanager.dataprotection.models.BackupVault;
import com.azure.resourcemanager.dataprotection.models.BackupVaultResourceList;
import com.azure.resourcemanager.dataprotection.models.CrossRegionRestoreSettings;
import com.azure.resourcemanager.dataprotection.models.CrossRegionRestoreState;
import com.azure.resourcemanager.dataprotection.models.CrossSubscriptionRestoreSettings;
import com.azure.resourcemanager.dataprotection.models.CrossSubscriptionRestoreState;
import com.azure.resourcemanager.dataprotection.models.DppIdentityDetails;
import com.azure.resourcemanager.dataprotection.models.FeatureSettings;
import com.azure.resourcemanager.dataprotection.models.ImmutabilitySettings;
import com.azure.resourcemanager.dataprotection.models.ImmutabilityState;
import com.azure.resourcemanager.dataprotection.models.MonitoringSettings;
import com.azure.resourcemanager.dataprotection.models.SecuritySettings;
import com.azure.resourcemanager.dataprotection.models.SoftDeleteSettings;
import com.azure.resourcemanager.dataprotection.models.SoftDeleteState;
import com.azure.resourcemanager.dataprotection.models.StorageSetting;
import com.azure.resourcemanager.dataprotection.models.StorageSettingStoreTypes;
import com.azure.resourcemanager.dataprotection.models.StorageSettingTypes;
import com.azure.resourcemanager.dataprotection.models.UserAssignedIdentity;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class BackupVaultResourceListTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        BackupVaultResourceList model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"monitoringSettings\":{\"azureMonitorAlertSettings\":{\"alertsForAllJobFailures\":\"Disabled\"}},\"provisioningState\":\"Updating\",\"resourceMoveState\":\"InProgress\",\"resourceMoveDetails\":{\"operationId\":\"czmehmtzopbsp\",\"startTimeUtc\":\"upi\",\"completionTimeUtc\":\"sybbejhph\",\"sourceResourcePath\":\"cmsxaobhdxbm\",\"targetResourcePath\":\"ioq\"},\"securitySettings\":{\"softDeleteSettings\":{\"state\":\"On\",\"retentionDurationInDays\":12.53974621306525},\"immutabilitySettings\":{\"state\":\"Locked\"}},\"storageSettings\":[{\"datastoreType\":\"ArchiveStore\",\"type\":\"ZoneRedundant\"}],\"isVaultProtectedByResourceGuard\":false,\"featureSettings\":{\"crossSubscriptionRestoreSettings\":{\"state\":\"Enabled\"},\"crossRegionRestoreSettings\":{\"state\":\"Disabled\"}},\"secureScore\":\"Maximum\",\"replicatedRegions\":[\"gkdmb\",\"azlobcufpdznrbt\",\"qqjnqgl\",\"qgn\"]},\"identity\":{\"principalId\":\"oo\",\"tenantId\":\"wifsq\",\"type\":\"aagdfmg\",\"userAssignedIdentities\":{\"xrifkwmrvkts\":{\"principalId\":\"869ca0d9-d976-4e77-8655-634679804b91\",\"clientId\":\"b75e27bf-5c30-42d4-a648-9124e920c396\"},\"to\":{\"principalId\":\"2e2fd882-88ce-4fa6-8337-cfeb6d29f4c6\",\"clientId\":\"023f4d97-7282-4e69-b889-63df5b25b634\"}}},\"eTag\":\"pa\",\"location\":\"ajpsquc\",\"tags\":{\"kfo\":\"yf\"},\"id\":\"knygjofjddeq\",\"name\":\"rd\",\"type\":\"upewnwreitjzy\"},{\"properties\":{\"monitoringSettings\":{\"azureMonitorAlertSettings\":{\"alertsForAllJobFailures\":\"Disabled\"}},\"provisioningState\":\"Updating\",\"resourceMoveState\":\"CommitTimedout\",\"resourceMoveDetails\":{\"operationId\":\"qhsmyurkdtml\",\"startTimeUtc\":\"ekuksjtx\",\"completionTimeUtc\":\"cdm\",\"sourceResourcePath\":\"rcryuanzwuxzdxta\",\"targetResourcePath\":\"lhmwhfpmrqobm\"},\"securitySettings\":{\"softDeleteSettings\":{\"state\":\"AlwaysOn\",\"retentionDurationInDays\":30.42594303603623},\"immutabilitySettings\":{\"state\":\"Unlocked\"}},\"storageSettings\":[{\"datastoreType\":\"OperationalStore\",\"type\":\"ZoneRedundant\"}],\"isVaultProtectedByResourceGuard\":true,\"featureSettings\":{\"crossSubscriptionRestoreSettings\":{\"state\":\"PermanentlyDisabled\"},\"crossRegionRestoreSettings\":{\"state\":\"Enabled\"}},\"secureScore\":\"Maximum\",\"replicatedRegions\":[\"zufcyzkohdbi\",\"anufhfcbjysag\",\"th\",\"qhabifpikxwcz\"]},\"identity\":{\"principalId\":\"cnpqxuhivyqniwby\",\"tenantId\":\"k\",\"type\":\"dumjgrtfwvuk\",\"userAssignedIdentities\":{\"ccsnhsjc\":{\"principalId\":\"ff179c49-e52a-4572-bb11-44bb445238f9\",\"clientId\":\"f7e17e46-0672-479d-9d22-e2d9bac78df3\"},\"j\":{\"principalId\":\"cf5ab398-8efa-40ce-8b07-26047da4a0e7\",\"clientId\":\"e09ed8e3-8d9f-46b0-93ad-a0471ee4f591\"},\"yhtnapczwlokjye\":{\"principalId\":\"238dc5ec-f3e1-4e9d-83c6-a55242335924\",\"clientId\":\"0902af24-5c6a-4d65-99c5-23ad61a11077\"}}},\"eTag\":\"kvnipjoxz\",\"location\":\"chgejspodm\",\"tags\":{\"o\":\"zyde\",\"wixjsprozvcp\":\"wyahuxinpmqnja\",\"atscmd\":\"tegjvwmf\",\"zkrwfn\":\"pjhulsuuvmkj\"},\"id\":\"iodjp\",\"name\":\"lwejdpv\",\"type\":\"ryo\"},{\"properties\":{\"monitoringSettings\":{\"azureMonitorAlertSettings\":{\"alertsForAllJobFailures\":\"Disabled\"}},\"provisioningState\":\"Unknown\",\"resourceMoveState\":\"MoveSucceeded\",\"resourceMoveDetails\":{\"operationId\":\"kljla\",\"startTimeUtc\":\"cr\",\"completionTimeUtc\":\"fdfdosygexpa\",\"sourceResourcePath\":\"akhmsbzjhcrz\",\"targetResourcePath\":\"dphlxaolt\"},\"securitySettings\":{\"softDeleteSettings\":{\"state\":\"AlwaysOn\",\"retentionDurationInDays\":14.134109255164462},\"immutabilitySettings\":{\"state\":\"Locked\"}},\"storageSettings\":[{\"datastoreType\":\"ArchiveStore\",\"type\":\"ZoneRedundant\"},{\"datastoreType\":\"ArchiveStore\",\"type\":\"ZoneRedundant\"},{\"datastoreType\":\"VaultStore\",\"type\":\"GeoRedundant\"},{\"datastoreType\":\"ArchiveStore\",\"type\":\"LocallyRedundant\"}],\"isVaultProtectedByResourceGuard\":true,\"featureSettings\":{\"crossSubscriptionRestoreSettings\":{\"state\":\"Enabled\"},\"crossRegionRestoreSettings\":{\"state\":\"Enabled\"}},\"secureScore\":\"None\",\"replicatedRegions\":[\"peqfpjkjl\"]},\"identity\":{\"principalId\":\"pdvhpfxxypin\",\"tenantId\":\"mayhuybbkpodepoo\",\"type\":\"nuvamiheogna\",\"userAssignedIdentities\":{\"heotusiv\":{\"principalId\":\"aab40eff-1d43-4d4f-ae5b-4885070b813d\",\"clientId\":\"f8a4f266-1093-4d8d-927f-4b425e5232db\"},\"cciqihnhungbwjz\":{\"principalId\":\"cc9e38db-7064-46d7-bef7-af501af858d3\",\"clientId\":\"8adfdd72-7b1b-4022-b5dc-e78ee760d1b7\"},\"ygxgispemvtz\":{\"principalId\":\"331a8ce2-51a0-40a3-9ffe-1b9e44be33f1\",\"clientId\":\"9f762a40-79b0-4b6a-9df2-2d9b571f5201\"},\"fublj\":{\"principalId\":\"d7f39aad-8418-4942-93ed-b9b993bdbec8\",\"clientId\":\"278112a3-132c-43ad-8322-b66f8fdb8026\"}}},\"eTag\":\"xqeofjaeqjhqjba\",\"location\":\"msmjqulngsntn\",\"tags\":{\"xwrljdouskcqvkoc\":\"kzgcwrwcl\",\"sqrglssainq\":\"cjdkwtnhxbnjbi\",\"eebvmgxsab\":\"jwnzlljfmp\"},\"id\":\"yqduujit\",\"name\":\"jczdzevndh\",\"type\":\"rwpdappdsbdkvwrw\"}],\"nextLink\":\"eusnhutj\"}")
            .toObject(BackupVaultResourceList.class);
        Assertions.assertEquals("eusnhutj", model.nextLink());
        Assertions.assertEquals("ajpsquc", model.value().get(0).location());
        Assertions.assertEquals("yf", model.value().get(0).tags().get("kfo"));
        Assertions.assertEquals("pa", model.value().get(0).etag());
        Assertions.assertEquals("aagdfmg", model.value().get(0).identity().type());
        Assertions.assertEquals(AlertsState.DISABLED, model.value().get(0).properties().monitoringSettings()
            .azureMonitorAlertSettings().alertsForAllJobFailures());
        Assertions.assertEquals(SoftDeleteState.ON,
            model.value().get(0).properties().securitySettings().softDeleteSettings().state());
        Assertions.assertEquals(12.53974621306525D,
            model.value().get(0).properties().securitySettings().softDeleteSettings().retentionDurationInDays());
        Assertions.assertEquals(ImmutabilityState.LOCKED,
            model.value().get(0).properties().securitySettings().immutabilitySettings().state());
        Assertions.assertEquals(StorageSettingStoreTypes.ARCHIVE_STORE,
            model.value().get(0).properties().storageSettings().get(0).datastoreType());
        Assertions.assertEquals(StorageSettingTypes.ZONE_REDUNDANT,
            model.value().get(0).properties().storageSettings().get(0).type());
        Assertions.assertEquals(CrossSubscriptionRestoreState.ENABLED,
            model.value().get(0).properties().featureSettings().crossSubscriptionRestoreSettings().state());
        Assertions.assertEquals(CrossRegionRestoreState.DISABLED,
            model.value().get(0).properties().featureSettings().crossRegionRestoreSettings().state());
        Assertions.assertEquals("gkdmb", model.value().get(0).properties().replicatedRegions().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        BackupVaultResourceList model = new BackupVaultResourceList().withNextLink("eusnhutj").withValue(Arrays.asList(
            new BackupVaultResourceInner().withLocation("ajpsquc").withTags(mapOf("kfo", "yf")).withEtag("pa")
                .withIdentity(new DppIdentityDetails().withType("aagdfmg").withUserAssignedIdentities(
                    mapOf("xrifkwmrvkts", new UserAssignedIdentity(), "to", new UserAssignedIdentity())))
                .withProperties(new BackupVault()
                    .withMonitoringSettings(new MonitoringSettings().withAzureMonitorAlertSettings(
                        new AzureMonitorAlertSettings().withAlertsForAllJobFailures(AlertsState.DISABLED)))
                    .withSecuritySettings(new SecuritySettings()
                        .withSoftDeleteSettings(new SoftDeleteSettings().withState(SoftDeleteState.ON)
                            .withRetentionDurationInDays(12.53974621306525D))
                        .withImmutabilitySettings(new ImmutabilitySettings().withState(ImmutabilityState.LOCKED)))
                    .withStorageSettings(
                        Arrays.asList(new StorageSetting().withDatastoreType(StorageSettingStoreTypes.ARCHIVE_STORE)
                            .withType(StorageSettingTypes.ZONE_REDUNDANT)))
                    .withFeatureSettings(new FeatureSettings()
                        .withCrossSubscriptionRestoreSettings(
                            new CrossSubscriptionRestoreSettings().withState(CrossSubscriptionRestoreState.ENABLED))
                        .withCrossRegionRestoreSettings(
                            new CrossRegionRestoreSettings().withState(CrossRegionRestoreState.DISABLED)))
                    .withReplicatedRegions(Arrays.asList("gkdmb", "azlobcufpdznrbt", "qqjnqgl", "qgn"))),
            new BackupVaultResourceInner().withLocation("chgejspodm")
                .withTags(mapOf("o", "zyde", "wixjsprozvcp", "wyahuxinpmqnja", "atscmd", "tegjvwmf", "zkrwfn",
                    "pjhulsuuvmkj"))
                .withEtag("kvnipjoxz")
                .withIdentity(new DppIdentityDetails().withType("dumjgrtfwvuk")
                    .withUserAssignedIdentities(mapOf("ccsnhsjc", new UserAssignedIdentity(), "j",
                        new UserAssignedIdentity(), "yhtnapczwlokjye", new UserAssignedIdentity())))
                .withProperties(new BackupVault()
                    .withMonitoringSettings(new MonitoringSettings().withAzureMonitorAlertSettings(
                        new AzureMonitorAlertSettings().withAlertsForAllJobFailures(AlertsState.DISABLED)))
                    .withSecuritySettings(new SecuritySettings()
                        .withSoftDeleteSettings(new SoftDeleteSettings().withState(SoftDeleteState.ALWAYS_ON)
                            .withRetentionDurationInDays(30.42594303603623D))
                        .withImmutabilitySettings(new ImmutabilitySettings().withState(ImmutabilityState.UNLOCKED)))
                    .withStorageSettings(
                        Arrays.asList(new StorageSetting().withDatastoreType(StorageSettingStoreTypes.OPERATIONAL_STORE)
                            .withType(StorageSettingTypes.ZONE_REDUNDANT)))
                    .withFeatureSettings(new FeatureSettings()
                        .withCrossSubscriptionRestoreSettings(new CrossSubscriptionRestoreSettings()
                            .withState(CrossSubscriptionRestoreState.PERMANENTLY_DISABLED))
                        .withCrossRegionRestoreSettings(
                            new CrossRegionRestoreSettings().withState(CrossRegionRestoreState.ENABLED)))
                    .withReplicatedRegions(Arrays.asList("zufcyzkohdbi", "anufhfcbjysag", "th", "qhabifpikxwcz"))),
            new BackupVaultResourceInner().withLocation("msmjqulngsntn")
                .withTags(
                    mapOf("xwrljdouskcqvkoc", "kzgcwrwcl", "sqrglssainq", "cjdkwtnhxbnjbi", "eebvmgxsab", "jwnzlljfmp"))
                .withEtag("xqeofjaeqjhqjba")
                .withIdentity(new DppIdentityDetails().withType("nuvamiheogna").withUserAssignedIdentities(
                    mapOf("heotusiv", new UserAssignedIdentity(), "cciqihnhungbwjz", new UserAssignedIdentity(),
                        "ygxgispemvtz", new UserAssignedIdentity(), "fublj", new UserAssignedIdentity())))
                .withProperties(new BackupVault()
                    .withMonitoringSettings(new MonitoringSettings().withAzureMonitorAlertSettings(
                        new AzureMonitorAlertSettings().withAlertsForAllJobFailures(AlertsState.DISABLED)))
                    .withSecuritySettings(new SecuritySettings()
                        .withSoftDeleteSettings(new SoftDeleteSettings().withState(SoftDeleteState.ALWAYS_ON)
                            .withRetentionDurationInDays(14.134109255164462D))
                        .withImmutabilitySettings(new ImmutabilitySettings().withState(ImmutabilityState.LOCKED)))
                    .withStorageSettings(Arrays.asList(
                        new StorageSetting().withDatastoreType(StorageSettingStoreTypes.ARCHIVE_STORE)
                            .withType(StorageSettingTypes.ZONE_REDUNDANT),
                        new StorageSetting().withDatastoreType(StorageSettingStoreTypes.ARCHIVE_STORE)
                            .withType(StorageSettingTypes.ZONE_REDUNDANT),
                        new StorageSetting().withDatastoreType(StorageSettingStoreTypes.VAULT_STORE)
                            .withType(StorageSettingTypes.GEO_REDUNDANT),
                        new StorageSetting().withDatastoreType(StorageSettingStoreTypes.ARCHIVE_STORE)
                            .withType(StorageSettingTypes.LOCALLY_REDUNDANT)))
                    .withFeatureSettings(new FeatureSettings()
                        .withCrossSubscriptionRestoreSettings(
                            new CrossSubscriptionRestoreSettings().withState(CrossSubscriptionRestoreState.ENABLED))
                        .withCrossRegionRestoreSettings(
                            new CrossRegionRestoreSettings().withState(CrossRegionRestoreState.ENABLED)))
                    .withReplicatedRegions(Arrays.asList("peqfpjkjl")))));
        model = BinaryData.fromObject(model).toObject(BackupVaultResourceList.class);
        Assertions.assertEquals("eusnhutj", model.nextLink());
        Assertions.assertEquals("ajpsquc", model.value().get(0).location());
        Assertions.assertEquals("yf", model.value().get(0).tags().get("kfo"));
        Assertions.assertEquals("pa", model.value().get(0).etag());
        Assertions.assertEquals("aagdfmg", model.value().get(0).identity().type());
        Assertions.assertEquals(AlertsState.DISABLED, model.value().get(0).properties().monitoringSettings()
            .azureMonitorAlertSettings().alertsForAllJobFailures());
        Assertions.assertEquals(SoftDeleteState.ON,
            model.value().get(0).properties().securitySettings().softDeleteSettings().state());
        Assertions.assertEquals(12.53974621306525D,
            model.value().get(0).properties().securitySettings().softDeleteSettings().retentionDurationInDays());
        Assertions.assertEquals(ImmutabilityState.LOCKED,
            model.value().get(0).properties().securitySettings().immutabilitySettings().state());
        Assertions.assertEquals(StorageSettingStoreTypes.ARCHIVE_STORE,
            model.value().get(0).properties().storageSettings().get(0).datastoreType());
        Assertions.assertEquals(StorageSettingTypes.ZONE_REDUNDANT,
            model.value().get(0).properties().storageSettings().get(0).type());
        Assertions.assertEquals(CrossSubscriptionRestoreState.ENABLED,
            model.value().get(0).properties().featureSettings().crossSubscriptionRestoreSettings().state());
        Assertions.assertEquals(CrossRegionRestoreState.DISABLED,
            model.value().get(0).properties().featureSettings().crossRegionRestoreSettings().state());
        Assertions.assertEquals("gkdmb", model.value().get(0).properties().replicatedRegions().get(0));
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
