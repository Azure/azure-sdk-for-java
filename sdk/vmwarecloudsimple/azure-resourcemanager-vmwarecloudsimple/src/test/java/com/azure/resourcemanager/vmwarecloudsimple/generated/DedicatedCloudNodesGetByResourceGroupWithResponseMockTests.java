// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.vmwarecloudsimple.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.vmwarecloudsimple.VMwareCloudSimpleManager;
import com.azure.resourcemanager.vmwarecloudsimple.models.DedicatedCloudNode;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import java.util.UUID;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class DedicatedCloudNodesGetByResourceGroupWithResponseMockTests {
    @Test
    public void testGetByResourceGroupWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"availabilityZoneId\":\"guyaip\",\"availabilityZoneName\":\"sdaultxij\",\"cloudRackName\":\"mfqwa\",\"created\":\"2021-03-09T09:55:59Z\",\"nodesCount\":832970894,\"placementGroupId\":\"nm\",\"placementGroupName\":\"ngz\",\"privateCloudId\":\"qxtbjwgnyf\",\"privateCloudName\":\"fzsvtuikzh\",\"provisioningState\":\"qglcfhmlrqryxynq\",\"purchaseId\":\"1d149c46-e41e-4036-a329-840a36e68cf8\",\"skuDescription\":{\"id\":\"rd\",\"name\":\"sovwxznptgoeiyb\"},\"status\":\"unused\",\"vmwareClusterName\":\"fhvfsl\"},\"sku\":{\"capacity\":\"tjlrigjksky\",\"description\":\"oov\",\"family\":\"dsxwaab\",\"name\":\"mifrygznmma\",\"tier\":\"izkzobgo\"},\"location\":\"xlhslnel\",\"tags\":{\"slhcawjutifd\":\"ixynllxecwcrojp\",\"aglkafhon\":\"fmvigorqjbttzh\",\"ickpz\":\"juj\",\"wcltyjede\":\"cpopmxel\"},\"id\":\"xm\",\"name\":\"f\",\"type\":\"kqscazuawxtzx\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        VMwareCloudSimpleManager manager = VMwareCloudSimpleManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        DedicatedCloudNode response = manager.dedicatedCloudNodes()
            .getByResourceGroupWithResponse("yawbzasqbu", "ljgkyex", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals("xlhslnel", response.location());
        Assertions.assertEquals("ixynllxecwcrojp", response.tags().get("slhcawjutifd"));
        Assertions.assertEquals("tjlrigjksky", response.sku().capacity());
        Assertions.assertEquals("oov", response.sku().description());
        Assertions.assertEquals("dsxwaab", response.sku().family());
        Assertions.assertEquals("mifrygznmma", response.sku().name());
        Assertions.assertEquals("izkzobgo", response.sku().tier());
        Assertions.assertEquals("guyaip", response.availabilityZoneId());
        Assertions.assertEquals(832970894, response.nodesCount());
        Assertions.assertEquals("nm", response.placementGroupId());
        Assertions.assertEquals(UUID.fromString("1d149c46-e41e-4036-a329-840a36e68cf8"), response.purchaseId());
        Assertions.assertEquals("rd", response.idPropertiesId());
        Assertions.assertEquals("sovwxznptgoeiyb", response.namePropertiesName());
    }
}
