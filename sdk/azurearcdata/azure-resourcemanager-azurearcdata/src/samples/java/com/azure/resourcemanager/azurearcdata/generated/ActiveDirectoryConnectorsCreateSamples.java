// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.azurearcdata.generated;

import com.azure.resourcemanager.azurearcdata.models.AccountProvisioningMode;
import com.azure.resourcemanager.azurearcdata.models.ActiveDirectoryConnectorDnsDetails;
import com.azure.resourcemanager.azurearcdata.models.ActiveDirectoryConnectorDomainDetails;
import com.azure.resourcemanager.azurearcdata.models.ActiveDirectoryConnectorProperties;
import com.azure.resourcemanager.azurearcdata.models.ActiveDirectoryConnectorSpec;
import com.azure.resourcemanager.azurearcdata.models.ActiveDirectoryDomainController;
import com.azure.resourcemanager.azurearcdata.models.ActiveDirectoryDomainControllers;
import java.util.Arrays;

/** Samples for ActiveDirectoryConnectors Create. */
public final class ActiveDirectoryConnectorsCreateSamples {
    /*
     * x-ms-original-file: specification/azurearcdata/resource-manager/Microsoft.AzureArcData/preview/2022-03-01-preview/examples/CreateOrUpdateActiveDirectoryConnector.json
     */
    /**
     * Sample code: Create or update an Active Directory connector instance.
     *
     * @param manager Entry point to AzureArcDataManager.
     */
    public static void createOrUpdateAnActiveDirectoryConnectorInstance(
        com.azure.resourcemanager.azurearcdata.AzureArcDataManager manager) {
        manager
            .activeDirectoryConnectors()
            .define("testADConnector")
            .withExistingDataController("testrg", "testdataController")
            .withProperties(
                new ActiveDirectoryConnectorProperties()
                    .withSpec(
                        new ActiveDirectoryConnectorSpec()
                            .withActiveDirectory(
                                new ActiveDirectoryConnectorDomainDetails()
                                    .withRealm("CONTOSO.LOCAL")
                                    .withServiceAccountProvisioning(AccountProvisioningMode.MANUAL)
                                    .withDomainControllers(
                                        new ActiveDirectoryDomainControllers()
                                            .withPrimaryDomainController(
                                                new ActiveDirectoryDomainController().withHostname("dc1.contoso.local"))
                                            .withSecondaryDomainControllers(
                                                Arrays
                                                    .asList(
                                                        new ActiveDirectoryDomainController()
                                                            .withHostname("dc2.contoso.local"),
                                                        new ActiveDirectoryDomainController()
                                                            .withHostname("dc3.contoso.local")))))
                            .withDns(
                                new ActiveDirectoryConnectorDnsDetails()
                                    .withNameserverIpAddresses(Arrays.asList("11.11.111.111", "22.22.222.222"))
                                    .withReplicas(1L)
                                    .withPreferK8SDnsForPtrLookups(false))))
            .create();
    }
}
