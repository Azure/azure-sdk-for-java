// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.apimanagement.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.apimanagement.fluent.models.PolicyFragmentContractInner;
import com.azure.resourcemanager.apimanagement.models.PolicyFragmentCollection;
import com.azure.resourcemanager.apimanagement.models.PolicyFragmentContentFormat;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class PolicyFragmentCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        PolicyFragmentCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"value\":\"oqfx\",\"description\":\"mhk\",\"format\":\"xml\",\"provisioningState\":\"ewhtec\"},\"id\":\"oamfmxtllfltymqc\",\"name\":\"rrfijhgg\",\"type\":\"bqbgamklilirwdv\"},{\"properties\":{\"value\":\"hsdp\",\"description\":\"uhktq\",\"format\":\"rawxml\",\"provisioningState\":\"qnjxrdfddtul\"},\"id\":\"ygta\",\"name\":\"czcxdfw\",\"type\":\"a\"},{\"properties\":{\"value\":\"fmlxrljphr\",\"description\":\"pifleimixl\",\"format\":\"xml\",\"provisioningState\":\"icehfgsmdrjuqb\"},\"id\":\"xtokljmtz\",\"name\":\"paxwfqty\",\"type\":\"qi\"}],\"count\":557110286486843508,\"nextLink\":\"ungbsoljc\"}")
            .toObject(PolicyFragmentCollection.class);
        Assertions.assertEquals("oqfx", model.value().get(0).value());
        Assertions.assertEquals("mhk", model.value().get(0).description());
        Assertions.assertEquals(PolicyFragmentContentFormat.XML, model.value().get(0).format());
        Assertions.assertEquals(557110286486843508L, model.count());
        Assertions.assertEquals("ungbsoljc", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        PolicyFragmentCollection model = new PolicyFragmentCollection()
            .withValue(Arrays.asList(
                new PolicyFragmentContractInner().withValue("oqfx")
                    .withDescription("mhk")
                    .withFormat(PolicyFragmentContentFormat.XML),
                new PolicyFragmentContractInner().withValue("hsdp")
                    .withDescription("uhktq")
                    .withFormat(PolicyFragmentContentFormat.RAWXML),
                new PolicyFragmentContractInner().withValue("fmlxrljphr")
                    .withDescription("pifleimixl")
                    .withFormat(PolicyFragmentContentFormat.XML)))
            .withCount(557110286486843508L)
            .withNextLink("ungbsoljc");
        model = BinaryData.fromObject(model).toObject(PolicyFragmentCollection.class);
        Assertions.assertEquals("oqfx", model.value().get(0).value());
        Assertions.assertEquals("mhk", model.value().get(0).description());
        Assertions.assertEquals(PolicyFragmentContentFormat.XML, model.value().get(0).format());
        Assertions.assertEquals(557110286486843508L, model.count());
        Assertions.assertEquals("ungbsoljc", model.nextLink());
    }
}
