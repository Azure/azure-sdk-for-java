// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.apimanagement.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.apimanagement.fluent.models.UserContractInner;
import com.azure.resourcemanager.apimanagement.fluent.models.UserIdentityContractInner;
import com.azure.resourcemanager.apimanagement.models.UserCollection;
import com.azure.resourcemanager.apimanagement.models.UserState;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class UserCollectionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        UserCollection model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"firstName\":\"paniceo\",\"lastName\":\"gzwhsxyrujmtik\",\"email\":\"likyohz\",\"registrationDate\":\"2021-01-02T19:04:19Z\",\"groups\":[{\"displayName\":\"fn\",\"description\":\"yc\",\"builtIn\":true,\"type\":\"custom\",\"externalId\":\"ipnquwzxhrptyod\"},{\"displayName\":\"hkfktlt\",\"description\":\"sobjop\",\"builtIn\":false,\"type\":\"custom\",\"externalId\":\"ezkqxsalu\"},{\"displayName\":\"yigfcvcew\",\"description\":\"qhdgsjsatmrn\",\"builtIn\":true,\"type\":\"custom\",\"externalId\":\"s\"}],\"state\":\"deleted\",\"note\":\"qmr\",\"identities\":[{\"provider\":\"r\",\"id\":\"vgrszr\"}]},\"id\":\"wtdrcwg\",\"name\":\"w\",\"type\":\"l\"}],\"count\":4632726883747684258,\"nextLink\":\"fi\"}")
            .toObject(UserCollection.class);
        Assertions.assertEquals("paniceo", model.value().get(0).firstName());
        Assertions.assertEquals("gzwhsxyrujmtik", model.value().get(0).lastName());
        Assertions.assertEquals("likyohz", model.value().get(0).email());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-02T19:04:19Z"), model.value().get(0).registrationDate());
        Assertions.assertEquals(UserState.DELETED, model.value().get(0).state());
        Assertions.assertEquals("qmr", model.value().get(0).note());
        Assertions.assertEquals("r", model.value().get(0).identities().get(0).provider());
        Assertions.assertEquals("vgrszr", model.value().get(0).identities().get(0).id());
        Assertions.assertEquals(4632726883747684258L, model.count());
        Assertions.assertEquals("fi", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        UserCollection model = new UserCollection()
            .withValue(Arrays.asList(new UserContractInner().withFirstName("paniceo")
                .withLastName("gzwhsxyrujmtik")
                .withEmail("likyohz")
                .withRegistrationDate(OffsetDateTime.parse("2021-01-02T19:04:19Z"))
                .withState(UserState.DELETED)
                .withNote("qmr")
                .withIdentities(Arrays.asList(new UserIdentityContractInner().withProvider("r").withId("vgrszr")))))
            .withCount(4632726883747684258L)
            .withNextLink("fi");
        model = BinaryData.fromObject(model).toObject(UserCollection.class);
        Assertions.assertEquals("paniceo", model.value().get(0).firstName());
        Assertions.assertEquals("gzwhsxyrujmtik", model.value().get(0).lastName());
        Assertions.assertEquals("likyohz", model.value().get(0).email());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-02T19:04:19Z"), model.value().get(0).registrationDate());
        Assertions.assertEquals(UserState.DELETED, model.value().get(0).state());
        Assertions.assertEquals("qmr", model.value().get(0).note());
        Assertions.assertEquals("r", model.value().get(0).identities().get(0).provider());
        Assertions.assertEquals("vgrszr", model.value().get(0).identities().get(0).id());
        Assertions.assertEquals(4632726883747684258L, model.count());
        Assertions.assertEquals("fi", model.nextLink());
    }
}
