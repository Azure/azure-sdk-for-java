// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.postgresqlflexibleserver.models;

import com.azure.core.annotation.Fluent;
import com.azure.core.util.CoreUtils;
import com.azure.json.JsonReader;
import com.azure.json.JsonSerializable;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import java.io.IOException;
import java.time.OffsetDateTime;
import java.time.format.DateTimeFormatter;

/**
 * Migration state of a database.
 */
@Fluent
public final class DatabaseMigrationState implements JsonSerializable<DatabaseMigrationState> {
    /*
     * Name of database.
     */
    private String databaseName;

    /*
     * Migration state of a database.
     */
    private MigrationDatabaseState migrationState;

    /*
     * Migration operation of a database.
     */
    private String migrationOperation;

    /*
     * Start time of a migration state.
     */
    private OffsetDateTime startedOn;

    /*
     * End time of a migration state.
     */
    private OffsetDateTime endedOn;

    /*
     * Number of tables queued for the migration of a database.
     */
    private Integer fullLoadQueuedTables;

    /*
     * Number of tables encountering errors during the migration of a database.
     */
    private Integer fullLoadErroredTables;

    /*
     * Number of tables loading during the migration of a database.
     */
    private Integer fullLoadLoadingTables;

    /*
     * Number of tables loaded during the migration of a database.
     */
    private Integer fullLoadCompletedTables;

    /*
     * Change Data Capture update counter.
     */
    private Integer cdcUpdateCounter;

    /*
     * Change Data Capture delete counter.
     */
    private Integer cdcDeleteCounter;

    /*
     * Change Data Capture insert counter.
     */
    private Integer cdcInsertCounter;

    /*
     * Change Data Capture applied changes counter.
     */
    private Integer appliedChanges;

    /*
     * Change Data Capture incoming changes counter.
     */
    private Integer incomingChanges;

    /*
     * Lag in seconds between source and target during online phase.
     */
    private Integer latency;

    /*
     * Error message, if any, for the migration state.
     */
    private String message;

    /**
     * Creates an instance of DatabaseMigrationState class.
     */
    public DatabaseMigrationState() {
    }

    /**
     * Get the databaseName property: Name of database.
     * 
     * @return the databaseName value.
     */
    public String databaseName() {
        return this.databaseName;
    }

    /**
     * Set the databaseName property: Name of database.
     * 
     * @param databaseName the databaseName value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withDatabaseName(String databaseName) {
        this.databaseName = databaseName;
        return this;
    }

    /**
     * Get the migrationState property: Migration state of a database.
     * 
     * @return the migrationState value.
     */
    public MigrationDatabaseState migrationState() {
        return this.migrationState;
    }

    /**
     * Set the migrationState property: Migration state of a database.
     * 
     * @param migrationState the migrationState value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withMigrationState(MigrationDatabaseState migrationState) {
        this.migrationState = migrationState;
        return this;
    }

    /**
     * Get the migrationOperation property: Migration operation of a database.
     * 
     * @return the migrationOperation value.
     */
    public String migrationOperation() {
        return this.migrationOperation;
    }

    /**
     * Set the migrationOperation property: Migration operation of a database.
     * 
     * @param migrationOperation the migrationOperation value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withMigrationOperation(String migrationOperation) {
        this.migrationOperation = migrationOperation;
        return this;
    }

    /**
     * Get the startedOn property: Start time of a migration state.
     * 
     * @return the startedOn value.
     */
    public OffsetDateTime startedOn() {
        return this.startedOn;
    }

    /**
     * Set the startedOn property: Start time of a migration state.
     * 
     * @param startedOn the startedOn value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withStartedOn(OffsetDateTime startedOn) {
        this.startedOn = startedOn;
        return this;
    }

    /**
     * Get the endedOn property: End time of a migration state.
     * 
     * @return the endedOn value.
     */
    public OffsetDateTime endedOn() {
        return this.endedOn;
    }

    /**
     * Set the endedOn property: End time of a migration state.
     * 
     * @param endedOn the endedOn value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withEndedOn(OffsetDateTime endedOn) {
        this.endedOn = endedOn;
        return this;
    }

    /**
     * Get the fullLoadQueuedTables property: Number of tables queued for the migration of a database.
     * 
     * @return the fullLoadQueuedTables value.
     */
    public Integer fullLoadQueuedTables() {
        return this.fullLoadQueuedTables;
    }

    /**
     * Set the fullLoadQueuedTables property: Number of tables queued for the migration of a database.
     * 
     * @param fullLoadQueuedTables the fullLoadQueuedTables value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withFullLoadQueuedTables(Integer fullLoadQueuedTables) {
        this.fullLoadQueuedTables = fullLoadQueuedTables;
        return this;
    }

    /**
     * Get the fullLoadErroredTables property: Number of tables encountering errors during the migration of a database.
     * 
     * @return the fullLoadErroredTables value.
     */
    public Integer fullLoadErroredTables() {
        return this.fullLoadErroredTables;
    }

    /**
     * Set the fullLoadErroredTables property: Number of tables encountering errors during the migration of a database.
     * 
     * @param fullLoadErroredTables the fullLoadErroredTables value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withFullLoadErroredTables(Integer fullLoadErroredTables) {
        this.fullLoadErroredTables = fullLoadErroredTables;
        return this;
    }

    /**
     * Get the fullLoadLoadingTables property: Number of tables loading during the migration of a database.
     * 
     * @return the fullLoadLoadingTables value.
     */
    public Integer fullLoadLoadingTables() {
        return this.fullLoadLoadingTables;
    }

    /**
     * Set the fullLoadLoadingTables property: Number of tables loading during the migration of a database.
     * 
     * @param fullLoadLoadingTables the fullLoadLoadingTables value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withFullLoadLoadingTables(Integer fullLoadLoadingTables) {
        this.fullLoadLoadingTables = fullLoadLoadingTables;
        return this;
    }

    /**
     * Get the fullLoadCompletedTables property: Number of tables loaded during the migration of a database.
     * 
     * @return the fullLoadCompletedTables value.
     */
    public Integer fullLoadCompletedTables() {
        return this.fullLoadCompletedTables;
    }

    /**
     * Set the fullLoadCompletedTables property: Number of tables loaded during the migration of a database.
     * 
     * @param fullLoadCompletedTables the fullLoadCompletedTables value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withFullLoadCompletedTables(Integer fullLoadCompletedTables) {
        this.fullLoadCompletedTables = fullLoadCompletedTables;
        return this;
    }

    /**
     * Get the cdcUpdateCounter property: Change Data Capture update counter.
     * 
     * @return the cdcUpdateCounter value.
     */
    public Integer cdcUpdateCounter() {
        return this.cdcUpdateCounter;
    }

    /**
     * Set the cdcUpdateCounter property: Change Data Capture update counter.
     * 
     * @param cdcUpdateCounter the cdcUpdateCounter value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withCdcUpdateCounter(Integer cdcUpdateCounter) {
        this.cdcUpdateCounter = cdcUpdateCounter;
        return this;
    }

    /**
     * Get the cdcDeleteCounter property: Change Data Capture delete counter.
     * 
     * @return the cdcDeleteCounter value.
     */
    public Integer cdcDeleteCounter() {
        return this.cdcDeleteCounter;
    }

    /**
     * Set the cdcDeleteCounter property: Change Data Capture delete counter.
     * 
     * @param cdcDeleteCounter the cdcDeleteCounter value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withCdcDeleteCounter(Integer cdcDeleteCounter) {
        this.cdcDeleteCounter = cdcDeleteCounter;
        return this;
    }

    /**
     * Get the cdcInsertCounter property: Change Data Capture insert counter.
     * 
     * @return the cdcInsertCounter value.
     */
    public Integer cdcInsertCounter() {
        return this.cdcInsertCounter;
    }

    /**
     * Set the cdcInsertCounter property: Change Data Capture insert counter.
     * 
     * @param cdcInsertCounter the cdcInsertCounter value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withCdcInsertCounter(Integer cdcInsertCounter) {
        this.cdcInsertCounter = cdcInsertCounter;
        return this;
    }

    /**
     * Get the appliedChanges property: Change Data Capture applied changes counter.
     * 
     * @return the appliedChanges value.
     */
    public Integer appliedChanges() {
        return this.appliedChanges;
    }

    /**
     * Set the appliedChanges property: Change Data Capture applied changes counter.
     * 
     * @param appliedChanges the appliedChanges value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withAppliedChanges(Integer appliedChanges) {
        this.appliedChanges = appliedChanges;
        return this;
    }

    /**
     * Get the incomingChanges property: Change Data Capture incoming changes counter.
     * 
     * @return the incomingChanges value.
     */
    public Integer incomingChanges() {
        return this.incomingChanges;
    }

    /**
     * Set the incomingChanges property: Change Data Capture incoming changes counter.
     * 
     * @param incomingChanges the incomingChanges value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withIncomingChanges(Integer incomingChanges) {
        this.incomingChanges = incomingChanges;
        return this;
    }

    /**
     * Get the latency property: Lag in seconds between source and target during online phase.
     * 
     * @return the latency value.
     */
    public Integer latency() {
        return this.latency;
    }

    /**
     * Set the latency property: Lag in seconds between source and target during online phase.
     * 
     * @param latency the latency value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withLatency(Integer latency) {
        this.latency = latency;
        return this;
    }

    /**
     * Get the message property: Error message, if any, for the migration state.
     * 
     * @return the message value.
     */
    public String message() {
        return this.message;
    }

    /**
     * Set the message property: Error message, if any, for the migration state.
     * 
     * @param message the message value to set.
     * @return the DatabaseMigrationState object itself.
     */
    public DatabaseMigrationState withMessage(String message) {
        this.message = message;
        return this;
    }

    /**
     * Validates the instance.
     * 
     * @throws IllegalArgumentException thrown if the instance is not valid.
     */
    public void validate() {
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeStringField("databaseName", this.databaseName);
        jsonWriter.writeStringField("migrationState",
            this.migrationState == null ? null : this.migrationState.toString());
        jsonWriter.writeStringField("migrationOperation", this.migrationOperation);
        jsonWriter.writeStringField("startedOn",
            this.startedOn == null ? null : DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(this.startedOn));
        jsonWriter.writeStringField("endedOn",
            this.endedOn == null ? null : DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(this.endedOn));
        jsonWriter.writeNumberField("fullLoadQueuedTables", this.fullLoadQueuedTables);
        jsonWriter.writeNumberField("fullLoadErroredTables", this.fullLoadErroredTables);
        jsonWriter.writeNumberField("fullLoadLoadingTables", this.fullLoadLoadingTables);
        jsonWriter.writeNumberField("fullLoadCompletedTables", this.fullLoadCompletedTables);
        jsonWriter.writeNumberField("cdcUpdateCounter", this.cdcUpdateCounter);
        jsonWriter.writeNumberField("cdcDeleteCounter", this.cdcDeleteCounter);
        jsonWriter.writeNumberField("cdcInsertCounter", this.cdcInsertCounter);
        jsonWriter.writeNumberField("appliedChanges", this.appliedChanges);
        jsonWriter.writeNumberField("incomingChanges", this.incomingChanges);
        jsonWriter.writeNumberField("latency", this.latency);
        jsonWriter.writeStringField("message", this.message);
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of DatabaseMigrationState from the JsonReader.
     * 
     * @param jsonReader The JsonReader being read.
     * @return An instance of DatabaseMigrationState if the JsonReader was pointing to an instance of it, or null if it
     * was pointing to JSON null.
     * @throws IOException If an error occurs while reading the DatabaseMigrationState.
     */
    public static DatabaseMigrationState fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            DatabaseMigrationState deserializedDatabaseMigrationState = new DatabaseMigrationState();
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();

                if ("databaseName".equals(fieldName)) {
                    deserializedDatabaseMigrationState.databaseName = reader.getString();
                } else if ("migrationState".equals(fieldName)) {
                    deserializedDatabaseMigrationState.migrationState
                        = MigrationDatabaseState.fromString(reader.getString());
                } else if ("migrationOperation".equals(fieldName)) {
                    deserializedDatabaseMigrationState.migrationOperation = reader.getString();
                } else if ("startedOn".equals(fieldName)) {
                    deserializedDatabaseMigrationState.startedOn = reader
                        .getNullable(nonNullReader -> CoreUtils.parseBestOffsetDateTime(nonNullReader.getString()));
                } else if ("endedOn".equals(fieldName)) {
                    deserializedDatabaseMigrationState.endedOn = reader
                        .getNullable(nonNullReader -> CoreUtils.parseBestOffsetDateTime(nonNullReader.getString()));
                } else if ("fullLoadQueuedTables".equals(fieldName)) {
                    deserializedDatabaseMigrationState.fullLoadQueuedTables = reader.getNullable(JsonReader::getInt);
                } else if ("fullLoadErroredTables".equals(fieldName)) {
                    deserializedDatabaseMigrationState.fullLoadErroredTables = reader.getNullable(JsonReader::getInt);
                } else if ("fullLoadLoadingTables".equals(fieldName)) {
                    deserializedDatabaseMigrationState.fullLoadLoadingTables = reader.getNullable(JsonReader::getInt);
                } else if ("fullLoadCompletedTables".equals(fieldName)) {
                    deserializedDatabaseMigrationState.fullLoadCompletedTables = reader.getNullable(JsonReader::getInt);
                } else if ("cdcUpdateCounter".equals(fieldName)) {
                    deserializedDatabaseMigrationState.cdcUpdateCounter = reader.getNullable(JsonReader::getInt);
                } else if ("cdcDeleteCounter".equals(fieldName)) {
                    deserializedDatabaseMigrationState.cdcDeleteCounter = reader.getNullable(JsonReader::getInt);
                } else if ("cdcInsertCounter".equals(fieldName)) {
                    deserializedDatabaseMigrationState.cdcInsertCounter = reader.getNullable(JsonReader::getInt);
                } else if ("appliedChanges".equals(fieldName)) {
                    deserializedDatabaseMigrationState.appliedChanges = reader.getNullable(JsonReader::getInt);
                } else if ("incomingChanges".equals(fieldName)) {
                    deserializedDatabaseMigrationState.incomingChanges = reader.getNullable(JsonReader::getInt);
                } else if ("latency".equals(fieldName)) {
                    deserializedDatabaseMigrationState.latency = reader.getNullable(JsonReader::getInt);
                } else if ("message".equals(fieldName)) {
                    deserializedDatabaseMigrationState.message = reader.getString();
                } else {
                    reader.skipChildren();
                }
            }

            return deserializedDatabaseMigrationState;
        });
    }
}
