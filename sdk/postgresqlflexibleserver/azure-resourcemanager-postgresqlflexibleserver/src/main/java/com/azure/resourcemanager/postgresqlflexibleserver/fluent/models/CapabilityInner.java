// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.postgresqlflexibleserver.fluent.models;

import com.azure.core.annotation.Fluent;
import com.azure.json.JsonReader;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import com.azure.resourcemanager.postgresqlflexibleserver.models.CapabilityBase;
import com.azure.resourcemanager.postgresqlflexibleserver.models.CapabilityStatus;
import com.azure.resourcemanager.postgresqlflexibleserver.models.FastProvisioningEditionCapability;
import com.azure.resourcemanager.postgresqlflexibleserver.models.FastProvisioningSupport;
import com.azure.resourcemanager.postgresqlflexibleserver.models.GeographicallyRedundantBackupSupport;
import com.azure.resourcemanager.postgresqlflexibleserver.models.LocationRestricted;
import com.azure.resourcemanager.postgresqlflexibleserver.models.OnlineStorageResizeSupport;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ServerEditionCapability;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ServerVersionCapability;
import com.azure.resourcemanager.postgresqlflexibleserver.models.StorageAutoGrowthSupport;
import com.azure.resourcemanager.postgresqlflexibleserver.models.SupportedFeature;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ZoneRedundantHighAvailabilityAndGeographicallyRedundantBackupSupport;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ZoneRedundantHighAvailabilitySupport;
import java.io.IOException;
import java.util.List;

/**
 * Capability for the Azure Database for PostgreSQL flexible server.
 */
@Fluent
public final class CapabilityInner extends CapabilityBase {
    /*
     * Name of flexible servers capabilities.
     */
    private String name;

    /*
     * List of supported compute tiers.
     */
    private List<ServerEditionCapability> supportedServerEditions;

    /*
     * List of supported major versions of PostgreSQL database engine.
     */
    private List<ServerVersionCapability> supportedServerVersions;

    /*
     * Features supported.
     */
    private List<SupportedFeature> supportedFeatures;

    /*
     * Indicates if fast provisioning is supported. 'Enabled' means fast provisioning is supported. 'Disabled' stands
     * for fast provisioning is not supported. Will be deprecated in the future. Look to Supported Features for
     * 'FastProvisioning'.
     */
    private FastProvisioningSupport fastProvisioningSupported;

    /*
     * List of compute tiers supporting fast provisioning.
     */
    private List<FastProvisioningEditionCapability> supportedFastProvisioningEditions;

    /*
     * Indicates if geographically redundant backups are supported in this location. 'Enabled' means geographically
     * redundant backups are supported. 'Disabled' stands for geographically redundant backup is not supported. Will be
     * deprecated in the future. Look to Supported Features for 'GeoBackup'.
     */
    private GeographicallyRedundantBackupSupport geoBackupSupported;

    /*
     * Indicates if high availability with zone redundancy is supported in this location. 'Enabled' means high
     * availability with zone redundancy is supported. 'Disabled' stands for high availability with zone redundancy is
     * not supported. Will be deprecated in the future. Look to Supported Features for 'ZoneRedundantHa'.
     */
    private ZoneRedundantHighAvailabilitySupport zoneRedundantHaSupported;

    /*
     * Indicates if high availability with zone redundancy is supported in conjunction with geographically redundant
     * backups in this location. 'Enabled' means high availability with zone redundancy is supported in conjunction with
     * geographically redundant backups is supported. 'Disabled' stands for high availability with zone redundancy is
     * supported in conjunction with geographically redundant backups is not supported. Will be deprecated in the
     * future. Look to Supported Features for 'ZoneRedundantHaAndGeoBackup'.
     */
    private ZoneRedundantHighAvailabilityAndGeographicallyRedundantBackupSupport zoneRedundantHaAndGeoBackupSupported;

    /*
     * Indicates if storage autogrow is supported in this location. 'Enabled' means storage autogrow is supported.
     * 'Disabled' stands for storage autogrow is not supported. Will be deprecated in the future. Look to Supported
     * Features for 'StorageAutoGrowth'.
     */
    private StorageAutoGrowthSupport storageAutoGrowthSupported;

    /*
     * Indicates if resizing the storage, without interrupting the operation of the database engine, is supported in
     * this location for the given subscription. 'Enabled' means resizing the storage without interrupting the operation
     * of the database engine is supported. 'Disabled' means resizing the storage without interrupting the operation of
     * the database engine is not supported. Will be deprecated in the future. Look to Supported Features for
     * 'OnlineResize'.
     */
    private OnlineStorageResizeSupport onlineResizeSupported;

    /*
     * Indicates if this location is restricted. 'Enabled' means location is restricted. 'Disabled' stands for location
     * is not restricted. Will be deprecated in the future. Look to Supported Features for 'Restricted'.
     */
    private LocationRestricted restricted;

    /*
     * The reason for the capability not being available.
     */
    private String reason;

    /*
     * The status of the capability.
     */
    private CapabilityStatus status;

    /**
     * Creates an instance of CapabilityInner class.
     */
    public CapabilityInner() {
    }

    /**
     * Get the name property: Name of flexible servers capabilities.
     * 
     * @return the name value.
     */
    public String name() {
        return this.name;
    }

    /**
     * Set the name property: Name of flexible servers capabilities.
     * 
     * @param name the name value to set.
     * @return the CapabilityInner object itself.
     */
    public CapabilityInner withName(String name) {
        this.name = name;
        return this;
    }

    /**
     * Get the supportedServerEditions property: List of supported compute tiers.
     * 
     * @return the supportedServerEditions value.
     */
    public List<ServerEditionCapability> supportedServerEditions() {
        return this.supportedServerEditions;
    }

    /**
     * Get the supportedServerVersions property: List of supported major versions of PostgreSQL database engine.
     * 
     * @return the supportedServerVersions value.
     */
    public List<ServerVersionCapability> supportedServerVersions() {
        return this.supportedServerVersions;
    }

    /**
     * Get the supportedFeatures property: Features supported.
     * 
     * @return the supportedFeatures value.
     */
    public List<SupportedFeature> supportedFeatures() {
        return this.supportedFeatures;
    }

    /**
     * Get the fastProvisioningSupported property: Indicates if fast provisioning is supported. 'Enabled' means fast
     * provisioning is supported. 'Disabled' stands for fast provisioning is not supported. Will be deprecated in the
     * future. Look to Supported Features for 'FastProvisioning'.
     * 
     * @return the fastProvisioningSupported value.
     */
    public FastProvisioningSupport fastProvisioningSupported() {
        return this.fastProvisioningSupported;
    }

    /**
     * Get the supportedFastProvisioningEditions property: List of compute tiers supporting fast provisioning.
     * 
     * @return the supportedFastProvisioningEditions value.
     */
    public List<FastProvisioningEditionCapability> supportedFastProvisioningEditions() {
        return this.supportedFastProvisioningEditions;
    }

    /**
     * Get the geoBackupSupported property: Indicates if geographically redundant backups are supported in this
     * location. 'Enabled' means geographically redundant backups are supported. 'Disabled' stands for geographically
     * redundant backup is not supported. Will be deprecated in the future. Look to Supported Features for 'GeoBackup'.
     * 
     * @return the geoBackupSupported value.
     */
    public GeographicallyRedundantBackupSupport geoBackupSupported() {
        return this.geoBackupSupported;
    }

    /**
     * Get the zoneRedundantHaSupported property: Indicates if high availability with zone redundancy is supported in
     * this location. 'Enabled' means high availability with zone redundancy is supported. 'Disabled' stands for high
     * availability with zone redundancy is not supported. Will be deprecated in the future. Look to Supported Features
     * for 'ZoneRedundantHa'.
     * 
     * @return the zoneRedundantHaSupported value.
     */
    public ZoneRedundantHighAvailabilitySupport zoneRedundantHaSupported() {
        return this.zoneRedundantHaSupported;
    }

    /**
     * Get the zoneRedundantHaAndGeoBackupSupported property: Indicates if high availability with zone redundancy is
     * supported in conjunction with geographically redundant backups in this location. 'Enabled' means high
     * availability with zone redundancy is supported in conjunction with geographically redundant backups is supported.
     * 'Disabled' stands for high availability with zone redundancy is supported in conjunction with geographically
     * redundant backups is not supported. Will be deprecated in the future. Look to Supported Features for
     * 'ZoneRedundantHaAndGeoBackup'.
     * 
     * @return the zoneRedundantHaAndGeoBackupSupported value.
     */
    public ZoneRedundantHighAvailabilityAndGeographicallyRedundantBackupSupport zoneRedundantHaAndGeoBackupSupported() {
        return this.zoneRedundantHaAndGeoBackupSupported;
    }

    /**
     * Get the storageAutoGrowthSupported property: Indicates if storage autogrow is supported in this location.
     * 'Enabled' means storage autogrow is supported. 'Disabled' stands for storage autogrow is not supported. Will be
     * deprecated in the future. Look to Supported Features for 'StorageAutoGrowth'.
     * 
     * @return the storageAutoGrowthSupported value.
     */
    public StorageAutoGrowthSupport storageAutoGrowthSupported() {
        return this.storageAutoGrowthSupported;
    }

    /**
     * Get the onlineResizeSupported property: Indicates if resizing the storage, without interrupting the operation of
     * the database engine, is supported in this location for the given subscription. 'Enabled' means resizing the
     * storage without interrupting the operation of the database engine is supported. 'Disabled' means resizing the
     * storage without interrupting the operation of the database engine is not supported. Will be deprecated in the
     * future. Look to Supported Features for 'OnlineResize'.
     * 
     * @return the onlineResizeSupported value.
     */
    public OnlineStorageResizeSupport onlineResizeSupported() {
        return this.onlineResizeSupported;
    }

    /**
     * Get the restricted property: Indicates if this location is restricted. 'Enabled' means location is restricted.
     * 'Disabled' stands for location is not restricted. Will be deprecated in the future. Look to Supported Features
     * for 'Restricted'.
     * 
     * @return the restricted value.
     */
    public LocationRestricted restricted() {
        return this.restricted;
    }

    /**
     * Get the reason property: The reason for the capability not being available.
     * 
     * @return the reason value.
     */
    @Override
    public String reason() {
        return this.reason;
    }

    /**
     * Get the status property: The status of the capability.
     * 
     * @return the status value.
     */
    @Override
    public CapabilityStatus status() {
        return this.status;
    }

    /**
     * Validates the instance.
     * 
     * @throws IllegalArgumentException thrown if the instance is not valid.
     */
    @Override
    public void validate() {
        if (supportedServerEditions() != null) {
            supportedServerEditions().forEach(e -> e.validate());
        }
        if (supportedServerVersions() != null) {
            supportedServerVersions().forEach(e -> e.validate());
        }
        if (supportedFeatures() != null) {
            supportedFeatures().forEach(e -> e.validate());
        }
        if (supportedFastProvisioningEditions() != null) {
            supportedFastProvisioningEditions().forEach(e -> e.validate());
        }
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeStringField("name", this.name);
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of CapabilityInner from the JsonReader.
     * 
     * @param jsonReader The JsonReader being read.
     * @return An instance of CapabilityInner if the JsonReader was pointing to an instance of it, or null if it was
     * pointing to JSON null.
     * @throws IOException If an error occurs while reading the CapabilityInner.
     */
    public static CapabilityInner fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            CapabilityInner deserializedCapabilityInner = new CapabilityInner();
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();

                if ("status".equals(fieldName)) {
                    deserializedCapabilityInner.status = CapabilityStatus.fromString(reader.getString());
                } else if ("reason".equals(fieldName)) {
                    deserializedCapabilityInner.reason = reader.getString();
                } else if ("name".equals(fieldName)) {
                    deserializedCapabilityInner.name = reader.getString();
                } else if ("supportedServerEditions".equals(fieldName)) {
                    List<ServerEditionCapability> supportedServerEditions
                        = reader.readArray(reader1 -> ServerEditionCapability.fromJson(reader1));
                    deserializedCapabilityInner.supportedServerEditions = supportedServerEditions;
                } else if ("supportedServerVersions".equals(fieldName)) {
                    List<ServerVersionCapability> supportedServerVersions
                        = reader.readArray(reader1 -> ServerVersionCapability.fromJson(reader1));
                    deserializedCapabilityInner.supportedServerVersions = supportedServerVersions;
                } else if ("supportedFeatures".equals(fieldName)) {
                    List<SupportedFeature> supportedFeatures
                        = reader.readArray(reader1 -> SupportedFeature.fromJson(reader1));
                    deserializedCapabilityInner.supportedFeatures = supportedFeatures;
                } else if ("fastProvisioningSupported".equals(fieldName)) {
                    deserializedCapabilityInner.fastProvisioningSupported
                        = FastProvisioningSupport.fromString(reader.getString());
                } else if ("supportedFastProvisioningEditions".equals(fieldName)) {
                    List<FastProvisioningEditionCapability> supportedFastProvisioningEditions
                        = reader.readArray(reader1 -> FastProvisioningEditionCapability.fromJson(reader1));
                    deserializedCapabilityInner.supportedFastProvisioningEditions = supportedFastProvisioningEditions;
                } else if ("geoBackupSupported".equals(fieldName)) {
                    deserializedCapabilityInner.geoBackupSupported
                        = GeographicallyRedundantBackupSupport.fromString(reader.getString());
                } else if ("zoneRedundantHaSupported".equals(fieldName)) {
                    deserializedCapabilityInner.zoneRedundantHaSupported
                        = ZoneRedundantHighAvailabilitySupport.fromString(reader.getString());
                } else if ("zoneRedundantHaAndGeoBackupSupported".equals(fieldName)) {
                    deserializedCapabilityInner.zoneRedundantHaAndGeoBackupSupported
                        = ZoneRedundantHighAvailabilityAndGeographicallyRedundantBackupSupport
                            .fromString(reader.getString());
                } else if ("storageAutoGrowthSupported".equals(fieldName)) {
                    deserializedCapabilityInner.storageAutoGrowthSupported
                        = StorageAutoGrowthSupport.fromString(reader.getString());
                } else if ("onlineResizeSupported".equals(fieldName)) {
                    deserializedCapabilityInner.onlineResizeSupported
                        = OnlineStorageResizeSupport.fromString(reader.getString());
                } else if ("restricted".equals(fieldName)) {
                    deserializedCapabilityInner.restricted = LocationRestricted.fromString(reader.getString());
                } else {
                    reader.skipChildren();
                }
            }

            return deserializedCapabilityInner;
        });
    }
}
