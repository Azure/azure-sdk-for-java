// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.postgresqlflexibleserver.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.postgresqlflexibleserver.PostgreSqlManager;
import com.azure.resourcemanager.postgresqlflexibleserver.models.Capability;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class CapabilitiesByLocationsListMockTests {
    @Test
    public void testList() throws Exception {
        String responseStr
            = "{\"value\":[{\"name\":\"fcbqwremjela\",\"supportedServerEditions\":[{\"name\":\"geleohdbvq\",\"defaultSkuName\":\"z\",\"supportedStorageEditions\":[{\"name\":\"wbeonrlkwzdqy\",\"defaultStorageSizeMb\":6589805764834432225,\"supportedStorageMb\":[{},{}],\"status\":\"Default\",\"reason\":\"tsoqfyiaseqchk\"},{\"name\":\"tzrazisgyk\",\"defaultStorageSizeMb\":2757019691951855668,\"supportedStorageMb\":[{},{},{},{}],\"status\":\"Default\",\"reason\":\"zohmnrxxbs\"},{\"name\":\"klinhmdptysprq\",\"defaultStorageSizeMb\":7835485157442942398,\"supportedStorageMb\":[{},{},{},{}],\"status\":\"Available\",\"reason\":\"lsvjgpliu\"},{\"name\":\"qwoyxqvapco\",\"defaultStorageSizeMb\":408075209861294789,\"supportedStorageMb\":[{},{},{}],\"status\":\"Visible\",\"reason\":\"jxcx\"}],\"supportedServerSkus\":[{\"name\":\"cgdz\",\"vCores\":429939181,\"supportedIops\":1452545754,\"supportedMemoryPerVcoreMb\":1350626658919534505,\"supportedZones\":[\"tzqdd\",\"jwfljhznamtua\"],\"supportedHaMode\":[\"SameZone\",\"ZoneRedundant\",\"ZoneRedundant\"],\"supportedFeatures\":[{}],\"securityProfile\":\"qtjzmizvgbg\",\"status\":\"Default\",\"reason\":\"uvbxngr\"},{\"name\":\"wggahttzlswvaj\",\"vCores\":2029200666,\"supportedIops\":417538251,\"supportedMemoryPerVcoreMb\":5715266364147966226,\"supportedZones\":[\"asunwqrjzfrgq\",\"aohcmbuocn\",\"r\",\"hmbpyryxamebly\"],\"supportedHaMode\":[\"Disabled\",\"Disabled\"],\"supportedFeatures\":[{}],\"securityProfile\":\"ocxnehvsmtodl\",\"status\":\"Default\",\"reason\":\"pucygvoavyunss\"},{\"name\":\"ghiee\",\"vCores\":1213852427,\"supportedIops\":1042302937,\"supportedMemoryPerVcoreMb\":8326651868047322339,\"supportedZones\":[\"ksgbuxan\",\"uygdhgaqipirp\",\"wrq\",\"fulopmjnlexwhcb\"],\"supportedHaMode\":[\"SameZone\",\"Disabled\"],\"supportedFeatures\":[{},{},{}],\"securityProfile\":\"uuuercta\",\"status\":\"Default\",\"reason\":\"ntqpbr\"}],\"status\":\"Disabled\",\"reason\":\"duczkgof\"},{\"name\":\"fsrucv\",\"defaultSkuName\":\"rpcjttbstvjeaqnr\",\"supportedStorageEditions\":[{\"name\":\"koxmlghk\",\"defaultStorageSizeMb\":7982609704368094345,\"supportedStorageMb\":[{}],\"status\":\"Visible\",\"reason\":\"lpdwwexymzvlazi\"},{\"name\":\"hpwvqsgnyyuu\",\"defaultStorageSizeMb\":7697513798261978423,\"supportedStorageMb\":[{},{}],\"status\":\"Disabled\",\"reason\":\"eyyvpkpatl\"}],\"supportedServerSkus\":[{\"name\":\"zgs\",\"vCores\":1413449997,\"supportedIops\":188755514,\"supportedMemoryPerVcoreMb\":949347279775612435,\"supportedZones\":[\"knbnxwcdommpvfq\",\"wzfgbrttuiaclkie\",\"hajlfn\",\"hiqfyuttdiy\"],\"supportedHaMode\":[\"Disabled\"],\"supportedFeatures\":[{},{}],\"securityProfile\":\"wmtxkyctwwgz\",\"status\":\"Available\",\"reason\":\"mecvogygzyvneeza\"}],\"status\":\"Visible\",\"reason\":\"tmoqqtlffhzb\"},{\"name\":\"kjj\",\"defaultSkuName\":\"vfqnvhnqoewdo\",\"supportedStorageEditions\":[{\"name\":\"tesypvidbztjh\",\"defaultStorageSizeMb\":3482829846973700922,\"supportedStorageMb\":[{},{}],\"status\":\"Default\",\"reason\":\"kbwetnj\"},{\"name\":\"p\",\"defaultStorageSizeMb\":481993562254393755,\"supportedStorageMb\":[{},{}],\"status\":\"Visible\",\"reason\":\"ia\"}],\"supportedServerSkus\":[{\"name\":\"afbwqroohtuovmao\",\"vCores\":57669681,\"supportedIops\":349578755,\"supportedMemoryPerVcoreMb\":6273557589629287073,\"supportedZones\":[\"hpv\",\"cmslclblyjxltbs\",\"uscv\",\"f\"],\"supportedHaMode\":[\"SameZone\",\"ZoneRedundant\",\"SameZone\",\"SameZone\"],\"supportedFeatures\":[{}],\"securityProfile\":\"pbezqccydrtceu\",\"status\":\"Disabled\",\"reason\":\"ky\"},{\"name\":\"ztgeqmgqzgwld\",\"vCores\":28603404,\"supportedIops\":453011770,\"supportedMemoryPerVcoreMb\":7056546080217298487,\"supportedZones\":[\"fehuwaoaguhi\",\"qllizstac\",\"jvhrweft\"],\"supportedHaMode\":[\"SameZone\",\"Disabled\",\"Disabled\",\"SameZone\"],\"supportedFeatures\":[{}],\"securityProfile\":\"ehaepwamcxtc\",\"status\":\"Disabled\",\"reason\":\"euknijduyyes\"}],\"status\":\"Available\",\"reason\":\"fbocyvhh\"},{\"name\":\"rtywi\",\"defaultSkuName\":\"mhlaku\",\"supportedStorageEditions\":[{\"name\":\"hgauacdixmxufrs\",\"defaultStorageSizeMb\":4083024438662692355,\"supportedStorageMb\":[{},{},{},{}],\"status\":\"Default\",\"reason\":\"ozo\"},{\"name\":\"qb\",\"defaultStorageSizeMb\":617554152963314418,\"supportedStorageMb\":[{}],\"status\":\"Default\",\"reason\":\"mqjch\"}],\"supportedServerSkus\":[{\"name\":\"faymxbulpz\",\"vCores\":602662217,\"supportedIops\":1697071043,\"supportedMemoryPerVcoreMb\":880328364765018669,\"supportedZones\":[\"wyvf\"],\"supportedHaMode\":[\"Disabled\",\"ZoneRedundant\"],\"supportedFeatures\":[{},{},{}],\"securityProfile\":\"xsgxjcmmzrrs\",\"status\":\"Available\",\"reason\":\"wsdrnpxqwodif\"},{\"name\":\"xcjr\",\"vCores\":1062406904,\"supportedIops\":752628188,\"supportedMemoryPerVcoreMb\":4536324568526821393,\"supportedZones\":[\"ogjo\",\"mcyefoyzbam\"],\"supportedHaMode\":[\"SameZone\"],\"supportedFeatures\":[{},{}],\"securityProfile\":\"fkak\",\"status\":\"Available\",\"reason\":\"t\"},{\"name\":\"vboclzhzjk\",\"vCores\":523448665,\"supportedIops\":1180422043,\"supportedMemoryPerVcoreMb\":2075539847112196834,\"supportedZones\":[\"nrup\",\"a\",\"mrdixtreki\"],\"supportedHaMode\":[\"SameZone\",\"SameZone\",\"ZoneRedundant\"],\"supportedFeatures\":[{},{},{}],\"securityProfile\":\"ffg\",\"status\":\"Available\",\"reason\":\"kutvlxhrpqhv\"},{\"name\":\"lcouqehbhbcdszir\",\"vCores\":279050026,\"supportedIops\":1099708038,\"supportedMemoryPerVcoreMb\":5096783027228515980,\"supportedZones\":[\"ltoormkfqlwxldyk\"],\"supportedHaMode\":[\"SameZone\"],\"supportedFeatures\":[{},{},{}],\"securityProfile\":\"lnjpnnbmjksibjgs\",\"status\":\"Disabled\",\"reason\":\"ahmrnadzyqegxyi\"}],\"status\":\"Available\",\"reason\":\"bmh\"}],\"supportedServerVersions\":[{\"name\":\"jkgqxnhmbkez\",\"supportedVersionsToUpgrade\":[\"ujvaannggi\",\"cwkdtaaw\"],\"supportedFeatures\":[{\"name\":\"ka\",\"status\":\"Disabled\"}],\"status\":\"Available\",\"reason\":\"bzmqkratbn\"},{\"name\":\"bjsidb\",\"supportedVersionsToUpgrade\":[\"fpksok\",\"gogewijymrh\",\"guzozkyew\"],\"supportedFeatures\":[{\"name\":\"hhhqosm\",\"status\":\"Disabled\"},{\"name\":\"utycyarnroohguab\",\"status\":\"Enabled\"}],\"status\":\"Default\",\"reason\":\"dp\"},{\"name\":\"z\",\"supportedVersionsToUpgrade\":[\"eocnhzqrottj\",\"cfyjzp\",\"wrlohapqinfszpyg\"],\"supportedFeatures\":[{\"name\":\"mrjzral\",\"status\":\"Enabled\"}],\"status\":\"Disabled\",\"reason\":\"ypsjoq\"},{\"name\":\"enky\",\"supportedVersionsToUpgrade\":[\"zv\"],\"supportedFeatures\":[{\"name\":\"xj\",\"status\":\"Enabled\"},{\"name\":\"mpzqjhhhq\",\"status\":\"Enabled\"},{\"name\":\"vcacoyv\",\"status\":\"Enabled\"},{\"name\":\"izus\",\"status\":\"Disabled\"}],\"status\":\"Visible\",\"reason\":\"cmnlzijiufehg\"}],\"supportedFeatures\":[{\"name\":\"nwyvq\",\"status\":\"Enabled\"},{\"name\":\"rlniyl\",\"status\":\"Enabled\"}],\"fastProvisioningSupported\":\"Enabled\",\"supportedFastProvisioningEditions\":[{\"supportedTier\":\"tgqztwhghmup\",\"supportedSku\":\"yjtcdxabbujftab\",\"supportedStorageGb\":751843719,\"supportedServerVersions\":\"klqpx\",\"serverCount\":1849562249,\"status\":\"Default\",\"reason\":\"ddwwnlzafwxudgnh\"},{\"supportedTier\":\"okrtalvnb\",\"supportedSku\":\"pbeme\",\"supportedStorageGb\":1742020192,\"supportedServerVersions\":\"vdjjukyrdn\",\"serverCount\":1633443141,\"status\":\"Disabled\",\"reason\":\"h\"},{\"supportedTier\":\"qfaqnvzoqg\",\"supportedSku\":\"pem\",\"supportedStorageGb\":325283755,\"supportedServerVersions\":\"v\",\"serverCount\":1196552141,\"status\":\"Available\",\"reason\":\"dtx\"},{\"supportedTier\":\"lghwzhome\",\"supportedSku\":\"j\",\"supportedStorageGb\":1873141935,\"supportedServerVersions\":\"uhqawmoaianc\",\"serverCount\":1833756499,\"status\":\"Default\",\"reason\":\"rslbl\"}],\"geoBackupSupported\":\"Disabled\",\"zoneRedundantHaSupported\":\"Enabled\",\"zoneRedundantHaAndGeoBackupSupported\":\"Enabled\",\"storageAutoGrowthSupported\":\"Disabled\",\"onlineResizeSupported\":\"Disabled\",\"restricted\":\"Disabled\",\"status\":\"Visible\",\"reason\":\"bqlj\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        PostgreSqlManager manager = PostgreSqlManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        PagedIterable<Capability> response
            = manager.capabilitiesByLocations().list("dpyqyybxubmd", com.azure.core.util.Context.NONE);

        Assertions.assertEquals("fcbqwremjela", response.iterator().next().name());
    }
}
