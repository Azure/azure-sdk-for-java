// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.postgresqlflexibleserver.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationDetails;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationState;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;

public final class ValidationDetailsTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ValidationDetails model = BinaryData.fromString(
            "{\"status\":\"Failed\",\"validationStartTimeInUtc\":\"2021-03-31T13:31:51Z\",\"validationEndTimeInUtc\":\"2021-01-18T23:17:52Z\",\"serverLevelValidationDetails\":[{\"type\":\"qvudwxdndnvowgu\",\"state\":\"Warning\",\"messages\":[{\"state\":\"Succeeded\",\"message\":\"glhslazj\"},{\"state\":\"Warning\",\"message\":\"dtjixhb\"},{\"state\":\"Warning\",\"message\":\"qweykhmenev\"}]},{\"type\":\"exfwhy\",\"state\":\"Warning\",\"messages\":[{\"state\":\"Succeeded\",\"message\":\"c\"},{\"state\":\"Succeeded\",\"message\":\"nnaamdectehfiqsc\"}]}],\"dbLevelValidationDetails\":[{\"databaseName\":\"vhezrkgqhcj\",\"startedOn\":\"2021-10-26T01:10:04Z\",\"endedOn\":\"2021-04-13T21:01:09Z\",\"summary\":[{\"type\":\"sle\",\"state\":\"Failed\",\"messages\":[{},{},{}]},{\"type\":\"jpkcattpng\",\"state\":\"Succeeded\",\"messages\":[{},{},{}]},{\"type\":\"sqpjhvmdajvn\",\"state\":\"Succeeded\",\"messages\":[{},{},{}]}]},{\"databaseName\":\"e\",\"startedOn\":\"2021-08-26T21:26:20Z\",\"endedOn\":\"2021-04-17T02:43:52Z\",\"summary\":[{\"type\":\"fhyhltrpmopjmcma\",\"state\":\"Succeeded\",\"messages\":[{},{},{},{}]}]},{\"databaseName\":\"fu\",\"startedOn\":\"2021-05-27T00:11:36Z\",\"endedOn\":\"2021-05-15T07:44:06Z\",\"summary\":[{\"type\":\"pk\",\"state\":\"Succeeded\",\"messages\":[{},{},{}]}]}]}")
            .toObject(ValidationDetails.class);
        Assertions.assertEquals(ValidationState.FAILED, model.status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-03-31T13:31:51Z"), model.validationStartTimeInUtc());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-18T23:17:52Z"), model.validationEndTimeInUtc());
        Assertions.assertEquals("qvudwxdndnvowgu", model.serverLevelValidationDetails().get(0).type());
        Assertions.assertEquals(ValidationState.WARNING, model.serverLevelValidationDetails().get(0).state());
        Assertions.assertEquals(ValidationState.SUCCEEDED,
            model.serverLevelValidationDetails().get(0).messages().get(0).state());
        Assertions.assertEquals("glhslazj", model.serverLevelValidationDetails().get(0).messages().get(0).message());
        Assertions.assertEquals("vhezrkgqhcj", model.dbLevelValidationDetails().get(0).databaseName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-10-26T01:10:04Z"),
            model.dbLevelValidationDetails().get(0).startedOn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-13T21:01:09Z"),
            model.dbLevelValidationDetails().get(0).endedOn());
        Assertions.assertEquals("sle", model.dbLevelValidationDetails().get(0).summary().get(0).type());
        Assertions.assertEquals(ValidationState.FAILED,
            model.dbLevelValidationDetails().get(0).summary().get(0).state());
    }
}
