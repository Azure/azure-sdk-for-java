// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.postgresqlflexibleserver.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.postgresqlflexibleserver.models.DbLevelValidationStatus;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationDetails;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationMessage;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationState;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationSummaryItem;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ValidationDetailsTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ValidationDetails model =
            BinaryData
                .fromString(
                    "{\"status\":\"Warning\",\"validationStartTimeInUtc\":\"2021-05-04T12:21:26Z\",\"validationEndTimeInUtc\":\"2021-11-16T20:18:39Z\",\"serverLevelValidationDetails\":[{\"type\":\"frxtrthzvaytdwk\",\"state\":\"Failed\",\"messages\":[{\"state\":\"Failed\",\"message\":\"xhexiilivpdti\"},{\"state\":\"Warning\",\"message\":\"d\"}]},{\"type\":\"axoruzfgsquy\",\"state\":\"Failed\",\"messages\":[{\"state\":\"Failed\",\"message\":\"tramxjez\"},{\"state\":\"Succeeded\",\"message\":\"wxuqlcvydypatdoo\"},{\"state\":\"Warning\",\"message\":\"niodkooeb\"}]},{\"type\":\"ujhemmsbvdkcrodt\",\"state\":\"Succeeded\",\"messages\":[{\"state\":\"Warning\",\"message\":\"lt\"}]},{\"type\":\"cjvefkdlfo\",\"state\":\"Warning\",\"messages\":[{\"state\":\"Succeeded\",\"message\":\"gaowpulpqblylsyx\"},{\"state\":\"Failed\",\"message\":\"sjervti\"}]}],\"dbLevelValidationDetails\":[{\"databaseName\":\"dszue\",\"startedOn\":\"2021-01-27T10:36:07Z\",\"endedOn\":\"2021-04-15T09:10:21Z\",\"summary\":[{\"type\":\"beyvpnqicvinvkjj\",\"state\":\"Warning\",\"messages\":[{},{},{},{}]}]},{\"databaseName\":\"ukzclewyhmlwpaz\",\"startedOn\":\"2021-08-27T08:18:45Z\",\"endedOn\":\"2021-01-30T03:38:42Z\",\"summary\":[{\"type\":\"kwyfzqwhxxbuyqax\",\"state\":\"Succeeded\",\"messages\":[{},{},{},{}]},{\"type\":\"ppriol\",\"state\":\"Warning\",\"messages\":[{},{}]},{\"type\":\"tolmncwsobqw\",\"state\":\"Succeeded\",\"messages\":[{},{}]},{\"type\":\"dcfhucqdpf\",\"state\":\"Succeeded\",\"messages\":[{},{}]}]},{\"databaseName\":\"jjcanvxbvtv\",\"startedOn\":\"2021-04-07T04:06:35Z\",\"endedOn\":\"2021-10-07T13:15:31Z\",\"summary\":[{\"type\":\"mr\",\"state\":\"Warning\",\"messages\":[{},{}]},{\"type\":\"ofudflvkgju\",\"state\":\"Warning\",\"messages\":[{},{}]},{\"type\":\"qvsaznqntorud\",\"state\":\"Warning\",\"messages\":[{}]},{\"type\":\"kycgrauwj\",\"state\":\"Failed\",\"messages\":[{},{}]}]}]}")
                .toObject(ValidationDetails.class);
        Assertions.assertEquals(ValidationState.WARNING, model.status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-04T12:21:26Z"), model.validationStartTimeInUtc());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-16T20:18:39Z"), model.validationEndTimeInUtc());
        Assertions.assertEquals("frxtrthzvaytdwk", model.serverLevelValidationDetails().get(0).type());
        Assertions.assertEquals(ValidationState.FAILED, model.serverLevelValidationDetails().get(0).state());
        Assertions
            .assertEquals(
                ValidationState.FAILED, model.serverLevelValidationDetails().get(0).messages().get(0).state());
        Assertions
            .assertEquals("xhexiilivpdti", model.serverLevelValidationDetails().get(0).messages().get(0).message());
        Assertions.assertEquals("dszue", model.dbLevelValidationDetails().get(0).databaseName());
        Assertions
            .assertEquals(
                OffsetDateTime.parse("2021-01-27T10:36:07Z"), model.dbLevelValidationDetails().get(0).startedOn());
        Assertions
            .assertEquals(
                OffsetDateTime.parse("2021-04-15T09:10:21Z"), model.dbLevelValidationDetails().get(0).endedOn());
        Assertions.assertEquals("beyvpnqicvinvkjj", model.dbLevelValidationDetails().get(0).summary().get(0).type());
        Assertions
            .assertEquals(ValidationState.WARNING, model.dbLevelValidationDetails().get(0).summary().get(0).state());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ValidationDetails model =
            new ValidationDetails()
                .withStatus(ValidationState.WARNING)
                .withValidationStartTimeInUtc(OffsetDateTime.parse("2021-05-04T12:21:26Z"))
                .withValidationEndTimeInUtc(OffsetDateTime.parse("2021-11-16T20:18:39Z"))
                .withServerLevelValidationDetails(
                    Arrays
                        .asList(
                            new ValidationSummaryItem()
                                .withType("frxtrthzvaytdwk")
                                .withState(ValidationState.FAILED)
                                .withMessages(
                                    Arrays
                                        .asList(
                                            new ValidationMessage()
                                                .withState(ValidationState.FAILED)
                                                .withMessage("xhexiilivpdti"),
                                            new ValidationMessage()
                                                .withState(ValidationState.WARNING)
                                                .withMessage("d"))),
                            new ValidationSummaryItem()
                                .withType("axoruzfgsquy")
                                .withState(ValidationState.FAILED)
                                .withMessages(
                                    Arrays
                                        .asList(
                                            new ValidationMessage()
                                                .withState(ValidationState.FAILED)
                                                .withMessage("tramxjez"),
                                            new ValidationMessage()
                                                .withState(ValidationState.SUCCEEDED)
                                                .withMessage("wxuqlcvydypatdoo"),
                                            new ValidationMessage()
                                                .withState(ValidationState.WARNING)
                                                .withMessage("niodkooeb"))),
                            new ValidationSummaryItem()
                                .withType("ujhemmsbvdkcrodt")
                                .withState(ValidationState.SUCCEEDED)
                                .withMessages(
                                    Arrays
                                        .asList(
                                            new ValidationMessage()
                                                .withState(ValidationState.WARNING)
                                                .withMessage("lt"))),
                            new ValidationSummaryItem()
                                .withType("cjvefkdlfo")
                                .withState(ValidationState.WARNING)
                                .withMessages(
                                    Arrays
                                        .asList(
                                            new ValidationMessage()
                                                .withState(ValidationState.SUCCEEDED)
                                                .withMessage("gaowpulpqblylsyx"),
                                            new ValidationMessage()
                                                .withState(ValidationState.FAILED)
                                                .withMessage("sjervti")))))
                .withDbLevelValidationDetails(
                    Arrays
                        .asList(
                            new DbLevelValidationStatus()
                                .withDatabaseName("dszue")
                                .withStartedOn(OffsetDateTime.parse("2021-01-27T10:36:07Z"))
                                .withEndedOn(OffsetDateTime.parse("2021-04-15T09:10:21Z"))
                                .withSummary(
                                    Arrays
                                        .asList(
                                            new ValidationSummaryItem()
                                                .withType("beyvpnqicvinvkjj")
                                                .withState(ValidationState.WARNING)
                                                .withMessages(
                                                    Arrays
                                                        .asList(
                                                            new ValidationMessage(),
                                                            new ValidationMessage(),
                                                            new ValidationMessage(),
                                                            new ValidationMessage())))),
                            new DbLevelValidationStatus()
                                .withDatabaseName("ukzclewyhmlwpaz")
                                .withStartedOn(OffsetDateTime.parse("2021-08-27T08:18:45Z"))
                                .withEndedOn(OffsetDateTime.parse("2021-01-30T03:38:42Z"))
                                .withSummary(
                                    Arrays
                                        .asList(
                                            new ValidationSummaryItem()
                                                .withType("kwyfzqwhxxbuyqax")
                                                .withState(ValidationState.SUCCEEDED)
                                                .withMessages(
                                                    Arrays
                                                        .asList(
                                                            new ValidationMessage(),
                                                            new ValidationMessage(),
                                                            new ValidationMessage(),
                                                            new ValidationMessage())),
                                            new ValidationSummaryItem()
                                                .withType("ppriol")
                                                .withState(ValidationState.WARNING)
                                                .withMessages(
                                                    Arrays.asList(new ValidationMessage(), new ValidationMessage())),
                                            new ValidationSummaryItem()
                                                .withType("tolmncwsobqw")
                                                .withState(ValidationState.SUCCEEDED)
                                                .withMessages(
                                                    Arrays.asList(new ValidationMessage(), new ValidationMessage())),
                                            new ValidationSummaryItem()
                                                .withType("dcfhucqdpf")
                                                .withState(ValidationState.SUCCEEDED)
                                                .withMessages(
                                                    Arrays.asList(new ValidationMessage(), new ValidationMessage())))),
                            new DbLevelValidationStatus()
                                .withDatabaseName("jjcanvxbvtv")
                                .withStartedOn(OffsetDateTime.parse("2021-04-07T04:06:35Z"))
                                .withEndedOn(OffsetDateTime.parse("2021-10-07T13:15:31Z"))
                                .withSummary(
                                    Arrays
                                        .asList(
                                            new ValidationSummaryItem()
                                                .withType("mr")
                                                .withState(ValidationState.WARNING)
                                                .withMessages(
                                                    Arrays.asList(new ValidationMessage(), new ValidationMessage())),
                                            new ValidationSummaryItem()
                                                .withType("ofudflvkgju")
                                                .withState(ValidationState.WARNING)
                                                .withMessages(
                                                    Arrays.asList(new ValidationMessage(), new ValidationMessage())),
                                            new ValidationSummaryItem()
                                                .withType("qvsaznqntorud")
                                                .withState(ValidationState.WARNING)
                                                .withMessages(Arrays.asList(new ValidationMessage())),
                                            new ValidationSummaryItem()
                                                .withType("kycgrauwj")
                                                .withState(ValidationState.FAILED)
                                                .withMessages(
                                                    Arrays
                                                        .asList(new ValidationMessage(), new ValidationMessage()))))));
        model = BinaryData.fromObject(model).toObject(ValidationDetails.class);
        Assertions.assertEquals(ValidationState.WARNING, model.status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-05-04T12:21:26Z"), model.validationStartTimeInUtc());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-16T20:18:39Z"), model.validationEndTimeInUtc());
        Assertions.assertEquals("frxtrthzvaytdwk", model.serverLevelValidationDetails().get(0).type());
        Assertions.assertEquals(ValidationState.FAILED, model.serverLevelValidationDetails().get(0).state());
        Assertions
            .assertEquals(
                ValidationState.FAILED, model.serverLevelValidationDetails().get(0).messages().get(0).state());
        Assertions
            .assertEquals("xhexiilivpdti", model.serverLevelValidationDetails().get(0).messages().get(0).message());
        Assertions.assertEquals("dszue", model.dbLevelValidationDetails().get(0).databaseName());
        Assertions
            .assertEquals(
                OffsetDateTime.parse("2021-01-27T10:36:07Z"), model.dbLevelValidationDetails().get(0).startedOn());
        Assertions
            .assertEquals(
                OffsetDateTime.parse("2021-04-15T09:10:21Z"), model.dbLevelValidationDetails().get(0).endedOn());
        Assertions.assertEquals("beyvpnqicvinvkjj", model.dbLevelValidationDetails().get(0).summary().get(0).type());
        Assertions
            .assertEquals(ValidationState.WARNING, model.dbLevelValidationDetails().get(0).summary().get(0).state());
    }
}
