// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.postgresqlflexibleserver.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.postgresqlflexibleserver.models.DbLevelValidationStatus;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationDetails;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationMessage;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationState;
import com.azure.resourcemanager.postgresqlflexibleserver.models.ValidationSummaryItem;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ValidationDetailsTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ValidationDetails model = BinaryData.fromString(
            "{\"status\":\"Succeeded\",\"validationStartTimeInUtc\":\"2021-08-28T01:51:20Z\",\"validationEndTimeInUtc\":\"2021-09-06T22:54:10Z\",\"serverLevelValidationDetails\":[{\"type\":\"saznqntoruds\",\"state\":\"Failed\",\"messages\":[{\"state\":\"Warning\",\"message\":\"grauwjuetaebur\"},{\"state\":\"Warning\",\"message\":\"ovsm\"}]},{\"type\":\"xwabmqoe\",\"state\":\"Succeeded\",\"messages\":[{\"state\":\"Failed\",\"message\":\"u\"}]},{\"type\":\"jmqlgkfb\",\"state\":\"Warning\",\"messages\":[{\"state\":\"Succeeded\",\"message\":\"bjcntujitc\"},{\"state\":\"Succeeded\",\"message\":\"twwaezkojvdcpzf\"}]},{\"type\":\"ouicybxarzgszu\",\"state\":\"Failed\",\"messages\":[{\"state\":\"Warning\",\"message\":\"idoamciodhkha\"},{\"state\":\"Succeeded\",\"message\":\"nz\"},{\"state\":\"Succeeded\",\"message\":\"wntoegokdwbwh\"},{\"state\":\"Failed\",\"message\":\"cmrvexzt\"}]}],\"dbLevelValidationDetails\":[{\"databaseName\":\"gsfraoyzkoow\",\"startedOn\":\"2021-01-01T04:06:13Z\",\"endedOn\":\"2021-11-23T22:05:35Z\",\"summary\":[{\"type\":\"wqaldsyu\",\"state\":\"Warning\",\"messages\":[{}]},{\"type\":\"qfobwyz\",\"state\":\"Succeeded\",\"messages\":[{},{}]},{\"type\":\"t\",\"state\":\"Failed\",\"messages\":[{},{},{}]},{\"type\":\"gmhrskdsnfdsdoak\",\"state\":\"Warning\",\"messages\":[{},{},{}]}]}]}")
            .toObject(ValidationDetails.class);
        Assertions.assertEquals(ValidationState.SUCCEEDED, model.status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-28T01:51:20Z"), model.validationStartTimeInUtc());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-06T22:54:10Z"), model.validationEndTimeInUtc());
        Assertions.assertEquals("saznqntoruds", model.serverLevelValidationDetails().get(0).type());
        Assertions.assertEquals(ValidationState.FAILED, model.serverLevelValidationDetails().get(0).state());
        Assertions.assertEquals(ValidationState.WARNING,
            model.serverLevelValidationDetails().get(0).messages().get(0).state());
        Assertions.assertEquals("grauwjuetaebur",
            model.serverLevelValidationDetails().get(0).messages().get(0).message());
        Assertions.assertEquals("gsfraoyzkoow", model.dbLevelValidationDetails().get(0).databaseName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-01T04:06:13Z"),
            model.dbLevelValidationDetails().get(0).startedOn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-23T22:05:35Z"),
            model.dbLevelValidationDetails().get(0).endedOn());
        Assertions.assertEquals("wqaldsyu", model.dbLevelValidationDetails().get(0).summary().get(0).type());
        Assertions.assertEquals(ValidationState.WARNING,
            model.dbLevelValidationDetails().get(0).summary().get(0).state());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ValidationDetails model
            = new ValidationDetails().withStatus(ValidationState.SUCCEEDED)
                .withValidationStartTimeInUtc(OffsetDateTime.parse("2021-08-28T01:51:20Z"))
                .withValidationEndTimeInUtc(OffsetDateTime.parse("2021-09-06T22:54:10Z"))
                .withServerLevelValidationDetails(
                    Arrays.asList(
                        new ValidationSummaryItem()
                            .withType("saznqntoruds")
                            .withState(ValidationState.FAILED)
                            .withMessages(Arrays.asList(
                                new ValidationMessage().withState(ValidationState.WARNING)
                                    .withMessage("grauwjuetaebur"),
                                new ValidationMessage().withState(ValidationState.WARNING).withMessage("ovsm"))),
                        new ValidationSummaryItem()
                            .withType("xwabmqoe")
                            .withState(ValidationState.SUCCEEDED)
                            .withMessages(Arrays
                                .asList(new ValidationMessage().withState(ValidationState.FAILED).withMessage("u"))),
                        new ValidationSummaryItem().withType("jmqlgkfb")
                            .withState(ValidationState.WARNING)
                            .withMessages(Arrays.asList(
                                new ValidationMessage().withState(ValidationState.SUCCEEDED).withMessage("bjcntujitc"),
                                new ValidationMessage().withState(ValidationState.SUCCEEDED)
                                    .withMessage("twwaezkojvdcpzf"))),
                        new ValidationSummaryItem().withType("ouicybxarzgszu")
                            .withState(ValidationState.FAILED)
                            .withMessages(Arrays.asList(
                                new ValidationMessage().withState(ValidationState.WARNING).withMessage("idoamciodhkha"),
                                new ValidationMessage().withState(ValidationState.SUCCEEDED).withMessage("nz"),
                                new ValidationMessage().withState(ValidationState.SUCCEEDED)
                                    .withMessage("wntoegokdwbwh"),
                                new ValidationMessage().withState(ValidationState.FAILED).withMessage("cmrvexzt")))))
                .withDbLevelValidationDetails(
                    Arrays.asList(new DbLevelValidationStatus().withDatabaseName("gsfraoyzkoow")
                        .withStartedOn(OffsetDateTime.parse("2021-01-01T04:06:13Z"))
                        .withEndedOn(OffsetDateTime.parse("2021-11-23T22:05:35Z"))
                        .withSummary(Arrays.asList(
                            new ValidationSummaryItem().withType("wqaldsyu")
                                .withState(ValidationState.WARNING)
                                .withMessages(Arrays.asList(new ValidationMessage())),
                            new ValidationSummaryItem().withType("qfobwyz")
                                .withState(ValidationState.SUCCEEDED)
                                .withMessages(Arrays.asList(new ValidationMessage(), new ValidationMessage())),
                            new ValidationSummaryItem().withType("t")
                                .withState(ValidationState.FAILED)
                                .withMessages(Arrays.asList(new ValidationMessage(), new ValidationMessage(),
                                    new ValidationMessage())),
                            new ValidationSummaryItem().withType("gmhrskdsnfdsdoak")
                                .withState(ValidationState.WARNING)
                                .withMessages(Arrays.asList(new ValidationMessage(), new ValidationMessage(),
                                    new ValidationMessage()))))));
        model = BinaryData.fromObject(model).toObject(ValidationDetails.class);
        Assertions.assertEquals(ValidationState.SUCCEEDED, model.status());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-28T01:51:20Z"), model.validationStartTimeInUtc());
        Assertions.assertEquals(OffsetDateTime.parse("2021-09-06T22:54:10Z"), model.validationEndTimeInUtc());
        Assertions.assertEquals("saznqntoruds", model.serverLevelValidationDetails().get(0).type());
        Assertions.assertEquals(ValidationState.FAILED, model.serverLevelValidationDetails().get(0).state());
        Assertions.assertEquals(ValidationState.WARNING,
            model.serverLevelValidationDetails().get(0).messages().get(0).state());
        Assertions.assertEquals("grauwjuetaebur",
            model.serverLevelValidationDetails().get(0).messages().get(0).message());
        Assertions.assertEquals("gsfraoyzkoow", model.dbLevelValidationDetails().get(0).databaseName());
        Assertions.assertEquals(OffsetDateTime.parse("2021-01-01T04:06:13Z"),
            model.dbLevelValidationDetails().get(0).startedOn());
        Assertions.assertEquals(OffsetDateTime.parse("2021-11-23T22:05:35Z"),
            model.dbLevelValidationDetails().get(0).endedOn());
        Assertions.assertEquals("wqaldsyu", model.dbLevelValidationDetails().get(0).summary().get(0).type());
        Assertions.assertEquals(ValidationState.WARNING,
            model.dbLevelValidationDetails().get(0).summary().get(0).state());
    }
}
