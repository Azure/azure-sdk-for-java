// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.appcomplianceautomation.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.appcomplianceautomation.models.ReportPatchProperties;
import com.azure.resourcemanager.appcomplianceautomation.models.ReportResourcePatch;
import com.azure.resourcemanager.appcomplianceautomation.models.ResourceMetadata;
import com.azure.resourcemanager.appcomplianceautomation.models.ResourceOrigin;
import com.azure.resourcemanager.appcomplianceautomation.models.StorageInfo;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class ReportResourcePatchTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ReportResourcePatch model = BinaryData.fromString(
            "{\"properties\":{\"triggerTime\":\"2021-06-25T18:50:31Z\",\"timeZone\":\"qxhocdgeablgphut\",\"resources\":[{\"resourceId\":\"dvkaozw\",\"resourceType\":\"ftyhxhurokf\",\"resourceKind\":\"xolniwpwcukjfk\",\"resourceOrigin\":\"AWS\",\"accountId\":\"xklrypl\"}],\"status\":\"Failed\",\"errors\":[\"syyp\"],\"tenantId\":\"dhsgcba\",\"offerGuid\":\"hejkotynqgou\",\"nextTriggerTime\":\"2021-01-30T20:47:53Z\",\"lastTriggerTime\":\"2021-03-19T07:27:19Z\",\"subscriptions\":[\"wyqkgfgibm\"],\"complianceStatus\":{\"m365\":{\"passedCount\":1464742216,\"failedCount\":712813176,\"manualCount\":1093417192,\"notApplicableCount\":384573586,\"pendingCount\":1438808958}},\"storageInfo\":{\"subscriptionId\":\"e\",\"resourceGroup\":\"ytb\",\"accountName\":\"qfou\",\"location\":\"mmnkzsmodmgl\"},\"certRecords\":[{\"offerGuid\":\"b\",\"certificationStatus\":\"tmut\",\"ingestionStatus\":\"qktapspwgcuert\",\"controls\":[{\"controlId\":\"o\",\"controlStatus\":\"qw\"},{\"controlId\":\"mdgbbjfdd\",\"controlStatus\":\"bmbexppbhtqqro\"}]},{\"offerGuid\":\"p\",\"certificationStatus\":\"s\",\"ingestionStatus\":\"gbquxigj\",\"controls\":[{\"controlId\":\"jaoyfhrtx\",\"controlStatus\":\"n\"},{\"controlId\":\"kujysvlejuvfq\",\"controlStatus\":\"rlyxwjkcprbnw\"},{\"controlId\":\"gjvtbv\",\"controlStatus\":\"sszdnru\"},{\"controlId\":\"guhmuouqfpr\",\"controlStatus\":\"wbnguitnwui\"}]},{\"offerGuid\":\"a\",\"certificationStatus\":\"ufizuckyf\",\"ingestionStatus\":\"rfidfvzwdz\",\"controls\":[{\"controlId\":\"mwisdkfthwxmnt\",\"controlStatus\":\"waopvkmijcmmxd\"}]}],\"provisioningState\":\"Deleting\"}}")
            .toObject(ReportResourcePatch.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-25T18:50:31Z"), model.properties().triggerTime());
        Assertions.assertEquals("qxhocdgeablgphut", model.properties().timeZone());
        Assertions.assertEquals("dvkaozw", model.properties().resources().get(0).resourceId());
        Assertions.assertEquals("ftyhxhurokf", model.properties().resources().get(0).resourceType());
        Assertions.assertEquals("xolniwpwcukjfk", model.properties().resources().get(0).resourceKind());
        Assertions.assertEquals(ResourceOrigin.AWS, model.properties().resources().get(0).resourceOrigin());
        Assertions.assertEquals("xklrypl", model.properties().resources().get(0).accountId());
        Assertions.assertEquals("hejkotynqgou", model.properties().offerGuid());
        Assertions.assertEquals("e", model.properties().storageInfo().subscriptionId());
        Assertions.assertEquals("ytb", model.properties().storageInfo().resourceGroup());
        Assertions.assertEquals("qfou", model.properties().storageInfo().accountName());
        Assertions.assertEquals("mmnkzsmodmgl", model.properties().storageInfo().location());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ReportResourcePatch model = new ReportResourcePatch()
            .withProperties(new ReportPatchProperties().withTriggerTime(OffsetDateTime.parse("2021-06-25T18:50:31Z"))
                .withTimeZone("qxhocdgeablgphut")
                .withResources(Arrays.asList(new ResourceMetadata().withResourceId("dvkaozw")
                    .withResourceType("ftyhxhurokf")
                    .withResourceKind("xolniwpwcukjfk")
                    .withResourceOrigin(ResourceOrigin.AWS)
                    .withAccountId("xklrypl")))
                .withOfferGuid("hejkotynqgou")
                .withStorageInfo(new StorageInfo().withSubscriptionId("e")
                    .withResourceGroup("ytb")
                    .withAccountName("qfou")
                    .withLocation("mmnkzsmodmgl")));
        model = BinaryData.fromObject(model).toObject(ReportResourcePatch.class);
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-25T18:50:31Z"), model.properties().triggerTime());
        Assertions.assertEquals("qxhocdgeablgphut", model.properties().timeZone());
        Assertions.assertEquals("dvkaozw", model.properties().resources().get(0).resourceId());
        Assertions.assertEquals("ftyhxhurokf", model.properties().resources().get(0).resourceType());
        Assertions.assertEquals("xolniwpwcukjfk", model.properties().resources().get(0).resourceKind());
        Assertions.assertEquals(ResourceOrigin.AWS, model.properties().resources().get(0).resourceOrigin());
        Assertions.assertEquals("xklrypl", model.properties().resources().get(0).accountId());
        Assertions.assertEquals("hejkotynqgou", model.properties().offerGuid());
        Assertions.assertEquals("e", model.properties().storageInfo().subscriptionId());
        Assertions.assertEquals("ytb", model.properties().storageInfo().resourceGroup());
        Assertions.assertEquals("qfou", model.properties().storageInfo().accountName());
        Assertions.assertEquals("mmnkzsmodmgl", model.properties().storageInfo().location());
    }
}
