// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.sql.generated.implementation;

import com.azure.core.util.Context;
import com.azure.resourcemanager.sql.generated.fluent.models.WorkloadClassifierInner;
import com.azure.resourcemanager.sql.generated.models.WorkloadClassifier;

public final class WorkloadClassifierImpl
    implements WorkloadClassifier, WorkloadClassifier.Definition, WorkloadClassifier.Update {
    private WorkloadClassifierInner innerObject;

    private final com.azure.resourcemanager.sql.generated.SqlManager serviceManager;

    public String id() {
        return this.innerModel().id();
    }

    public String name() {
        return this.innerModel().name();
    }

    public String type() {
        return this.innerModel().type();
    }

    public String memberName() {
        return this.innerModel().memberName();
    }

    public String label() {
        return this.innerModel().label();
    }

    public String context() {
        return this.innerModel().context();
    }

    public String startTime() {
        return this.innerModel().startTime();
    }

    public String endTime() {
        return this.innerModel().endTime();
    }

    public String importance() {
        return this.innerModel().importance();
    }

    public WorkloadClassifierInner innerModel() {
        return this.innerObject;
    }

    private com.azure.resourcemanager.sql.generated.SqlManager manager() {
        return this.serviceManager;
    }

    private String resourceGroupName;

    private String serverName;

    private String databaseName;

    private String workloadGroupName;

    private String workloadClassifierName;

    public WorkloadClassifierImpl withExistingWorkloadGroup(
        String resourceGroupName, String serverName, String databaseName, String workloadGroupName) {
        this.resourceGroupName = resourceGroupName;
        this.serverName = serverName;
        this.databaseName = databaseName;
        this.workloadGroupName = workloadGroupName;
        return this;
    }

    public WorkloadClassifier create() {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getWorkloadClassifiers()
                .createOrUpdate(
                    resourceGroupName,
                    serverName,
                    databaseName,
                    workloadGroupName,
                    workloadClassifierName,
                    this.innerModel(),
                    Context.NONE);
        return this;
    }

    public WorkloadClassifier create(Context context) {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getWorkloadClassifiers()
                .createOrUpdate(
                    resourceGroupName,
                    serverName,
                    databaseName,
                    workloadGroupName,
                    workloadClassifierName,
                    this.innerModel(),
                    context);
        return this;
    }

    WorkloadClassifierImpl(String name, com.azure.resourcemanager.sql.generated.SqlManager serviceManager) {
        this.innerObject = new WorkloadClassifierInner();
        this.serviceManager = serviceManager;
        this.workloadClassifierName = name;
    }

    public WorkloadClassifierImpl update() {
        return this;
    }

    public WorkloadClassifier apply() {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getWorkloadClassifiers()
                .createOrUpdate(
                    resourceGroupName,
                    serverName,
                    databaseName,
                    workloadGroupName,
                    workloadClassifierName,
                    this.innerModel(),
                    Context.NONE);
        return this;
    }

    public WorkloadClassifier apply(Context context) {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getWorkloadClassifiers()
                .createOrUpdate(
                    resourceGroupName,
                    serverName,
                    databaseName,
                    workloadGroupName,
                    workloadClassifierName,
                    this.innerModel(),
                    context);
        return this;
    }

    WorkloadClassifierImpl(
        WorkloadClassifierInner innerObject, com.azure.resourcemanager.sql.generated.SqlManager serviceManager) {
        this.innerObject = innerObject;
        this.serviceManager = serviceManager;
        this.resourceGroupName = Utils.getValueFromIdByName(innerObject.id(), "resourceGroups");
        this.serverName = Utils.getValueFromIdByName(innerObject.id(), "servers");
        this.databaseName = Utils.getValueFromIdByName(innerObject.id(), "databases");
        this.workloadGroupName = Utils.getValueFromIdByName(innerObject.id(), "workloadGroups");
        this.workloadClassifierName = Utils.getValueFromIdByName(innerObject.id(), "workloadClassifiers");
    }

    public WorkloadClassifier refresh() {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getWorkloadClassifiers()
                .getWithResponse(
                    resourceGroupName,
                    serverName,
                    databaseName,
                    workloadGroupName,
                    workloadClassifierName,
                    Context.NONE)
                .getValue();
        return this;
    }

    public WorkloadClassifier refresh(Context context) {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getWorkloadClassifiers()
                .getWithResponse(
                    resourceGroupName, serverName, databaseName, workloadGroupName, workloadClassifierName, context)
                .getValue();
        return this;
    }

    public WorkloadClassifierImpl withMemberName(String memberName) {
        this.innerModel().withMemberName(memberName);
        return this;
    }

    public WorkloadClassifierImpl withLabel(String label) {
        this.innerModel().withLabel(label);
        return this;
    }

    public WorkloadClassifierImpl withContext(String context) {
        this.innerModel().withContext(context);
        return this;
    }

    public WorkloadClassifierImpl withStartTime(String startTime) {
        this.innerModel().withStartTime(startTime);
        return this;
    }

    public WorkloadClassifierImpl withEndTime(String endTime) {
        this.innerModel().withEndTime(endTime);
        return this;
    }

    public WorkloadClassifierImpl withImportance(String importance) {
        this.innerModel().withImportance(importance);
        return this;
    }
}
