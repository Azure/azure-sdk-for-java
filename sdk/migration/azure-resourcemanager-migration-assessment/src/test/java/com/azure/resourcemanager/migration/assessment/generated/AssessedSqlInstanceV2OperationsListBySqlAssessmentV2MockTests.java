// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.migration.assessment.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.migration.assessment.MigrationAssessmentManager;
import com.azure.resourcemanager.migration.assessment.models.AssessedSqlInstanceV2;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class AssessedSqlInstanceV2OperationsListBySqlAssessmentV2MockTests {
    @Test
    public void testListBySqlAssessmentV2() throws Exception {
        String responseStr
            = "{\"value\":[{\"properties\":{\"memoryInUseInMB\":33.808918,\"hasScanOccurred\":false,\"recommendedAzureSqlTargetType\":\"AzureVirtualMachine\",\"recommendedSuitability\":\"SuitableForSqlMI\",\"azureSqlMISuitabilityDetails\":{\"azureSqlSku\":{\"azureSqlServiceTier\":\"GeneralPurpose\",\"azureSqlComputeTier\":\"Automatic\",\"azureSqlHardwareGeneration\":\"Fsv2_series\",\"storageMaxSizeInMB\":13.264579,\"predictedDataSizeInMB\":63.21829,\"predictedLogSizeInMB\":6.2892556,\"cores\":997777760,\"azureSqlTargetType\":\"AzureVirtualMachine\"},\"replicaAzureSqlSku\":[{\"azureSqlServiceTier\":\"Unknown\",\"azureSqlComputeTier\":\"Unknown\",\"azureSqlHardwareGeneration\":\"Gen5\",\"storageMaxSizeInMB\":94.98802,\"predictedDataSizeInMB\":7.5854063,\"predictedLogSizeInMB\":31.403267,\"cores\":1914755995,\"azureSqlTargetType\":\"AzureSqlDatabase\"},{\"azureSqlServiceTier\":\"Automatic\",\"azureSqlComputeTier\":\"Unknown\",\"azureSqlHardwareGeneration\":\"Unknown\",\"storageMaxSizeInMB\":74.13537,\"predictedDataSizeInMB\":83.00802,\"predictedLogSizeInMB\":10.367346,\"cores\":281693558,\"azureSqlTargetType\":\"Unknown\"}],\"sharedResources\":{\"sharedDataDisks\":[{}],\"sharedLogDisks\":[{},{},{}],\"sharedTempDbDisks\":[{},{},{},{}],\"numberOfMounts\":631913462,\"quorumWitness\":{\"quorumWitnessType\":\"Cloud\"}},\"monthlyComputeCost\":60.338818,\"monthlyStorageCost\":78.85587,\"costComponents\":[{\"name\":\"Unknown\",\"value\":74.62461,\"description\":\"frjeizikgqaboohx\"},{\"name\":\"Unknown\",\"value\":35.841705,\"description\":\"qsxrmdvewu\"}],\"securitySuitability\":\"ReadinessUnknown\",\"shouldProvisionReplicas\":true,\"skuReplicationMode\":\"FailoverGroupInstance\",\"migrationGuidelines\":[{\"guidelineId\":\"ejkbvhhdaurgho\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{}]},{\"guidelineId\":\"k\",\"migrationGuidelineCategory\":\"General\",\"migrationGuidelineContext\":[{},{},{},{}]},{\"guidelineId\":\"ezlqxrkdknkobek\",\"migrationGuidelineCategory\":\"Unknown\",\"migrationGuidelineContext\":[{}]},{\"guidelineId\":\"m\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{},{},{}]}],\"recommendationReasonings\":[{\"reasoningId\":\"gwcd\",\"reasoningString\":\"sez\",\"reasoningCategory\":\"xke\",\"contextParameters\":[{},{},{},{}]},{\"reasoningId\":\"aabmdlqjb\",\"reasoningString\":\"pfixlhupmo\",\"reasoningCategory\":\"hzbdnpxpkcd\",\"contextParameters\":[{},{}]},{\"reasoningId\":\"xelyicghflr\",\"reasoningString\":\"ssjyghsfx\",\"reasoningCategory\":\"bh\",\"contextParameters\":[{},{}]},{\"reasoningId\":\"mqfmefgvqcpd\",\"reasoningString\":\"gquxweysland\",\"reasoningCategory\":\"cdjhunhg\",\"contextParameters\":[{},{},{}]}],\"migrationTargetPlatform\":\"AzureSqlDatabase\",\"suitability\":\"ConditionallySuitable\",\"migrationIssues\":[{\"issueId\":\"uoxsot\",\"issueCategory\":\"Internal\",\"impactedObjects\":[{},{},{},{}]},{\"issueId\":\"eobfsxstcyilbvzm\",\"issueCategory\":\"Issue\",\"impactedObjects\":[{},{}]},{\"issueId\":\"quzexokjxebjvbz\",\"issueCategory\":\"Internal\",\"impactedObjects\":[{},{},{}]},{\"issueId\":\"mvoglj\",\"issueCategory\":\"Issue\",\"impactedObjects\":[{}]}]},\"azureSqlDBSuitabilityDetails\":{\"azureSqlSku\":{\"azureSqlServiceTier\":\"GeneralPurpose\",\"azureSqlComputeTier\":\"Serverless\",\"azureSqlHardwareGeneration\":\"Fsv2_series\",\"storageMaxSizeInMB\":33.00345,\"predictedDataSizeInMB\":30.276209,\"predictedLogSizeInMB\":21.576887,\"cores\":1389972866,\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"},\"replicaAzureSqlSku\":[{\"azureSqlServiceTier\":\"Unknown\",\"azureSqlComputeTier\":\"Provisioned\",\"azureSqlHardwareGeneration\":\"Unknown\",\"storageMaxSizeInMB\":57.369076,\"predictedDataSizeInMB\":81.87431,\"predictedLogSizeInMB\":83.95499,\"cores\":566172372,\"azureSqlTargetType\":\"Recommended\"},{\"azureSqlServiceTier\":\"BusinessCritical\",\"azureSqlComputeTier\":\"Unknown\",\"azureSqlHardwareGeneration\":\"Gen5\",\"storageMaxSizeInMB\":78.953186,\"predictedDataSizeInMB\":87.84802,\"predictedLogSizeInMB\":19.716978,\"cores\":206631041,\"azureSqlTargetType\":\"Recommended\"},{\"azureSqlServiceTier\":\"Unknown\",\"azureSqlComputeTier\":\"Serverless\",\"azureSqlHardwareGeneration\":\"Gen5\",\"storageMaxSizeInMB\":30.602943,\"predictedDataSizeInMB\":16.692627,\"predictedLogSizeInMB\":39.051582,\"cores\":1674868569,\"azureSqlTargetType\":\"AzureSqlDatabase\"},{\"azureSqlServiceTier\":\"Unknown\",\"azureSqlComputeTier\":\"Automatic\",\"azureSqlHardwareGeneration\":\"Gen5\",\"storageMaxSizeInMB\":27.860897,\"predictedDataSizeInMB\":7.6609254,\"predictedLogSizeInMB\":48.291744,\"cores\":724295825,\"azureSqlTargetType\":\"AzureVirtualMachine\"}],\"sharedResources\":{\"sharedDataDisks\":[{}],\"sharedLogDisks\":[{}],\"sharedTempDbDisks\":[{},{},{},{}],\"numberOfMounts\":1257889233,\"quorumWitness\":{\"quorumWitnessType\":\"Unknown\"}},\"monthlyComputeCost\":55.536007,\"monthlyStorageCost\":55.264236,\"costComponents\":[{\"name\":\"MonthlySecurityCost\",\"value\":22.828722,\"description\":\"pywyjlnld\"},{\"name\":\"MonthlyPremiumV2StorageCost\",\"value\":9.84984,\"description\":\"iiaocqib\"},{\"name\":\"MonthlyAzureHybridCostSavings\",\"value\":62.204887,\"description\":\"ebiphryvcjwqwoq\"},{\"name\":\"MonthlyPremiumV2StorageCost\",\"value\":29.57796,\"description\":\"dhzybsp\"}],\"securitySuitability\":\"Unknown\",\"shouldProvisionReplicas\":true,\"skuReplicationMode\":\"ActiveGeoReplication\",\"migrationGuidelines\":[{\"guidelineId\":\"agvwukhs\",\"migrationGuidelineCategory\":\"Unknown\",\"migrationGuidelineContext\":[{},{},{}]},{\"guidelineId\":\"fmz\",\"migrationGuidelineCategory\":\"Unknown\",\"migrationGuidelineContext\":[{},{},{},{}]},{\"guidelineId\":\"hnijmriprlkdneyt\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{},{},{},{}]},{\"guidelineId\":\"v\",\"migrationGuidelineCategory\":\"General\",\"migrationGuidelineContext\":[{},{},{},{}]}],\"recommendationReasonings\":[{\"reasoningId\":\"ltw\",\"reasoningString\":\"lu\",\"reasoningCategory\":\"nbpvzlq\",\"contextParameters\":[{},{}]},{\"reasoningId\":\"y\",\"reasoningString\":\"jckhmocgj\",\"reasoningCategory\":\"gouarhwvixqq\",\"contextParameters\":[{}]},{\"reasoningId\":\"kybsj\",\"reasoningString\":\"lrvtz\",\"reasoningCategory\":\"rbctbhpjhxpcvrd\",\"contextParameters\":[{},{},{},{}]}],\"migrationTargetPlatform\":\"Unknown\",\"suitability\":\"Suitable\",\"migrationIssues\":[{\"issueId\":\"dynzjahwr\",\"issueCategory\":\"Issue\",\"impactedObjects\":[{},{},{}]}]},\"azureSqlVMSuitabilityDetails\":{\"azureSqlSku\":{\"virtualMachineSize\":{\"azureVmFamily\":\"Fs_series\",\"cores\":1279251745,\"azureSkuName\":\"Standard_E2s_v4\",\"availableCores\":111361676,\"maxNetworkInterfaces\":1303757705},\"dataDiskSizes\":[{},{}],\"logDiskSizes\":[{},{},{},{}],\"azureSqlTargetType\":\"Unknown\"},\"replicaAzureSqlSku\":[{\"virtualMachineSize\":{},\"dataDiskSizes\":[{}],\"logDiskSizes\":[{},{},{},{}],\"azureSqlTargetType\":\"AzureVirtualMachine\"},{\"virtualMachineSize\":{},\"dataDiskSizes\":[{},{},{}],\"logDiskSizes\":[{},{}],\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"},{\"virtualMachineSize\":{},\"dataDiskSizes\":[{}],\"logDiskSizes\":[{},{}],\"azureSqlTargetType\":\"AzureSqlDatabase\"},{\"virtualMachineSize\":{},\"dataDiskSizes\":[{}],\"logDiskSizes\":[{}],\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"}],\"sharedResources\":{\"sharedDataDisks\":[{},{}],\"sharedLogDisks\":[{},{},{}],\"sharedTempDbDisks\":[{},{}],\"numberOfMounts\":251648854,\"quorumWitness\":{\"quorumWitnessType\":\"Cloud\"}},\"monthlyComputeCost\":82.192,\"monthlyStorageCost\":92.815796,\"costComponents\":[{\"name\":\"MonthlySecurityCost\",\"value\":69.84208,\"description\":\"cko\"},{\"name\":\"MonthlyPremiumV2StorageCost\",\"value\":27.702517,\"description\":\"spftesubzpv\"},{\"name\":\"MonthlySecurityCost\",\"value\":16.102236,\"description\":\"tcovqseusrfjb\"}],\"securitySuitability\":\"NotSuitable\",\"shouldProvisionReplicas\":true,\"skuReplicationMode\":\"NotApplicable\",\"migrationGuidelines\":[{\"guidelineId\":\"muoswkjmdih\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{},{},{},{}]},{\"guidelineId\":\"lwhbwzjnu\",\"migrationGuidelineCategory\":\"AvailabilityGroupGuideline\",\"migrationGuidelineContext\":[{}]}],\"recommendationReasonings\":[{\"reasoningId\":\"gnnbzrtf\",\"reasoningString\":\"dzuubjtvgjsxm\",\"reasoningCategory\":\"jjvavdpww\",\"contextParameters\":[{}]}],\"migrationTargetPlatform\":\"AzureVirtualMachine\",\"suitability\":\"ConditionallySuitable\",\"migrationIssues\":[{\"issueId\":\"ffofwan\",\"issueCategory\":\"Issue\",\"impactedObjects\":[{},{},{},{}]},{\"issueId\":\"uwazcgwdfriwg\",\"issueCategory\":\"Internal\",\"impactedObjects\":[{},{},{}]}]},\"storageTypeBasedDetails\":[{\"storageType\":\"scvgl\",\"diskSizeInMB\":4.1600227,\"megabytesPerSecondOfRead\":40.736492,\"megabytesPerSecondOfWrite\":56.071045,\"numberOfReadOperationsPerSecond\":94.1541,\"numberOfWriteOperationsPerSecond\":81.04214}],\"productSupportStatus\":{\"currentVersion\":\"k\",\"servicePackStatus\":\"xprwpxs\",\"esuStatus\":\"hu\",\"supportStatus\":\"lcsklt\",\"eta\":964103530,\"currentEsuYear\":\"ggg\",\"mainstreamEndDate\":\"2021-01-18T11:27:05Z\",\"extendedSupportEndDate\":\"2021-03-14T03:41:27Z\",\"extendedSecurityUpdateYear1EndDate\":\"2021-05-28T15:32:03Z\",\"extendedSecurityUpdateYear2EndDate\":\"2021-03-27T21:52:24Z\",\"extendedSecurityUpdateYear3EndDate\":\"2021-08-12T22:14Z\"},\"fciMetadata\":{\"state\":\"Pending\",\"isMultiSubnet\":true,\"fciSharedDiskCount\":1216756136},\"availabilityReplicaSummary\":{\"numberOfSynchronousReadReplicas\":1106035745,\"numberOfSynchronousNonReadReplicas\":2114805426,\"numberOfAsynchronousReadReplicas\":1200969454,\"numberOfAsynchronousNonReadReplicas\":866635783,\"numberOfPrimaryReplicas\":1139207418},\"isClustered\":false,\"isHighAvailabilityEnabled\":true,\"recommendedTargetReasonings\":[{\"reasoningId\":\"fbodetresrgvts\",\"reasoningString\":\"vftwaiv\",\"reasoningCategory\":\"qkevzgj\",\"contextParameters\":[{}]},{\"reasoningId\":\"hxmpdxxz\",\"reasoningString\":\"wwzjwotnxlkfhglh\",\"reasoningCategory\":\"oxqwecrsnhpcse\",\"contextParameters\":[{},{},{},{}]},{\"reasoningId\":\"vppqi\",\"reasoningString\":\"kklvzrlrmlccmet\",\"reasoningCategory\":\"czivfqbqna\",\"contextParameters\":[{}]}],\"machineArmId\":\"enz\",\"machineName\":\"euscplhyv\",\"instanceName\":\"xlyzkxit\",\"sqlInstanceSdsArmId\":\"hezsvkolrupjovm\",\"sqlEdition\":\"sayebra\",\"sqlVersion\":\"zlpzbtzuyky\",\"numberOfCoresAllocated\":770520105,\"percentageCoresUtilization\":45.060116,\"logicalDisks\":[{\"diskId\":\"pfnocm\",\"diskSizeInMB\":68.22835,\"megabytesPerSecondOfRead\":7.444686,\"megabytesPerSecondOfWrite\":94.60865,\"numberOfReadOperationsPerSecond\":17.045683,\"numberOfWriteOperationsPerSecond\":98.33398},{\"diskId\":\"wyqejgaao\",\"diskSizeInMB\":94.436035,\"megabytesPerSecondOfRead\":71.84324,\"megabytesPerSecondOfWrite\":94.4489,\"numberOfReadOperationsPerSecond\":60.43468,\"numberOfWriteOperationsPerSecond\":92.890724}],\"databaseSummary\":{\"numberOfUserDatabases\":2076485508,\"totalDatabaseSizeInMB\":71.95924,\"largestDatabaseSizeInMB\":57.79177,\"totalDiscoveredUserDatabases\":2115508099},\"confidenceRatingInPercentage\":6.8730474,\"sizingCriterion\":\"AsOnPremises\",\"createdTimestamp\":\"2021-06-13T17:39:06Z\",\"updatedTimestamp\":\"2021-07-12T06:05:15Z\"},\"id\":\"cqvhoejgoiutgwrm\",\"name\":\"a\",\"type\":\"p\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        MigrationAssessmentManager manager = MigrationAssessmentManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        PagedIterable<AssessedSqlInstanceV2> response = manager.assessedSqlInstanceV2Operations()
            .listBySqlAssessmentV2("fgjblcd", "myfc", "mftzgyy", "y", "lugekdfqnhtt", 500622504, "owrczfjjnnuxxr",
                1309033644, com.azure.core.util.Context.NONE);

    }
}
