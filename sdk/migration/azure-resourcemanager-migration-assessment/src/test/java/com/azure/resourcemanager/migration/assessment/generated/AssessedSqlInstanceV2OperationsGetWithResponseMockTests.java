// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.migration.assessment.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.migration.assessment.MigrationAssessmentManager;
import com.azure.resourcemanager.migration.assessment.models.AssessedSqlInstanceV2;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class AssessedSqlInstanceV2OperationsGetWithResponseMockTests {
    @Test
    public void testGetWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"memoryInUseInMB\":19.453466,\"hasScanOccurred\":false,\"recommendedAzureSqlTargetType\":\"AzureSqlVirtualMachine\",\"recommendedSuitability\":\"NotSuitable\",\"azureSqlMISuitabilityDetails\":{\"azureSqlSku\":{\"azureSqlServiceTier\":\"Automatic\",\"azureSqlComputeTier\":\"Automatic\",\"azureSqlHardwareGeneration\":\"Unknown\",\"storageMaxSizeInMB\":45.947193,\"predictedDataSizeInMB\":52.061802,\"predictedLogSizeInMB\":64.5819,\"cores\":1310159626,\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"},\"replicaAzureSqlSku\":[{\"azureSqlServiceTier\":\"BusinessCritical\",\"azureSqlComputeTier\":\"Automatic\",\"azureSqlHardwareGeneration\":\"M_series\",\"storageMaxSizeInMB\":67.216576,\"predictedDataSizeInMB\":4.7587276,\"predictedLogSizeInMB\":65.09306,\"cores\":237480750,\"azureSqlTargetType\":\"Unknown\"},{\"azureSqlServiceTier\":\"GeneralPurpose\",\"azureSqlComputeTier\":\"Provisioned\",\"azureSqlHardwareGeneration\":\"Unknown\",\"storageMaxSizeInMB\":97.77749,\"predictedDataSizeInMB\":2.8196573,\"predictedLogSizeInMB\":65.7672,\"cores\":213893896,\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"},{\"azureSqlServiceTier\":\"BusinessCritical\",\"azureSqlComputeTier\":\"Serverless\",\"azureSqlHardwareGeneration\":\"Gen5\",\"storageMaxSizeInMB\":94.609795,\"predictedDataSizeInMB\":18.32378,\"predictedLogSizeInMB\":17.042362,\"cores\":479855612,\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"},{\"azureSqlServiceTier\":\"Unknown\",\"azureSqlComputeTier\":\"Serverless\",\"azureSqlHardwareGeneration\":\"Unknown\",\"storageMaxSizeInMB\":43.615593,\"predictedDataSizeInMB\":93.414345,\"predictedLogSizeInMB\":74.58498,\"cores\":397490106,\"azureSqlTargetType\":\"AzureVirtualMachine\"}],\"sharedResources\":{\"sharedDataDisks\":[{},{},{}],\"sharedLogDisks\":[{}],\"sharedTempDbDisks\":[{},{},{}],\"numberOfMounts\":1331477699,\"quorumWitness\":{\"quorumWitnessType\":\"Cloud\"}},\"monthlyComputeCost\":6.4360976,\"monthlyStorageCost\":23.65986,\"costComponents\":[{\"name\":\"MonthlyAzureHybridCostSavings\",\"value\":12.912739,\"description\":\"pu\"},{\"name\":\"MonthlyPremiumV2StorageCost\",\"value\":34.745342,\"description\":\"jljmphfkyezol\"}],\"securitySuitability\":\"NotSuitable\",\"shouldProvisionReplicas\":true,\"skuReplicationMode\":\"ActiveGeoReplication\",\"migrationGuidelines\":[{\"guidelineId\":\"ccn\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{},{}]},{\"guidelineId\":\"bui\",\"migrationGuidelineCategory\":\"AvailabilityGroupGuideline\",\"migrationGuidelineContext\":[{},{}]},{\"guidelineId\":\"ecaatsdohzniuc\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{},{},{},{}]}],\"recommendationReasonings\":[{\"reasoningId\":\"injdllwktlepo\",\"reasoningString\":\"vvqxua\",\"reasoningCategory\":\"cqwulynkgfcfd\",\"contextParameters\":[{},{},{},{}]},{\"reasoningId\":\"i\",\"reasoningString\":\"xtclhuulriqbyok\",\"reasoningCategory\":\"gbzsxebrslt\",\"contextParameters\":[{},{},{},{}]},{\"reasoningId\":\"cdjwsu\",\"reasoningString\":\"r\",\"reasoningCategory\":\"agttpufpb\",\"contextParameters\":[{},{},{}]}],\"migrationTargetPlatform\":\"AzureVirtualMachine\",\"suitability\":\"ConditionallySuitable\",\"migrationIssues\":[{\"issueId\":\"bfwxiplkys\",\"issueCategory\":\"Internal\",\"impactedObjects\":[{}]},{\"issueId\":\"rxslwhdmcv\",\"issueCategory\":\"Warning\",\"impactedObjects\":[{},{},{},{}]},{\"issueId\":\"hfvhuwzbxpcqz\",\"issueCategory\":\"Issue\",\"impactedObjects\":[{},{}]}]},\"azureSqlDBSuitabilityDetails\":{\"azureSqlSku\":{\"azureSqlServiceTier\":\"BusinessCritical\",\"azureSqlComputeTier\":\"Unknown\",\"azureSqlHardwareGeneration\":\"DC_series\",\"storageMaxSizeInMB\":42.872566,\"predictedDataSizeInMB\":79.52465,\"predictedLogSizeInMB\":8.235895,\"cores\":1723467853,\"azureSqlTargetType\":\"AzureVirtualMachine\"},\"replicaAzureSqlSku\":[{\"azureSqlServiceTier\":\"BusinessCritical\",\"azureSqlComputeTier\":\"Automatic\",\"azureSqlHardwareGeneration\":\"Gen5\",\"storageMaxSizeInMB\":50.997044,\"predictedDataSizeInMB\":65.91321,\"predictedLogSizeInMB\":34.034336,\"cores\":271586436,\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"}],\"sharedResources\":{\"sharedDataDisks\":[{}],\"sharedLogDisks\":[{}],\"sharedTempDbDisks\":[{},{},{},{}],\"numberOfMounts\":101688613,\"quorumWitness\":{\"quorumWitnessType\":\"Cloud\"}},\"monthlyComputeCost\":39.085915,\"monthlyStorageCost\":56.776505,\"costComponents\":[{\"name\":\"Unknown\",\"value\":61.30045,\"description\":\"ejeg\"},{\"name\":\"MonthlyPremiumV2StorageCost\",\"value\":35.092632,\"description\":\"wrjmwv\"}],\"securitySuitability\":\"Suitable\",\"shouldProvisionReplicas\":true,\"skuReplicationMode\":\"FailoverGroupInstance\",\"migrationGuidelines\":[{\"guidelineId\":\"wgxql\",\"migrationGuidelineCategory\":\"Unknown\",\"migrationGuidelineContext\":[{},{},{}]},{\"guidelineId\":\"gxieqfkyfhi\",\"migrationGuidelineCategory\":\"AvailabilityGroupGuideline\",\"migrationGuidelineContext\":[{}]},{\"guidelineId\":\"pbyynvskpajbm\",\"migrationGuidelineCategory\":\"General\",\"migrationGuidelineContext\":[{}]},{\"guidelineId\":\"mj\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{},{}]}],\"recommendationReasonings\":[{\"reasoningId\":\"qmtxapeqiscrp\",\"reasoningString\":\"gftrqrejdaahuqim\",\"reasoningCategory\":\"ahlfxlmuifmuadj\",\"contextParameters\":[{}]}],\"migrationTargetPlatform\":\"AzureSqlManagedInstance\",\"suitability\":\"ConditionallySuitable\",\"migrationIssues\":[{\"issueId\":\"shjgczetybnxg\",\"issueCategory\":\"Issue\",\"impactedObjects\":[{},{}]},{\"issueId\":\"tjchfjvmy\",\"issueCategory\":\"Warning\",\"impactedObjects\":[{},{},{},{}]},{\"issueId\":\"cu\",\"issueCategory\":\"Issue\",\"impactedObjects\":[{},{}]},{\"issueId\":\"wc\",\"issueCategory\":\"Internal\",\"impactedObjects\":[{},{},{},{}]}]},\"azureSqlVMSuitabilityDetails\":{\"azureSqlSku\":{\"virtualMachineSize\":{\"azureVmFamily\":\"Lsv2_series\",\"cores\":104057558,\"azureSkuName\":\"Standard_M8ms\",\"availableCores\":123145419,\"maxNetworkInterfaces\":711165961},\"dataDiskSizes\":[{},{},{},{}],\"logDiskSizes\":[{},{}],\"azureSqlTargetType\":\"AzureSqlVirtualMachine\"},\"replicaAzureSqlSku\":[{\"virtualMachineSize\":{},\"dataDiskSizes\":[{},{},{},{}],\"logDiskSizes\":[{},{}],\"azureSqlTargetType\":\"Recommended\"},{\"virtualMachineSize\":{},\"dataDiskSizes\":[{}],\"logDiskSizes\":[{},{}],\"azureSqlTargetType\":\"AzureSqlDatabase\"},{\"virtualMachineSize\":{},\"dataDiskSizes\":[{},{}],\"logDiskSizes\":[{},{}],\"azureSqlTargetType\":\"AzureSqlManagedInstance\"},{\"virtualMachineSize\":{},\"dataDiskSizes\":[{},{}],\"logDiskSizes\":[{},{},{}],\"azureSqlTargetType\":\"Unknown\"}],\"sharedResources\":{\"sharedDataDisks\":[{}],\"sharedLogDisks\":[{}],\"sharedTempDbDisks\":[{}],\"numberOfMounts\":214582888,\"quorumWitness\":{\"quorumWitnessType\":\"Cloud\"}},\"monthlyComputeCost\":56.19525,\"monthlyStorageCost\":79.92231,\"costComponents\":[{\"name\":\"MonthlySecurityCost\",\"value\":86.46576,\"description\":\"ntwhymxymulwiv\"},{\"name\":\"Unknown\",\"value\":17.481882,\"description\":\"lsycoyb\"}],\"securitySuitability\":\"Unknown\",\"shouldProvisionReplicas\":true,\"skuReplicationMode\":\"FailoverGroupInstance\",\"migrationGuidelines\":[{\"guidelineId\":\"cywhj\",\"migrationGuidelineCategory\":\"General\",\"migrationGuidelineContext\":[{},{},{}]},{\"guidelineId\":\"oh\",\"migrationGuidelineCategory\":\"General\",\"migrationGuidelineContext\":[{},{},{}]},{\"guidelineId\":\"pukiymjzpwdlvwt\",\"migrationGuidelineCategory\":\"FailoverCluterInstanceGuideLine\",\"migrationGuidelineContext\":[{},{},{},{}]}],\"recommendationReasonings\":[{\"reasoningId\":\"nhqnampp\",\"reasoningString\":\"tassaekewna\",\"reasoningCategory\":\"ajbk\",\"contextParameters\":[{},{},{}]},{\"reasoningId\":\"yizyddcvxodk\",\"reasoningString\":\"fsxxby\",\"reasoningCategory\":\"sqlv\",\"contextParameters\":[{},{},{},{}]},{\"reasoningId\":\"wgoljtzx\",\"reasoningString\":\"xsdobygoogxqapjx\",\"reasoningCategory\":\"zyjfuc\",\"contextParameters\":[{},{}]}],\"migrationTargetPlatform\":\"AzureVirtualMachine\",\"suitability\":\"NotSuitable\",\"migrationIssues\":[{\"issueId\":\"vibfasgmatrnzpd\",\"issueCategory\":\"Internal\",\"impactedObjects\":[{}]}]},\"storageTypeBasedDetails\":[{\"storageType\":\"jktzboimyfpq\",\"diskSizeInMB\":73.76388,\"megabytesPerSecondOfRead\":88.76066,\"megabytesPerSecondOfWrite\":40.329243,\"numberOfReadOperationsPerSecond\":46.28459,\"numberOfWriteOperationsPerSecond\":71.138016}],\"productSupportStatus\":{\"currentVersion\":\"pctf\",\"servicePackStatus\":\"kffffgkuh\",\"esuStatus\":\"whvuldbkk\",\"supportStatus\":\"jkjigawgaz\",\"eta\":1272427334,\"currentEsuYear\":\"ifhujjsbcm\",\"mainstreamEndDate\":\"2021-08-31T07:34:01Z\",\"extendedSupportEndDate\":\"2021-11-05T17:50:30Z\",\"extendedSecurityUpdateYear1EndDate\":\"2021-01-17T05:07:29Z\",\"extendedSecurityUpdateYear2EndDate\":\"2021-04-15T18:23:21Z\",\"extendedSecurityUpdateYear3EndDate\":\"2021-05-31T02:30:19Z\"},\"fciMetadata\":{\"state\":\"Unknown\",\"isMultiSubnet\":false,\"fciSharedDiskCount\":22789876},\"availabilityReplicaSummary\":{\"numberOfSynchronousReadReplicas\":1841605546,\"numberOfSynchronousNonReadReplicas\":521127313,\"numberOfAsynchronousReadReplicas\":356055012,\"numberOfAsynchronousNonReadReplicas\":1899652732,\"numberOfPrimaryReplicas\":825740305},\"isClustered\":true,\"isHighAvailabilityEnabled\":true,\"recommendedTargetReasonings\":[{\"reasoningId\":\"oialahfxwccokdx\",\"reasoningString\":\"kmkcz\",\"reasoningCategory\":\"uhhoqeqshavlj\",\"contextParameters\":[{},{}]},{\"reasoningId\":\"rqolnthbb\",\"reasoningString\":\"gzukw\",\"reasoningCategory\":\"nzkjthfceyjn\",\"contextParameters\":[{},{},{}]},{\"reasoningId\":\"fuyf\",\"reasoningString\":\"pfiddhl\",\"reasoningCategory\":\"fz\",\"contextParameters\":[{},{}]},{\"reasoningId\":\"mq\",\"reasoningString\":\"uiocuselqkrsazr\",\"reasoningCategory\":\"uddq\",\"contextParameters\":[{},{}]}],\"machineArmId\":\"fisjmrkk\",\"machineName\":\"wdmdlgyqixokwt\",\"instanceName\":\"whvagnqfq\",\"sqlInstanceSdsArmId\":\"lcvmyolcaymjch\",\"sqlEdition\":\"snvlaqd\",\"sqlVersion\":\"yzawatu\",\"numberOfCoresAllocated\":805735300,\"percentageCoresUtilization\":56.507713,\"logicalDisks\":[{\"diskId\":\"othymgobl\",\"diskSizeInMB\":51.443768,\"megabytesPerSecondOfRead\":35.20525,\"megabytesPerSecondOfWrite\":78.35538,\"numberOfReadOperationsPerSecond\":32.124214,\"numberOfWriteOperationsPerSecond\":10.101181},{\"diskId\":\"eakhtmhobcya\",\"diskSizeInMB\":65.80291,\"megabytesPerSecondOfRead\":27.580101,\"megabytesPerSecondOfWrite\":29.441761,\"numberOfReadOperationsPerSecond\":99.774185,\"numberOfWriteOperationsPerSecond\":50.755436},{\"diskId\":\"ogxkfnaoa\",\"diskSizeInMB\":64.4314,\"megabytesPerSecondOfRead\":95.15503,\"megabytesPerSecondOfWrite\":52.549206,\"numberOfReadOperationsPerSecond\":52.02517,\"numberOfWriteOperationsPerSecond\":2.8191447}],\"databaseSummary\":{\"numberOfUserDatabases\":1466940432,\"totalDatabaseSizeInMB\":79.28132,\"largestDatabaseSizeInMB\":82.22219,\"totalDiscoveredUserDatabases\":1456079584},\"confidenceRatingInPercentage\":25.972563,\"sizingCriterion\":\"PerformanceBased\",\"createdTimestamp\":\"2021-06-09T18:25:31Z\",\"updatedTimestamp\":\"2021-02-17T03:07:14Z\"},\"id\":\"hajpxecxqnwhsc\",\"name\":\"zawmvgxsmp\",\"type\":\"npwirfljf\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        MigrationAssessmentManager manager = MigrationAssessmentManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        AssessedSqlInstanceV2 response = manager.assessedSqlInstanceV2Operations()
            .getWithResponse("hazyntacihnco", "mip", "mliqmvlb", "i", "eaqgrvgpomxpupd",
                com.azure.core.util.Context.NONE)
            .getValue();

    }
}
