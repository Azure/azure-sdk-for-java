// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.migration.assessment.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.migration.assessment.fluent.models.GroupInner;
import com.azure.resourcemanager.migration.assessment.models.AssessmentType;
import com.azure.resourcemanager.migration.assessment.models.GroupListResult;
import com.azure.resourcemanager.migration.assessment.models.GroupProperties;
import com.azure.resourcemanager.migration.assessment.models.GroupType;
import com.azure.resourcemanager.migration.assessment.models.ProvisioningState;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class GroupListResultTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        GroupListResult model = BinaryData.fromString(
            "{\"value\":[{\"properties\":{\"groupStatus\":\"Invalid\",\"machineCount\":1172989545,\"assessments\":[\"moizpos\",\"mgrcfbu\",\"rmfqjhhkxbpvj\"],\"supportedAssessmentTypes\":[\"MachineAssessment\",\"AvsAssessment\"],\"areAssessmentsRunning\":false,\"createdTimestamp\":\"2021-02-21T04:56:22Z\",\"updatedTimestamp\":\"2021-02-07T09:11:24Z\",\"groupType\":\"Default\",\"provisioningState\":\"Succeeded\"},\"id\":\"tswb\",\"name\":\"qzvszjf\",\"type\":\"uvjfdxxive\"},{\"properties\":{\"groupStatus\":\"Running\",\"machineCount\":393815457,\"assessments\":[\"doqmcbxvwvxys\"],\"supportedAssessmentTypes\":[\"SqlAssessment\",\"MachineAssessment\"],\"areAssessmentsRunning\":true,\"createdTimestamp\":\"2021-01-17T13:22:14Z\",\"updatedTimestamp\":\"2021-08-05T08:56:45Z\",\"groupType\":\"Default\",\"provisioningState\":\"Canceled\"},\"id\":\"pe\",\"name\":\"wwfbkrvrnsvshq\",\"type\":\"ohxcrsbfova\"}],\"nextLink\":\"ruvw\"}")
            .toObject(GroupListResult.class);
        Assertions.assertEquals(ProvisioningState.SUCCEEDED, model.value().get(0).properties().provisioningState());
        Assertions.assertEquals(AssessmentType.MACHINE_ASSESSMENT,
            model.value().get(0).properties().supportedAssessmentTypes().get(0));
        Assertions.assertEquals(GroupType.DEFAULT, model.value().get(0).properties().groupType());
        Assertions.assertEquals("ruvw", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        GroupListResult model = new GroupListResult().withValue(Arrays.asList(
            new GroupInner().withProperties(new GroupProperties().withProvisioningState(ProvisioningState.SUCCEEDED)
                .withSupportedAssessmentTypes(
                    Arrays.asList(AssessmentType.MACHINE_ASSESSMENT, AssessmentType.AVS_ASSESSMENT))
                .withGroupType(GroupType.DEFAULT)),
            new GroupInner().withProperties(new GroupProperties().withProvisioningState(ProvisioningState.CANCELED)
                .withSupportedAssessmentTypes(
                    Arrays.asList(AssessmentType.SQL_ASSESSMENT, AssessmentType.MACHINE_ASSESSMENT))
                .withGroupType(GroupType.DEFAULT))))
            .withNextLink("ruvw");
        model = BinaryData.fromObject(model).toObject(GroupListResult.class);
        Assertions.assertEquals(ProvisioningState.SUCCEEDED, model.value().get(0).properties().provisioningState());
        Assertions.assertEquals(AssessmentType.MACHINE_ASSESSMENT,
            model.value().get(0).properties().supportedAssessmentTypes().get(0));
        Assertions.assertEquals(GroupType.DEFAULT, model.value().get(0).properties().groupType());
        Assertions.assertEquals("ruvw", model.nextLink());
    }
}
