// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.migration.assessment.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.migration.assessment.MigrationAssessmentManager;
import com.azure.resourcemanager.migration.assessment.models.SqlAssessmentV2Summary;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class SqlAssessmentV2SummaryOperationsGetWithResponseMockTests {
    @Test
    public void testGetWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"assessmentSummary\":{\"uoorssatfybipufd\":{\"suitabilitySummary\":{\"jobzrfp\":1468320932,\"zdcqhyftcvb\":478729922},\"monthlyComputeCost\":56.466736,\"monthlyStorageCost\":1.3600409,\"monthlyLicenseCost\":11.365062,\"confidenceScore\":87.35244,\"monthlySecurityCost\":36.231476},\"pbtsixhgvbhxmnd\":{\"suitabilitySummary\":{\"bd\":1239120549,\"as\":1806172168},\"monthlyComputeCost\":81.84618,\"monthlyStorageCost\":4.6119747,\"monthlyLicenseCost\":68.0381,\"confidenceScore\":87.68802,\"monthlySecurityCost\":58.643806},\"ynosugkfhaxt\":{\"suitabilitySummary\":{\"q\":1653739504,\"yqmarxneib\":2044971910,\"brhbjdqknhqn\":1864849199,\"tpuwnnohmmzngocf\":1072575893},\"monthlyComputeCost\":79.477905,\"monthlyStorageCost\":60.40357,\"monthlyLicenseCost\":48.387802,\"confidenceScore\":97.191414,\"monthlySecurityCost\":22.06496}},\"distributionBySupportStatus\":{\"mwgsghq\":1634063639},\"distributionByServicePackInsight\":{\"lddauqmllfe\":982301337,\"hxuarig\":1031526761,\"dlj\":973089478,\"q\":2017658706},\"distributionBySqlVersion\":{\"bzkuastaxklpr\":618485084,\"l\":73703412},\"distributionBySqlEdition\":{\"oizwxvs\":208213223},\"instanceDistributionBySizingCriterion\":{\"fyy\":1134538169},\"databaseDistributionBySizingCriterion\":{\"kgaf\":1229970273,\"z\":1442778266},\"numberOfMachines\":241765250,\"numberOfSqlInstances\":1019734668,\"numberOfSuccessfullyDiscoveredSqlInstances\":327817901,\"numberOfSqlDatabases\":1900107834,\"numberOfFciInstances\":699440843,\"numberOfSqlAvailabilityGroups\":1580992750},\"id\":\"eszr\",\"name\":\"lhpdhwynctaczcnj\",\"type\":\"mbbfnv\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        MigrationAssessmentManager manager = MigrationAssessmentManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        SqlAssessmentV2Summary response = manager.sqlAssessmentV2SummaryOperations()
            .getWithResponse("abdxfkuzb", "jecooyvhtu", "bpelniibncgagd", "cdqhftz", "pyfaofdfp",
                com.azure.core.util.Context.NONE)
            .getValue();

    }
}
