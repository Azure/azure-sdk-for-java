// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.batch.generated;

import com.azure.core.management.serializer.SerializerFactory;
import com.azure.core.util.serializer.SerializerEncoding;
import com.azure.resourcemanager.batch.models.AutoScaleSettings;
import com.azure.resourcemanager.batch.models.AutomaticOSUpgradePolicy;
import com.azure.resourcemanager.batch.models.BatchPoolIdentity;
import com.azure.resourcemanager.batch.models.CachingType;
import com.azure.resourcemanager.batch.models.ComputeNodeFillType;
import com.azure.resourcemanager.batch.models.ComputeNodeIdentityReference;
import com.azure.resourcemanager.batch.models.DataDisk;
import com.azure.resourcemanager.batch.models.DeploymentConfiguration;
import com.azure.resourcemanager.batch.models.DiffDiskPlacement;
import com.azure.resourcemanager.batch.models.DiffDiskSettings;
import com.azure.resourcemanager.batch.models.DiskCustomerManagedKey;
import com.azure.resourcemanager.batch.models.DiskEncryptionConfiguration;
import com.azure.resourcemanager.batch.models.DiskEncryptionSetParameters;
import com.azure.resourcemanager.batch.models.DiskEncryptionTarget;
import com.azure.resourcemanager.batch.models.FixedScaleSettings;
import com.azure.resourcemanager.batch.models.IPFamily;
import com.azure.resourcemanager.batch.models.ImageReference;
import com.azure.resourcemanager.batch.models.InboundEndpointProtocol;
import com.azure.resourcemanager.batch.models.InboundNatPool;
import com.azure.resourcemanager.batch.models.IpAddressProvisioningType;
import com.azure.resourcemanager.batch.models.ManagedDisk;
import com.azure.resourcemanager.batch.models.NetworkConfiguration;
import com.azure.resourcemanager.batch.models.NetworkSecurityGroupRule;
import com.azure.resourcemanager.batch.models.NetworkSecurityGroupRuleAccess;
import com.azure.resourcemanager.batch.models.NodePlacementConfiguration;
import com.azure.resourcemanager.batch.models.NodePlacementPolicyType;
import com.azure.resourcemanager.batch.models.OSDisk;
import com.azure.resourcemanager.batch.models.PoolEndpointConfiguration;
import com.azure.resourcemanager.batch.models.PoolIdentityType;
import com.azure.resourcemanager.batch.models.PublicIpAddressConfiguration;
import com.azure.resourcemanager.batch.models.RollingUpgradePolicy;
import com.azure.resourcemanager.batch.models.ScaleSettings;
import com.azure.resourcemanager.batch.models.SecurityEncryptionTypes;
import com.azure.resourcemanager.batch.models.SecurityProfile;
import com.azure.resourcemanager.batch.models.SecurityTypes;
import com.azure.resourcemanager.batch.models.ServiceArtifactReference;
import com.azure.resourcemanager.batch.models.StorageAccountType;
import com.azure.resourcemanager.batch.models.TaskSchedulingPolicy;
import com.azure.resourcemanager.batch.models.UefiSettings;
import com.azure.resourcemanager.batch.models.UpgradeMode;
import com.azure.resourcemanager.batch.models.UpgradePolicy;
import com.azure.resourcemanager.batch.models.UserAssignedIdentities;
import com.azure.resourcemanager.batch.models.VMDiskSecurityProfile;
import com.azure.resourcemanager.batch.models.VMExtension;
import com.azure.resourcemanager.batch.models.VirtualMachineConfiguration;
import com.azure.resourcemanager.batch.models.WindowsConfiguration;
import java.io.IOException;
import java.time.Duration;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;

/**
 * Samples for Pool Create.
 */
public final class PoolCreateSamples {
    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_VirtualMachineConfiguration_ServiceArtifactReference.json
     */
    /**
     * Sample code: CreatePool - VirtualMachineConfiguration ServiceArtifactReference.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolVirtualMachineConfigurationServiceArtifactReference(
        com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("Standard_d4s_v3")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("MicrosoftWindowsServer")
                        .withOffer("WindowsServer")
                        .withSku("2019-datacenter-smalldisk")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.windows amd64")
                    .withWindowsConfiguration(new WindowsConfiguration().withEnableAutomaticUpdates(false))
                    .withServiceArtifactReference(new ServiceArtifactReference().withId(
                        "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Compute/galleries/myGallery/serviceArtifacts/myServiceArtifact/vmArtifactsProfiles/vmArtifactsProfile"))))
            .withScaleSettings(new ScaleSettings()
                .withFixedScale(new FixedScaleSettings().withTargetDedicatedNodes(2).withTargetLowPriorityNodes(0)))
            .withUpgradePolicy(new UpgradePolicy().withMode(UpgradeMode.AUTOMATIC)
                .withAutomaticOSUpgradePolicy(new AutomaticOSUpgradePolicy().withEnableAutomaticOSUpgrade(true)))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_SecurityProfile.json
     */
    /**
     * Sample code: CreatePool - SecurityProfile.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolSecurityProfile(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("Standard_d4s_v3")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("Canonical")
                        .withOffer("UbuntuServer")
                        .withSku("18_04-lts-gen2")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.ubuntu 18.04")
                    .withSecurityProfile(new SecurityProfile().withSecurityType(SecurityTypes.TRUSTED_LAUNCH)
                        .withEncryptionAtHost(true)
                        .withUefiSettings(new UefiSettings().withVTpmEnabled(false)))))
            .withScaleSettings(new ScaleSettings()
                .withFixedScale(new FixedScaleSettings().withTargetDedicatedNodes(1).withTargetLowPriorityNodes(0)))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_Tags.json
     */
    /**
     * Sample code: CreatePool - Tags.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolTags(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("Standard_d4s_v3")
            .withDeploymentConfiguration(new DeploymentConfiguration().withVirtualMachineConfiguration(
                new VirtualMachineConfiguration().withImageReference(new ImageReference().withPublisher("Canonical")
                    .withOffer("0001-com-ubuntu-server-jammy")
                    .withSku("22_04-lts")
                    .withVersion("latest")).withNodeAgentSkuId("batch.node.ubuntu 22.04")))
            .withScaleSettings(new ScaleSettings()
                .withFixedScale(new FixedScaleSettings().withTargetDedicatedNodes(1).withTargetLowPriorityNodes(0)))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_VirtualMachineConfiguration_ManagedOSDisk.json
     */
    /**
     * Sample code: CreatePool - VirtualMachineConfiguration OSDisk.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void
        createPoolVirtualMachineConfigurationOSDisk(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("Standard_d2s_v3")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("microsoftwindowsserver")
                        .withOffer("windowsserver")
                        .withSku("2022-datacenter-smalldisk"))
                    .withNodeAgentSkuId("batch.node.windows amd64")
                    .withOsDisk(new OSDisk().withCaching(CachingType.READ_WRITE)
                        .withManagedDisk(new ManagedDisk().withStorageAccountType(StorageAccountType.STANDARD_SSD_LRS))
                        .withDiskSizeGB(100)
                        .withWriteAcceleratorEnabled(false))))
            .withScaleSettings(new ScaleSettings()
                .withFixedScale(new FixedScaleSettings().withTargetDedicatedNodes(1).withTargetLowPriorityNodes(0)))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_DiskEncryptionSet_ForUserSubscriptionAccounts.json
     */
    /**
     * Sample code: CreatePool - disk encryption set for user subscription accounts.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void
        createPoolDiskEncryptionSetForUserSubscriptionAccounts(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("Standard_D4ds_v5")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("MicrosoftWindowsServer")
                        .withOffer("WindowsServer")
                        .withSku("2022-Datacenter")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.windows amd64")
                    .withOsDisk(new OSDisk().withManagedDisk(new ManagedDisk()
                        .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                        .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId(
                            "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Compute/diskEncryptionSets/DiskEncryptionSetId"))))
                    .withSecurityProfile(new SecurityProfile().withEncryptionAtHost(false))))
            .withScaleSettings(new ScaleSettings().withFixedScale(
                new FixedScaleSettings().withResizeTimeout(Duration.parse("PT15M")).withTargetDedicatedNodes(1)))
            .withTaskSchedulingPolicy(new TaskSchedulingPolicy().withNodeFillType(ComputeNodeFillType.PACK))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_MinimalVirtualMachineConfiguration.json
     */
    /**
     * Sample code: CreatePool - Minimal VirtualMachineConfiguration.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void
        createPoolMinimalVirtualMachineConfiguration(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("STANDARD_D4")
            .withDeploymentConfiguration(new DeploymentConfiguration().withVirtualMachineConfiguration(
                new VirtualMachineConfiguration().withImageReference(new ImageReference().withPublisher("Canonical")
                    .withOffer("UbuntuServer")
                    .withSku("18.04-LTS")
                    .withVersion("latest")).withNodeAgentSkuId("batch.node.ubuntu 18.04")))
            .withScaleSettings(
                new ScaleSettings().withAutoScale(new AutoScaleSettings().withFormula("$TargetDedicatedNodes=1")
                    .withEvaluationInterval(Duration.parse("PT5M"))))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_VirtualMachineConfiguration_Extensions.json
     */
    /**
     * Sample code: CreatePool - VirtualMachineConfiguration Extensions.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolVirtualMachineConfigurationExtensions(
        com.azure.resourcemanager.batch.BatchManager manager) throws IOException {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("STANDARD_D4")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("Canonical")
                        .withOffer("0001-com-ubuntu-server-focal")
                        .withSku("20_04-lts"))
                    .withNodeAgentSkuId("batch.node.ubuntu 20.04")
                    .withExtensions(Arrays.asList(new VMExtension().withName("batchextension1")
                        .withPublisher("Microsoft.Azure.KeyVault")
                        .withType("KeyVaultForLinux")
                        .withTypeHandlerVersion("2.0")
                        .withAutoUpgradeMinorVersion(true)
                        .withEnableAutomaticUpgrade(true)
                        .withSettings(SerializerFactory.createDefaultManagementSerializerAdapter()
                            .deserialize(
                                "{\"authenticationSettingsKey\":\"authenticationSettingsValue\",\"secretsManagementSettingsKey\":\"secretsManagementSettingsValue\"}",
                                Object.class, SerializerEncoding.JSON))))))
            .withScaleSettings(
                new ScaleSettings().withAutoScale(new AutoScaleSettings().withFormula("$TargetDedicatedNodes=1")
                    .withEvaluationInterval(Duration.parse("PT5M"))))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_CustomerManagedKey_ForBatchManagedAccounts.json
     */
    /**
     * Sample code: CreatePool - customer managed key for Batch managed accounts.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void
        createPoolCustomerManagedKeyForBatchManagedAccounts(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withIdentity(new BatchPoolIdentity().withType(PoolIdentityType.USER_ASSIGNED)
                .withUserAssignedIdentities(mapOf(
                    "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1",
                    new UserAssignedIdentities())))
            .withVmSize("Standard_D4ds_v5")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("MicrosoftWindowsServer")
                        .withOffer("WindowsServer")
                        .withSku("2022-Datacenter")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.windows amd64")
                    .withDiskEncryptionConfiguration(new DiskEncryptionConfiguration()
                        .withTargets(Arrays.asList(DiskEncryptionTarget.OS_DISK))
                        .withCustomerManagedKey(new DiskCustomerManagedKey().withKeyUrl("fakeTokenPlaceholder")
                            .withIdentityReference(new ComputeNodeIdentityReference().withResourceId(
                                "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1"))))))
            .withScaleSettings(new ScaleSettings().withFixedScale(
                new FixedScaleSettings().withResizeTimeout(Duration.parse("PT15M")).withTargetDedicatedNodes(1)))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_UserAssignedIdentities.json
     */
    /**
     * Sample code: CreatePool - UserAssignedIdentities.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolUserAssignedIdentities(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withIdentity(new BatchPoolIdentity().withType(PoolIdentityType.USER_ASSIGNED)
                .withUserAssignedIdentities(mapOf(
                    "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1",
                    new UserAssignedIdentities(),
                    "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2",
                    new UserAssignedIdentities())))
            .withVmSize("STANDARD_D4")
            .withDeploymentConfiguration(new DeploymentConfiguration().withVirtualMachineConfiguration(
                new VirtualMachineConfiguration().withImageReference(new ImageReference().withPublisher("Canonical")
                    .withOffer("UbuntuServer")
                    .withSku("18.04-LTS")
                    .withVersion("latest")).withNodeAgentSkuId("batch.node.ubuntu 18.04")))
            .withScaleSettings(
                new ScaleSettings().withAutoScale(new AutoScaleSettings().withFormula("$TargetDedicatedNodes=1")
                    .withEvaluationInterval(Duration.parse("PT5M"))))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_AcceleratedNetworking.json
     */
    /**
     * Sample code: CreatePool - accelerated networking.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolAcceleratedNetworking(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("STANDARD_D1_V2")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("MicrosoftWindowsServer")
                        .withOffer("WindowsServer")
                        .withSku("2016-datacenter-smalldisk")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.windows amd64")))
            .withScaleSettings(new ScaleSettings()
                .withFixedScale(new FixedScaleSettings().withTargetDedicatedNodes(1).withTargetLowPriorityNodes(0)))
            .withNetworkConfiguration(new NetworkConfiguration().withSubnetId(
                "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/rg1234/providers/Microsoft.Network/virtualNetworks/network1234/subnets/subnet123")
                .withEnableAcceleratedNetworking(true))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_UpgradePolicy.json
     */
    /**
     * Sample code: CreatePool - UpgradePolicy.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolUpgradePolicy(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("Standard_d4s_v3")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("MicrosoftWindowsServer")
                        .withOffer("WindowsServer")
                        .withSku("2019-datacenter-smalldisk")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.windows amd64")
                    .withWindowsConfiguration(new WindowsConfiguration().withEnableAutomaticUpdates(false))
                    .withNodePlacementConfiguration(
                        new NodePlacementConfiguration().withPolicy(NodePlacementPolicyType.ZONAL))))
            .withScaleSettings(new ScaleSettings()
                .withFixedScale(new FixedScaleSettings().withTargetDedicatedNodes(2).withTargetLowPriorityNodes(0)))
            .withUpgradePolicy(new UpgradePolicy().withMode(UpgradeMode.AUTOMATIC)
                .withAutomaticOSUpgradePolicy(new AutomaticOSUpgradePolicy().withDisableAutomaticRollback(true)
                    .withEnableAutomaticOSUpgrade(true)
                    .withUseRollingUpgradePolicy(true)
                    .withOsRollingUpgradeDeferral(true))
                .withRollingUpgradePolicy(new RollingUpgradePolicy().withEnableCrossZoneUpgrade(true)
                    .withMaxBatchInstancePercent(20)
                    .withMaxUnhealthyInstancePercent(20)
                    .withMaxUnhealthyUpgradedInstancePercent(20)
                    .withPauseTimeBetweenBatches("PT0S")
                    .withPrioritizeUnhealthyInstances(false)
                    .withRollbackFailedInstancesOnPolicyBreach(false)))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_VirtualMachineConfiguration.json
     */
    /**
     * Sample code: CreatePool - Full VirtualMachineConfiguration.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolFullVirtualMachineConfiguration(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("STANDARD_D4")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("MicrosoftWindowsServer")
                        .withOffer("WindowsServer")
                        .withSku("2016-Datacenter-SmallDisk")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.windows amd64")
                    .withWindowsConfiguration(new WindowsConfiguration().withEnableAutomaticUpdates(false))
                    .withDataDisks(Arrays.asList(new DataDisk().withLun(0)
                        .withCaching(CachingType.READ_WRITE)
                        .withDiskSizeGB(30)
                        .withManagedDisk(new ManagedDisk().withStorageAccountType(StorageAccountType.STANDARD_SSD_LRS)),
                        new DataDisk().withLun(1)
                            .withCaching(CachingType.NONE)
                            .withDiskSizeGB(200)
                            .withManagedDisk(new ManagedDisk().withStorageAccountType(StorageAccountType.PREMIUM_LRS))))
                    .withLicenseType("Windows_Server")
                    .withDiskEncryptionConfiguration(new DiskEncryptionConfiguration()
                        .withTargets(Arrays.asList(DiskEncryptionTarget.OS_DISK, DiskEncryptionTarget.TEMPORARY_DISK)))
                    .withNodePlacementConfiguration(
                        new NodePlacementConfiguration().withPolicy(NodePlacementPolicyType.ZONAL))
                    .withOsDisk(new OSDisk().withEphemeralOSDiskSettings(
                        new DiffDiskSettings().withPlacement(DiffDiskPlacement.CACHE_DISK)))))
            .withScaleSettings(
                new ScaleSettings().withAutoScale(new AutoScaleSettings().withFormula("$TargetDedicatedNodes=1")
                    .withEvaluationInterval(Duration.parse("PT5M"))))
            .withNetworkConfiguration(
                new NetworkConfiguration().withEndpointConfiguration(new PoolEndpointConfiguration()
                    .withInboundNatPools(Arrays.asList(new InboundNatPool().withName("testnat")
                        .withProtocol(InboundEndpointProtocol.TCP)
                        .withBackendPort(12001)
                        .withFrontendPortRangeStart(15000)
                        .withFrontendPortRangeEnd(15100)
                        .withNetworkSecurityGroupRules(Arrays.asList(
                            new NetworkSecurityGroupRule().withPriority(150)
                                .withAccess(NetworkSecurityGroupRuleAccess.ALLOW)
                                .withSourceAddressPrefix("192.100.12.45")
                                .withSourcePortRanges(Arrays.asList("1", "2")),
                            new NetworkSecurityGroupRule().withPriority(3500)
                                .withAccess(NetworkSecurityGroupRuleAccess.DENY)
                                .withSourceAddressPrefix("*")
                                .withSourcePortRanges(Arrays.asList("*"))))))))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_ConfidentialDiskEncryptionSet_ForUserSubscriptionAccounts.json
     */
    /**
     * Sample code: CreatePool - confidential disk encryption set for user subscription accounts.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolConfidentialDiskEncryptionSetForUserSubscriptionAccounts(
        com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("Standard_DC2as_v5")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(new ImageReference().withPublisher("MicrosoftWindowsServer")
                        .withOffer("WindowsServer")
                        .withSku("2019-datacenter-core-g2")
                        .withVersion("latest"))
                    .withNodeAgentSkuId("batch.node.windows amd64")
                    .withDataDisks(Arrays.asList(new DataDisk().withLun(0)
                        .withDiskSizeGB(1024)
                        .withManagedDisk(new ManagedDisk().withStorageAccountType(StorageAccountType.STANDARD_LRS)
                            .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId(
                                "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Compute/diskEncryptionSets/DiskEncryptionSetId")))))
                    .withOsDisk(new OSDisk().withManagedDisk(new ManagedDisk()
                        .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                        .withSecurityProfile(new VMDiskSecurityProfile()
                            .withSecurityEncryptionType(SecurityEncryptionTypes.DISK_WITH_VMGUEST_STATE)
                            .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId(
                                "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Compute/diskEncryptionSets/ConfidentialDiskEncryptionSetId")))
                        .withDiskEncryptionSet(new DiskEncryptionSetParameters().withId(
                            "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Compute/diskEncryptionSets/DiskEncryptionSetId"))))
                    .withSecurityProfile(new SecurityProfile().withSecurityType(SecurityTypes.CONFIDENTIAL_VM)
                        .withEncryptionAtHost(false)
                        .withUefiSettings(new UefiSettings().withSecureBootEnabled(true).withVTpmEnabled(true)))))
            .withScaleSettings(new ScaleSettings().withFixedScale(
                new FixedScaleSettings().withResizeTimeout(Duration.parse("PT15M")).withTargetDedicatedNodes(1)))
            .withTaskSchedulingPolicy(new TaskSchedulingPolicy().withNodeFillType(ComputeNodeFillType.PACK))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_SharedImageGallery.json
     */
    /**
     * Sample code: CreatePool - Custom Image.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolCustomImage(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("STANDARD_D4")
            .withDeploymentConfiguration(new DeploymentConfiguration().withVirtualMachineConfiguration(
                new VirtualMachineConfiguration().withImageReference(new ImageReference().withId(
                    "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/networking-group/providers/Microsoft.Compute/galleries/testgallery/images/testimagedef/versions/0.0.1"))
                    .withNodeAgentSkuId("batch.node.ubuntu 18.04")))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_DualStackNetworking.json
     */
    /**
     * Sample code: CreatePool - dual stack networking.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolDualStackNetworking(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("dualstackpool")
            .withExistingBatchAccount("default-azurebatch", "exampleacc")
            .withVmSize("Standard_D4ds_v5")
            .withDeploymentConfiguration(
                new DeploymentConfiguration().withVirtualMachineConfiguration(new VirtualMachineConfiguration()
                    .withImageReference(
                        new ImageReference().withPublisher("Canonical").withOffer("ubuntu-24_04-lts").withSku("server"))
                    .withNodeAgentSkuId("batch.node.ubuntu 24.04")))
            .withScaleSettings(new ScaleSettings()
                .withFixedScale(new FixedScaleSettings().withTargetDedicatedNodes(1).withTargetLowPriorityNodes(0)))
            .withNetworkConfiguration(new NetworkConfiguration()
                .withEndpointConfiguration(new PoolEndpointConfiguration()
                    .withInboundNatPools(Arrays.asList(new InboundNatPool().withName("sshpool")
                        .withProtocol(InboundEndpointProtocol.TCP)
                        .withBackendPort(22)
                        .withFrontendPortRangeStart(40000)
                        .withFrontendPortRangeEnd(40500)
                        .withNetworkSecurityGroupRules(Arrays.asList(new NetworkSecurityGroupRule().withPriority(1000)
                            .withAccess(NetworkSecurityGroupRuleAccess.ALLOW)
                            .withSourceAddressPrefix("*")
                            .withSourcePortRanges(Arrays.asList("*")))))))
                .withPublicIpAddressConfiguration(
                    new PublicIpAddressConfiguration().withIpFamilies(Arrays.asList(IPFamily.IPV4, IPFamily.IPV6))))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_NoPublicIPAddresses.json
     */
    /**
     * Sample code: CreatePool - No public IP.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolNoPublicIP(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("STANDARD_D4")
            .withDeploymentConfiguration(new DeploymentConfiguration().withVirtualMachineConfiguration(
                new VirtualMachineConfiguration().withImageReference(new ImageReference().withId(
                    "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/networking-group/providers/Microsoft.Compute/galleries/testgallery/images/testimagedef/versions/0.0.1"))
                    .withNodeAgentSkuId("batch.node.ubuntu 18.04")))
            .withNetworkConfiguration(new NetworkConfiguration().withSubnetId(
                "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/rg1234/providers/Microsoft.Network/virtualNetworks/network1234/subnets/subnet123")
                .withPublicIpAddressConfiguration(
                    new PublicIpAddressConfiguration().withProvision(IpAddressProvisioningType.NO_PUBLIC_IPADDRESSES)))
            .create();
    }

    /*
     * x-ms-original-file: 2025-06-01/PoolCreate_PublicIPs.json
     */
    /**
     * Sample code: CreatePool - Public IPs.
     * 
     * @param manager Entry point to BatchManager.
     */
    public static void createPoolPublicIPs(com.azure.resourcemanager.batch.BatchManager manager) {
        manager.pools()
            .define("testpool")
            .withExistingBatchAccount("default-azurebatch-japaneast", "sampleacct")
            .withVmSize("STANDARD_D4")
            .withDeploymentConfiguration(new DeploymentConfiguration().withVirtualMachineConfiguration(
                new VirtualMachineConfiguration().withImageReference(new ImageReference().withId(
                    "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/networking-group/providers/Microsoft.Compute/galleries/testgallery/images/testimagedef/versions/0.0.1"))
                    .withNodeAgentSkuId("batch.node.ubuntu 18.04")))
            .withNetworkConfiguration(new NetworkConfiguration().withSubnetId(
                "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/rg1234/providers/Microsoft.Network/virtualNetworks/network1234/subnets/subnet123")
                .withPublicIpAddressConfiguration(new PublicIpAddressConfiguration()
                    .withProvision(IpAddressProvisioningType.USER_MANAGED)
                    .withIpAddressIds(Arrays.asList(
                        "/subscriptions/12345678-1234-1234-1234-1234567890121/resourceGroups/rg13/providers/Microsoft.Network/publicIPAddresses/ip135"))))
            .create();
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
