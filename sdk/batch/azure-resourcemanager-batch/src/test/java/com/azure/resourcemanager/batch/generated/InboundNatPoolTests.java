// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.batch.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.batch.models.InboundEndpointProtocol;
import com.azure.resourcemanager.batch.models.InboundNatPool;
import com.azure.resourcemanager.batch.models.NetworkSecurityGroupRule;
import com.azure.resourcemanager.batch.models.NetworkSecurityGroupRuleAccess;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class InboundNatPoolTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        InboundNatPool model = BinaryData.fromString(
            "{\"name\":\"xqtvcofu\",\"protocol\":\"TCP\",\"backendPort\":1364369199,\"frontendPortRangeStart\":573023383,\"frontendPortRangeEnd\":2052668715,\"networkSecurityGroupRules\":[{\"priority\":264333959,\"access\":\"Allow\",\"sourceAddressPrefix\":\"gdknnqv\",\"sourcePortRanges\":[\"nqntorudsgsahm\",\"yc\"]}]}")
            .toObject(InboundNatPool.class);
        Assertions.assertEquals("xqtvcofu", model.name());
        Assertions.assertEquals(InboundEndpointProtocol.TCP, model.protocol());
        Assertions.assertEquals(1364369199, model.backendPort());
        Assertions.assertEquals(573023383, model.frontendPortRangeStart());
        Assertions.assertEquals(2052668715, model.frontendPortRangeEnd());
        Assertions.assertEquals(264333959, model.networkSecurityGroupRules().get(0).priority());
        Assertions.assertEquals(NetworkSecurityGroupRuleAccess.ALLOW,
            model.networkSecurityGroupRules().get(0).access());
        Assertions.assertEquals("gdknnqv", model.networkSecurityGroupRules().get(0).sourceAddressPrefix());
        Assertions.assertEquals("nqntorudsgsahm", model.networkSecurityGroupRules().get(0).sourcePortRanges().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        InboundNatPool model = new InboundNatPool().withName("xqtvcofu")
            .withProtocol(InboundEndpointProtocol.TCP)
            .withBackendPort(1364369199)
            .withFrontendPortRangeStart(573023383)
            .withFrontendPortRangeEnd(2052668715)
            .withNetworkSecurityGroupRules(Arrays.asList(new NetworkSecurityGroupRule().withPriority(264333959)
                .withAccess(NetworkSecurityGroupRuleAccess.ALLOW)
                .withSourceAddressPrefix("gdknnqv")
                .withSourcePortRanges(Arrays.asList("nqntorudsgsahm", "yc"))));
        model = BinaryData.fromObject(model).toObject(InboundNatPool.class);
        Assertions.assertEquals("xqtvcofu", model.name());
        Assertions.assertEquals(InboundEndpointProtocol.TCP, model.protocol());
        Assertions.assertEquals(1364369199, model.backendPort());
        Assertions.assertEquals(573023383, model.frontendPortRangeStart());
        Assertions.assertEquals(2052668715, model.frontendPortRangeEnd());
        Assertions.assertEquals(264333959, model.networkSecurityGroupRules().get(0).priority());
        Assertions.assertEquals(NetworkSecurityGroupRuleAccess.ALLOW,
            model.networkSecurityGroupRules().get(0).access());
        Assertions.assertEquals("gdknnqv", model.networkSecurityGroupRules().get(0).sourceAddressPrefix());
        Assertions.assertEquals("nqntorudsgsahm", model.networkSecurityGroupRules().get(0).sourcePortRanges().get(0));
    }
}
