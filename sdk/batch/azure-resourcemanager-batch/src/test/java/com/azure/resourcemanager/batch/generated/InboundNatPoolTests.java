// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.batch.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.batch.models.InboundEndpointProtocol;
import com.azure.resourcemanager.batch.models.InboundNatPool;
import com.azure.resourcemanager.batch.models.NetworkSecurityGroupRule;
import com.azure.resourcemanager.batch.models.NetworkSecurityGroupRuleAccess;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class InboundNatPoolTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        InboundNatPool model = BinaryData.fromString(
            "{\"name\":\"piexpbtgiw\",\"protocol\":\"TCP\",\"backendPort\":1911820344,\"frontendPortRangeStart\":1447664688,\"frontendPortRangeEnd\":2105060368,\"networkSecurityGroupRules\":[{\"priority\":1338594793,\"access\":\"Allow\",\"sourceAddressPrefix\":\"rtdtkcnqxw\",\"sourcePortRanges\":[\"kulpiujwaasi\",\"qiiobyuqer\",\"qlpqwcciuq\"]},{\"priority\":161159064,\"access\":\"Deny\",\"sourceAddressPrefix\":\"butauvfb\",\"sourcePortRanges\":[\"whhmhykojo\",\"afnn\",\"lpichk\",\"ymkcdyhb\"]}]}")
            .toObject(InboundNatPool.class);
        Assertions.assertEquals("piexpbtgiw", model.name());
        Assertions.assertEquals(InboundEndpointProtocol.TCP, model.protocol());
        Assertions.assertEquals(1911820344, model.backendPort());
        Assertions.assertEquals(1447664688, model.frontendPortRangeStart());
        Assertions.assertEquals(2105060368, model.frontendPortRangeEnd());
        Assertions.assertEquals(1338594793, model.networkSecurityGroupRules().get(0).priority());
        Assertions.assertEquals(NetworkSecurityGroupRuleAccess.ALLOW,
            model.networkSecurityGroupRules().get(0).access());
        Assertions.assertEquals("rtdtkcnqxw", model.networkSecurityGroupRules().get(0).sourceAddressPrefix());
        Assertions.assertEquals("kulpiujwaasi", model.networkSecurityGroupRules().get(0).sourcePortRanges().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        InboundNatPool model = new InboundNatPool().withName("piexpbtgiw").withProtocol(InboundEndpointProtocol.TCP)
            .withBackendPort(1911820344).withFrontendPortRangeStart(1447664688).withFrontendPortRangeEnd(2105060368)
            .withNetworkSecurityGroupRules(Arrays.asList(
                new NetworkSecurityGroupRule().withPriority(1338594793).withAccess(NetworkSecurityGroupRuleAccess.ALLOW)
                    .withSourceAddressPrefix("rtdtkcnqxw")
                    .withSourcePortRanges(Arrays.asList("kulpiujwaasi", "qiiobyuqer", "qlpqwcciuq")),
                new NetworkSecurityGroupRule().withPriority(161159064).withAccess(NetworkSecurityGroupRuleAccess.DENY)
                    .withSourceAddressPrefix("butauvfb")
                    .withSourcePortRanges(Arrays.asList("whhmhykojo", "afnn", "lpichk", "ymkcdyhb"))));
        model = BinaryData.fromObject(model).toObject(InboundNatPool.class);
        Assertions.assertEquals("piexpbtgiw", model.name());
        Assertions.assertEquals(InboundEndpointProtocol.TCP, model.protocol());
        Assertions.assertEquals(1911820344, model.backendPort());
        Assertions.assertEquals(1447664688, model.frontendPortRangeStart());
        Assertions.assertEquals(2105060368, model.frontendPortRangeEnd());
        Assertions.assertEquals(1338594793, model.networkSecurityGroupRules().get(0).priority());
        Assertions.assertEquals(NetworkSecurityGroupRuleAccess.ALLOW,
            model.networkSecurityGroupRules().get(0).access());
        Assertions.assertEquals("rtdtkcnqxw", model.networkSecurityGroupRules().get(0).sourceAddressPrefix());
        Assertions.assertEquals("kulpiujwaasi", model.networkSecurityGroupRules().get(0).sourcePortRanges().get(0));
    }
}
