// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.compute.batch.generated;

import com.azure.compute.batch.models.AutoUserScope;
import com.azure.compute.batch.models.AutoUserSpecification;
import com.azure.compute.batch.models.BatchNode;
import com.azure.compute.batch.models.BatchNodeAgentInfo;
import com.azure.compute.batch.models.BatchNodeState;
import com.azure.compute.batch.models.BatchStartTask;
import com.azure.compute.batch.models.BatchStartTaskInfo;
import com.azure.compute.batch.models.BatchStartTaskState;
import com.azure.compute.batch.models.ElevationLevel;
import com.azure.compute.batch.models.GetBatchNodeOptions;
import com.azure.compute.batch.models.SchedulingState;
import com.azure.compute.batch.models.UserIdentity;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

@Disabled
public final class NodeGetTests extends BatchClientTestBase {
    @Test
    @Disabled
    public void testNodeGetTests() {
        // method invocation
        BatchNode response
            = batchClient.getNode("poolId", "tvm-1695681911_2-20161122t193202z", new GetBatchNodeOptions());

        // response assertion
        Assertions.assertNotNull(response);
        // verify property "id"
        Assertions.assertEquals("tvm-1695681911_2-20161122t193202z", response.getId());
        // verify property "url"
        Assertions.assertEquals(
            "https://account.region.batch.azure.com/pools/poolId/nodes/tvm-1695681911_2-20161122t193202z",
            response.getUrl());
        // verify property "state"
        Assertions.assertEquals(BatchNodeState.IDLE, response.getState());
        // verify property "schedulingState"
        Assertions.assertEquals(SchedulingState.ENABLED, response.getSchedulingState());
        // verify property "stateTransitionTime"
        Assertions.assertNotNull(response.getStateTransitionTime());
        // verify property "lastBootTime"
        Assertions.assertNotNull(response.getLastBootTime());
        // verify property "allocationTime"
        Assertions.assertNotNull(response.getAllocationTime());
        // verify property "ipAddress"
        Assertions.assertEquals("1.1.1.1", response.getIpAddress());
        // verify property "affinityId"
        Assertions.assertEquals("TVM:tvm-1695681911_2-20161122t193202z", response.getAffinityId());
        // verify property "vmSize"
        Assertions.assertEquals("small", response.getVmSize());
        // verify property "totalTasksRun"
        Assertions.assertEquals(0, response.getTotalTasksRun());
        // verify property "runningTasksCount"
        Assertions.assertEquals(0, response.getRunningTasksCount());
        // verify property "totalTasksSucceeded"
        Assertions.assertEquals(0, response.getTotalTasksSucceeded());
        // verify property "startTask"
        BatchStartTask responseStartTask = response.getStartTask();
        Assertions.assertNotNull(responseStartTask);
        Assertions.assertEquals("cmd /c echo hello", responseStartTask.getCommandLine());
        UserIdentity responseStartTaskUserIdentity = responseStartTask.getUserIdentity();
        Assertions.assertNotNull(responseStartTaskUserIdentity);
        AutoUserSpecification responseStartTaskUserIdentityAutoUser = responseStartTaskUserIdentity.getAutoUser();
        Assertions.assertNotNull(responseStartTaskUserIdentityAutoUser);
        Assertions.assertEquals(AutoUserScope.TASK, responseStartTaskUserIdentityAutoUser.getScope());
        Assertions.assertEquals(ElevationLevel.NON_ADMIN, responseStartTaskUserIdentityAutoUser.getElevationLevel());
        Assertions.assertEquals(0, responseStartTask.getMaxTaskRetryCount());
        Assertions.assertEquals(false, responseStartTask.isWaitForSuccess());
        // verify property "startTaskInfo"
        BatchStartTaskInfo responseStartTaskInfo = response.getStartTaskInfo();
        Assertions.assertNotNull(responseStartTaskInfo);
        Assertions.assertEquals(BatchStartTaskState.COMPLETED, responseStartTaskInfo.getState());
        Assertions.assertNotNull(responseStartTaskInfo.getStartTime());
        Assertions.assertNotNull(responseStartTaskInfo.getEndTime());
        Assertions.assertEquals(0, responseStartTaskInfo.getExitCode());
        Assertions.assertEquals(0, responseStartTaskInfo.getRetryCount());
        // verify property "isDedicated"
        Assertions.assertEquals(true, response.isDedicated());
        // verify property "nodeAgentInfo"
        BatchNodeAgentInfo responseNodeAgentInfo = response.getNodeAgentInfo();
        Assertions.assertNotNull(responseNodeAgentInfo);
        Assertions.assertEquals("1.2.0.0", responseNodeAgentInfo.getVersion());
        Assertions.assertNotNull(responseNodeAgentInfo.getLastUpdateTime());
    }
}
