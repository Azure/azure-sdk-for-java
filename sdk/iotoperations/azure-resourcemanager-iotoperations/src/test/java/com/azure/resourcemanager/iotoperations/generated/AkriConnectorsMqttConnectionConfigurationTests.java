// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.iotoperations.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttAuthentication;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttConnectionConfiguration;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttProtocolType;
import com.azure.resourcemanager.iotoperations.models.OperationalMode;
import com.azure.resourcemanager.iotoperations.models.TlsProperties;
import org.junit.jupiter.api.Assertions;

public final class AkriConnectorsMqttConnectionConfigurationTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AkriConnectorsMqttConnectionConfiguration model = BinaryData.fromString(
            "{\"authentication\":{\"method\":\"AkriConnectorsMqttAuthentication\"},\"host\":\"pxdtnkdmkq\",\"protocol\":\"Mqtt\",\"keepAliveSeconds\":1784311457,\"maxInflightMessages\":953269937,\"sessionExpirySeconds\":1886433502,\"tls\":{\"mode\":\"Enabled\",\"trustedCaCertificateConfigMapRef\":\"uaibrebqaaysj\"}}")
            .toObject(AkriConnectorsMqttConnectionConfiguration.class);
        Assertions.assertEquals("pxdtnkdmkq", model.host());
        Assertions.assertEquals(AkriConnectorsMqttProtocolType.MQTT, model.protocol());
        Assertions.assertEquals(1784311457, model.keepAliveSeconds());
        Assertions.assertEquals(953269937, model.maxInflightMessages());
        Assertions.assertEquals(1886433502, model.sessionExpirySeconds());
        Assertions.assertEquals(OperationalMode.ENABLED, model.tls().mode());
        Assertions.assertEquals("uaibrebqaaysj", model.tls().trustedCaCertificateConfigMapRef());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AkriConnectorsMqttConnectionConfiguration model
            = new AkriConnectorsMqttConnectionConfiguration().withAuthentication(new AkriConnectorsMqttAuthentication())
                .withHost("pxdtnkdmkq")
                .withProtocol(AkriConnectorsMqttProtocolType.MQTT)
                .withKeepAliveSeconds(1784311457)
                .withMaxInflightMessages(953269937)
                .withSessionExpirySeconds(1886433502)
                .withTls(new TlsProperties().withMode(OperationalMode.ENABLED)
                    .withTrustedCaCertificateConfigMapRef("uaibrebqaaysj"));
        model = BinaryData.fromObject(model).toObject(AkriConnectorsMqttConnectionConfiguration.class);
        Assertions.assertEquals("pxdtnkdmkq", model.host());
        Assertions.assertEquals(AkriConnectorsMqttProtocolType.MQTT, model.protocol());
        Assertions.assertEquals(1784311457, model.keepAliveSeconds());
        Assertions.assertEquals(953269937, model.maxInflightMessages());
        Assertions.assertEquals(1886433502, model.sessionExpirySeconds());
        Assertions.assertEquals(OperationalMode.ENABLED, model.tls().mode());
        Assertions.assertEquals("uaibrebqaaysj", model.tls().trustedCaCertificateConfigMapRef());
    }
}
