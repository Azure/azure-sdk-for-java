// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.iotoperations.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateAioMetadata;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateDeviceInboundEndpointType;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateDiagnostics;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateProperties;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateRuntimeConfiguration;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsDiagnosticsLogs;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttAuthentication;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttConnectionConfiguration;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttProtocolType;
import com.azure.resourcemanager.iotoperations.models.OperationalMode;
import com.azure.resourcemanager.iotoperations.models.TlsProperties;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class AkriConnectorTemplatePropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AkriConnectorTemplateProperties model = BinaryData.fromString(
            "{\"provisioningState\":\"Accepted\",\"aioMetadata\":{\"aioMinVersion\":\"klff\",\"aioMaxVersion\":\"ouw\"},\"runtimeConfiguration\":{\"runtimeConfigurationType\":\"AkriConnectorTemplateRuntimeConfiguration\"},\"diagnostics\":{\"logs\":{\"level\":\"zrfze\"}},\"deviceInboundEndpointTypes\":[{\"displayName\":\"bizikayuhq\",\"endpointType\":\"bjbsybb\",\"version\":\"r\"},{\"displayName\":\"ldgmfpgvmpip\",\"endpointType\":\"slthaq\",\"version\":\"ss\"},{\"displayName\":\"u\",\"endpointType\":\"wbdsr\",\"version\":\"pdrhne\"}],\"mqttConnectionConfiguration\":{\"authentication\":{\"method\":\"AkriConnectorsMqttAuthentication\"},\"host\":\"q\",\"protocol\":\"Mqtt\",\"keepAliveSeconds\":110101001,\"maxInflightMessages\":174588693,\"sessionExpirySeconds\":431891008,\"tls\":{\"mode\":\"Enabled\",\"trustedCaCertificateConfigMapRef\":\"pikpz\"}},\"connectorMetadataRef\":\"ejzanlfz\",\"healthState\":\"Available\"}")
            .toObject(AkriConnectorTemplateProperties.class);
        Assertions.assertEquals("klff", model.aioMetadata().aioMinVersion());
        Assertions.assertEquals("ouw", model.aioMetadata().aioMaxVersion());
        Assertions.assertEquals("zrfze", model.diagnostics().logs().level());
        Assertions.assertEquals("bizikayuhq", model.deviceInboundEndpointTypes().get(0).displayName());
        Assertions.assertEquals("bjbsybb", model.deviceInboundEndpointTypes().get(0).endpointType());
        Assertions.assertEquals("r", model.deviceInboundEndpointTypes().get(0).version());
        Assertions.assertEquals("q", model.mqttConnectionConfiguration().host());
        Assertions.assertEquals(AkriConnectorsMqttProtocolType.MQTT, model.mqttConnectionConfiguration().protocol());
        Assertions.assertEquals(110101001, model.mqttConnectionConfiguration().keepAliveSeconds());
        Assertions.assertEquals(174588693, model.mqttConnectionConfiguration().maxInflightMessages());
        Assertions.assertEquals(431891008, model.mqttConnectionConfiguration().sessionExpirySeconds());
        Assertions.assertEquals(OperationalMode.ENABLED, model.mqttConnectionConfiguration().tls().mode());
        Assertions.assertEquals("pikpz", model.mqttConnectionConfiguration().tls().trustedCaCertificateConfigMapRef());
        Assertions.assertEquals("ejzanlfz", model.connectorMetadataRef());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AkriConnectorTemplateProperties model = new AkriConnectorTemplateProperties()
            .withAioMetadata(new AkriConnectorTemplateAioMetadata().withAioMinVersion("klff").withAioMaxVersion("ouw"))
            .withRuntimeConfiguration(new AkriConnectorTemplateRuntimeConfiguration())
            .withDiagnostics(
                new AkriConnectorTemplateDiagnostics().withLogs(new AkriConnectorsDiagnosticsLogs().withLevel("zrfze")))
            .withDeviceInboundEndpointTypes(Arrays.asList(
                new AkriConnectorTemplateDeviceInboundEndpointType().withDisplayName("bizikayuhq")
                    .withEndpointType("bjbsybb")
                    .withVersion("r"),
                new AkriConnectorTemplateDeviceInboundEndpointType().withDisplayName("ldgmfpgvmpip")
                    .withEndpointType("slthaq")
                    .withVersion("ss"),
                new AkriConnectorTemplateDeviceInboundEndpointType().withDisplayName("u")
                    .withEndpointType("wbdsr")
                    .withVersion("pdrhne")))
            .withMqttConnectionConfiguration(new AkriConnectorsMqttConnectionConfiguration()
                .withAuthentication(new AkriConnectorsMqttAuthentication())
                .withHost("q")
                .withProtocol(AkriConnectorsMqttProtocolType.MQTT)
                .withKeepAliveSeconds(110101001)
                .withMaxInflightMessages(174588693)
                .withSessionExpirySeconds(431891008)
                .withTls(new TlsProperties().withMode(OperationalMode.ENABLED)
                    .withTrustedCaCertificateConfigMapRef("pikpz")))
            .withConnectorMetadataRef("ejzanlfz");
        model = BinaryData.fromObject(model).toObject(AkriConnectorTemplateProperties.class);
        Assertions.assertEquals("klff", model.aioMetadata().aioMinVersion());
        Assertions.assertEquals("ouw", model.aioMetadata().aioMaxVersion());
        Assertions.assertEquals("zrfze", model.diagnostics().logs().level());
        Assertions.assertEquals("bizikayuhq", model.deviceInboundEndpointTypes().get(0).displayName());
        Assertions.assertEquals("bjbsybb", model.deviceInboundEndpointTypes().get(0).endpointType());
        Assertions.assertEquals("r", model.deviceInboundEndpointTypes().get(0).version());
        Assertions.assertEquals("q", model.mqttConnectionConfiguration().host());
        Assertions.assertEquals(AkriConnectorsMqttProtocolType.MQTT, model.mqttConnectionConfiguration().protocol());
        Assertions.assertEquals(110101001, model.mqttConnectionConfiguration().keepAliveSeconds());
        Assertions.assertEquals(174588693, model.mqttConnectionConfiguration().maxInflightMessages());
        Assertions.assertEquals(431891008, model.mqttConnectionConfiguration().sessionExpirySeconds());
        Assertions.assertEquals(OperationalMode.ENABLED, model.mqttConnectionConfiguration().tls().mode());
        Assertions.assertEquals("pikpz", model.mqttConnectionConfiguration().tls().trustedCaCertificateConfigMapRef());
        Assertions.assertEquals("ejzanlfz", model.connectorMetadataRef());
    }
}
