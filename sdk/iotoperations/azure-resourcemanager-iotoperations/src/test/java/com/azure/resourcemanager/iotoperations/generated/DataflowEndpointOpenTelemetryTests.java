// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.iotoperations.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.iotoperations.models.BatchingConfiguration;
import com.azure.resourcemanager.iotoperations.models.DataflowEndpointOpenTelemetry;
import com.azure.resourcemanager.iotoperations.models.DataflowOpenTelemetryAuthentication;
import com.azure.resourcemanager.iotoperations.models.OperationalMode;
import com.azure.resourcemanager.iotoperations.models.TlsProperties;
import org.junit.jupiter.api.Assertions;

public final class DataflowEndpointOpenTelemetryTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DataflowEndpointOpenTelemetry model = BinaryData.fromString(
            "{\"host\":\"sorgj\",\"batching\":{\"latencySeconds\":1755128806,\"maxMessages\":1807196723},\"tls\":{\"mode\":\"Enabled\",\"trustedCaCertificateConfigMapRef\":\"lkdmtncvokotllxd\"},\"authentication\":{\"method\":\"DataflowOpenTelemetryAuthentication\"}}")
            .toObject(DataflowEndpointOpenTelemetry.class);
        Assertions.assertEquals("sorgj", model.host());
        Assertions.assertEquals(1755128806, model.batching().latencySeconds());
        Assertions.assertEquals(1807196723, model.batching().maxMessages());
        Assertions.assertEquals(OperationalMode.ENABLED, model.tls().mode());
        Assertions.assertEquals("lkdmtncvokotllxd", model.tls().trustedCaCertificateConfigMapRef());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DataflowEndpointOpenTelemetry model = new DataflowEndpointOpenTelemetry().withHost("sorgj")
            .withBatching(new BatchingConfiguration().withLatencySeconds(1755128806).withMaxMessages(1807196723))
            .withTls(new TlsProperties().withMode(OperationalMode.ENABLED)
                .withTrustedCaCertificateConfigMapRef("lkdmtncvokotllxd"))
            .withAuthentication(new DataflowOpenTelemetryAuthentication());
        model = BinaryData.fromObject(model).toObject(DataflowEndpointOpenTelemetry.class);
        Assertions.assertEquals("sorgj", model.host());
        Assertions.assertEquals(1755128806, model.batching().latencySeconds());
        Assertions.assertEquals(1807196723, model.batching().maxMessages());
        Assertions.assertEquals(OperationalMode.ENABLED, model.tls().mode());
        Assertions.assertEquals("lkdmtncvokotllxd", model.tls().trustedCaCertificateConfigMapRef());
    }
}
