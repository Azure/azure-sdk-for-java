// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.iotoperations.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.iotoperations.models.BatchingConfiguration;
import com.azure.resourcemanager.iotoperations.models.DataflowEndpointOpenTelemetry;
import com.azure.resourcemanager.iotoperations.models.DataflowOpenTelemetryAuthentication;
import com.azure.resourcemanager.iotoperations.models.OperationalMode;
import com.azure.resourcemanager.iotoperations.models.TlsProperties;
import org.junit.jupiter.api.Assertions;

public final class DataflowEndpointOpenTelemetryTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        DataflowEndpointOpenTelemetry model = BinaryData.fromString(
            "{\"host\":\"pkukghi\",\"batching\":{\"latencySeconds\":636112442,\"maxMessages\":1554656942},\"tls\":{\"mode\":\"Enabled\",\"trustedCaCertificateConfigMapRef\":\"njhf\"},\"authentication\":{\"method\":\"DataflowOpenTelemetryAuthentication\"}}")
            .toObject(DataflowEndpointOpenTelemetry.class);
        Assertions.assertEquals("pkukghi", model.host());
        Assertions.assertEquals(636112442, model.batching().latencySeconds());
        Assertions.assertEquals(1554656942, model.batching().maxMessages());
        Assertions.assertEquals(OperationalMode.ENABLED, model.tls().mode());
        Assertions.assertEquals("njhf", model.tls().trustedCaCertificateConfigMapRef());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        DataflowEndpointOpenTelemetry model = new DataflowEndpointOpenTelemetry().withHost("pkukghi")
            .withBatching(new BatchingConfiguration().withLatencySeconds(636112442).withMaxMessages(1554656942))
            .withTls(new TlsProperties().withMode(OperationalMode.ENABLED).withTrustedCaCertificateConfigMapRef("njhf"))
            .withAuthentication(new DataflowOpenTelemetryAuthentication());
        model = BinaryData.fromObject(model).toObject(DataflowEndpointOpenTelemetry.class);
        Assertions.assertEquals("pkukghi", model.host());
        Assertions.assertEquals(636112442, model.batching().latencySeconds());
        Assertions.assertEquals(1554656942, model.batching().maxMessages());
        Assertions.assertEquals(OperationalMode.ENABLED, model.tls().mode());
        Assertions.assertEquals("njhf", model.tls().trustedCaCertificateConfigMapRef());
    }
}
