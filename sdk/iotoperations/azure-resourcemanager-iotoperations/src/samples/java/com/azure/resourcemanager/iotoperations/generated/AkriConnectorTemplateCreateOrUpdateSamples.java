// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.iotoperations.generated;

import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateAioMetadata;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateDeviceInboundEndpointType;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateDiagnostics;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateManagedConfiguration;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateProperties;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateRuntimeImageConfiguration;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorTemplateRuntimeImageConfigurationSettings;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsContainerRegistry;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsContainerRegistrySettings;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsDiagnosticsLogs;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttConnectionConfiguration;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsMqttProtocolType;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsServiceAccountAuthentication;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsServiceAccountTokenSettings;
import com.azure.resourcemanager.iotoperations.models.AkriConnectorsTag;
import com.azure.resourcemanager.iotoperations.models.ExtendedLocation;
import com.azure.resourcemanager.iotoperations.models.ExtendedLocationType;
import com.azure.resourcemanager.iotoperations.models.OperationalMode;
import com.azure.resourcemanager.iotoperations.models.TlsProperties;
import java.util.Arrays;

/**
 * Samples for AkriConnectorTemplate CreateOrUpdate.
 */
public final class AkriConnectorTemplateCreateOrUpdateSamples {
    /*
     * x-ms-original-file: 2025-10-01/AkriConnectorTemplate_CreateOrUpdate_MaximumSet_Gen.json
     */
    /**
     * Sample code: AkriConnectorTemplate_CreateOrUpdate_MaximumSet.
     * 
     * @param manager Entry point to IoTOperationsManager.
     */
    public static void akriConnectorTemplateCreateOrUpdateMaximumSet(
        com.azure.resourcemanager.iotoperations.IoTOperationsManager manager) {
        manager.akriConnectorTemplates()
            .define("resource-name123")
            .withExistingInstance("rgiotoperations", "resource-name123")
            .withProperties(new AkriConnectorTemplateProperties()
                .withAioMetadata(
                    new AkriConnectorTemplateAioMetadata().withAioMinVersion("1.2.0").withAioMaxVersion("1.4.0"))
                .withRuntimeConfiguration(new AkriConnectorTemplateManagedConfiguration()
                    .withManagedConfigurationSettings(new AkriConnectorTemplateRuntimeImageConfiguration()
                        .withImageConfigurationSettings(new AkriConnectorTemplateRuntimeImageConfigurationSettings()
                            .withImageName("akri-connectors/rest")
                            .withRegistrySettings(new AkriConnectorsContainerRegistry().withContainerRegistrySettings(
                                new AkriConnectorsContainerRegistrySettings().withRegistry("akribuilds.azurecr.io")))
                            .withTagDigestSettings(new AkriConnectorsTag().withTag("0.5.0-20250825.4")))))
                .withDiagnostics(new AkriConnectorTemplateDiagnostics()
                    .withLogs(new AkriConnectorsDiagnosticsLogs().withLevel("info")))
                .withDeviceInboundEndpointTypes(Arrays
                    .asList(new AkriConnectorTemplateDeviceInboundEndpointType().withEndpointType("Microsoft.Rest")
                        .withVersion("0.0.1")))
                .withMqttConnectionConfiguration(new AkriConnectorsMqttConnectionConfiguration()
                    .withAuthentication(
                        new AkriConnectorsServiceAccountAuthentication().withServiceAccountTokenSettings(
                            new AkriConnectorsServiceAccountTokenSettings().withAudience("MQ-SAT")))
                    .withHost("aio-broker:18883")
                    .withProtocol(AkriConnectorsMqttProtocolType.MQTT)
                    .withKeepAliveSeconds(10)
                    .withMaxInflightMessages(10)
                    .withSessionExpirySeconds(60)
                    .withTls(new TlsProperties().withMode(OperationalMode.ENABLED)
                        .withTrustedCaCertificateConfigMapRef("azure-iot-operations-aio-ca-trust-bundle"))))
            .withExtendedLocation(new ExtendedLocation().withName(
                "/subscriptions/F8C729F9-DF9C-4743-848F-96EE433D8E53/resourceGroups/rgiotoperations/providers/Microsoft.ExtendedLocation/customLocations/resource-123")
                .withType(ExtendedLocationType.CUSTOM_LOCATION))
            .create();
    }
}
