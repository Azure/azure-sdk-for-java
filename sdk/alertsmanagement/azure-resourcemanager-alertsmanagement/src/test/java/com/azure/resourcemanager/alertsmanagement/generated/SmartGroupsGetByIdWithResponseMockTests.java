// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.alertsmanagement.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.alertsmanagement.AlertsManagementManager;
import com.azure.resourcemanager.alertsmanagement.models.SmartGroup;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class SmartGroupsGetByIdWithResponseMockTests {
    @Test
    public void testGetByIdWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"alertsCount\":3579573180902853370,\"smartGroupState\":\"Closed\",\"severity\":\"Sev4\",\"startDateTime\":\"2021-09-05T12:28:28Z\",\"lastModifiedDateTime\":\"2021-10-13T14:41:22Z\",\"lastModifiedUserName\":\"xjd\",\"resources\":[{\"name\":\"aqwotmmwl\",\"count\":329089345760730573},{\"name\":\"rsxaptefh\",\"count\":5103082804495297256},{\"name\":\"okjljnhvlqjbekp\",\"count\":2412770925443702652},{\"name\":\"bksdqhjvyklxesl\",\"count\":8799946155135105306}],\"resourceTypes\":[{\"name\":\"poq\",\"count\":8873287360862091590},{\"name\":\"qjwgoknlej\",\"count\":2107691299231982409}],\"resourceGroups\":[{\"name\":\"fdb\",\"count\":6105885498860361682}],\"monitorServices\":[{\"name\":\"svkzykj\",\"count\":2599820473913379289},{\"name\":\"xfwush\",\"count\":6814867398346946439},{\"name\":\"pn\",\"count\":6778968687143087952}],\"monitorConditions\":[{\"name\":\"pkuwxeoioj\",\"count\":4013145651539236402},{\"name\":\"vkjzwfbcyaykm\",\"count\":1345600572215947326}],\"alertStates\":[{\"name\":\"xrzxmdewsrsxkrp\",\"count\":5718306376150481311},{\"name\":\"ejwwviyoyps\",\"count\":2205511003063083758},{\"name\":\"nhjx\",\"count\":2411934064819090469}],\"alertSeverities\":[{\"name\":\"biwetpo\",\"count\":1144655222484981397},{\"name\":\"iqyhgfse\",\"count\":6048456306901522670}],\"nextLink\":\"bsfledynojpziu\"},\"id\":\"fbzkk\",\"name\":\"tnhqsycl\",\"type\":\"selpkpbaf\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        AlertsManagementManager manager = AlertsManagementManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        SmartGroup response
            = manager.smartGroups().getByIdWithResponse("orvvmqfloygbdgw", com.azure.core.util.Context.NONE).getValue();

        Assertions.assertEquals(3579573180902853370L, response.alertsCount());
        Assertions.assertEquals("aqwotmmwl", response.resources().get(0).name());
        Assertions.assertEquals(329089345760730573L, response.resources().get(0).count());
        Assertions.assertEquals("poq", response.resourceTypes().get(0).name());
        Assertions.assertEquals(8873287360862091590L, response.resourceTypes().get(0).count());
        Assertions.assertEquals("fdb", response.resourceGroups().get(0).name());
        Assertions.assertEquals(6105885498860361682L, response.resourceGroups().get(0).count());
        Assertions.assertEquals("svkzykj", response.monitorServices().get(0).name());
        Assertions.assertEquals(2599820473913379289L, response.monitorServices().get(0).count());
        Assertions.assertEquals("pkuwxeoioj", response.monitorConditions().get(0).name());
        Assertions.assertEquals(4013145651539236402L, response.monitorConditions().get(0).count());
        Assertions.assertEquals("xrzxmdewsrsxkrp", response.alertStates().get(0).name());
        Assertions.assertEquals(5718306376150481311L, response.alertStates().get(0).count());
        Assertions.assertEquals("biwetpo", response.alertSeverities().get(0).name());
        Assertions.assertEquals(1144655222484981397L, response.alertSeverities().get(0).count());
        Assertions.assertEquals("bsfledynojpziu", response.nextLink());
    }
}
