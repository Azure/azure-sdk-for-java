// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.alertsmanagement.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.alertsmanagement.AlertsManagementManager;
import com.azure.resourcemanager.alertsmanagement.models.PrometheusRuleGroupResource;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class PrometheusRuleGroupsGetByResourceGroupWithResponseMockTests {
    @Test
    public void testGetByResourceGroupWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"description\":\"jmzsyzfh\",\"enabled\":true,\"clusterName\":\"ikcyyc\",\"scopes\":[\"nsjlpjrtws\",\"hv\",\"uic\",\"hvtrrmhwrbfdpyf\"],\"interval\":\"bhvjglr\",\"rules\":[{\"record\":\"yzlwh\",\"alert\":\"emhooclutnpq\",\"enabled\":false,\"expression\":\"czj\",\"severity\":865152185,\"for\":\"kyujxsglhsrrr\",\"labels\":{\"rfih\":\"ylmbkzudni\",\"nrefqyh\":\"tjewlpxuzzj\",\"ydiw\":\"otoihiqa\",\"hcspo\":\"brkwpzdqt\"},\"annotations\":{\"bjfu\":\"axsipietgb\",\"pnfpubntnbat\":\"bmoichd\",\"uhplrvkmjcwmjv\":\"viqsowsaaelcattc\",\"sfxsf\":\"gfggcvkyylizrzbj\"},\"actions\":[{}],\"resolveConfiguration\":{\"autoResolved\":false,\"timeToResolve\":\"vagbwidqlvhukove\"}},{\"record\":\"i\",\"alert\":\"vjfn\",\"enabled\":false,\"expression\":\"vlwyzg\",\"severity\":882570915,\"for\":\"ujr\",\"labels\":{\"kzoeovvtzejetj\":\"ojuidjpuuyjucej\",\"ikyju\":\"ln\",\"bqzolxr\":\"k\"},\"annotations\":{\"htgv\":\"qjwt\",\"jsmwrokc\":\"zpcrrkolawj\",\"nuchlgmltxdwhmo\":\"xfzzzwyjafitlhgu\"},\"actions\":[{}],\"resolveConfiguration\":{\"autoResolved\":false,\"timeToResolve\":\"ns\"}},{\"record\":\"jzfpafolpymwamx\",\"alert\":\"rag\",\"enabled\":false,\"expression\":\"phtvdu\",\"severity\":1328440985,\"for\":\"lejchcsr\",\"labels\":{\"dwv\":\"nmzlanru\",\"mqrhvthl\":\"phcnzqtpj\",\"xetlgydlhqv\":\"iwdcxsmlzzhzd\",\"pxy\":\"n\"},\"annotations\":{\"arbgjekgl\":\"iqge\",\"jonfhjirwgdnqzbr\":\"lbyulidwcwvmze\"},\"actions\":[{},{},{}],\"resolveConfiguration\":{\"autoResolved\":false,\"timeToResolve\":\"mtksjcitdigsx\"}},{\"record\":\"gljplkeuachtomfl\",\"alert\":\"tswfpfmdgycxnms\",\"enabled\":false,\"expression\":\"qjjyslurl\",\"severity\":271426128,\"for\":\"kvp\",\"labels\":{\"rhmpqvwwsk\":\"qsl\",\"uvqejosovyrrle\":\"ndcbrwi\",\"uqtljqobbpih\":\"esi\"},\"annotations\":{\"bmpxdlvykfrexc\":\"ecybmrqbrj\",\"qwjksghudgz\":\"s\",\"ggsvoujkxibdaf\":\"xog\",\"xfbvfb\":\"rkmdyom\"},\"actions\":[{}],\"resolveConfiguration\":{\"autoResolved\":true,\"timeToResolve\":\"wpg\"}}]},\"location\":\"eimawzovgkkumui\",\"tags\":{\"wsnsqowx\":\"jcazt\"},\"id\":\"comlikytwvczc\",\"name\":\"wka\",\"type\":\"ve\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        AlertsManagementManager manager = AlertsManagementManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        PrometheusRuleGroupResource response = manager.prometheusRuleGroups()
            .getByResourceGroupWithResponse("cbvopwndyqleallk", "mtkhlowkxxpvbr", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals("eimawzovgkkumui", response.location());
        Assertions.assertEquals("jcazt", response.tags().get("wsnsqowx"));
        Assertions.assertEquals("jmzsyzfh", response.description());
        Assertions.assertEquals(true, response.enabled());
        Assertions.assertEquals("ikcyyc", response.clusterName());
        Assertions.assertEquals("nsjlpjrtws", response.scopes().get(0));
        Assertions.assertEquals("bhvjglr", response.interval());
        Assertions.assertEquals("yzlwh", response.rules().get(0).record());
        Assertions.assertEquals("emhooclutnpq", response.rules().get(0).alert());
        Assertions.assertEquals(false, response.rules().get(0).enabled());
        Assertions.assertEquals("czj", response.rules().get(0).expression());
        Assertions.assertEquals(865152185, response.rules().get(0).severity());
        Assertions.assertEquals("kyujxsglhsrrr", response.rules().get(0).forProperty());
        Assertions.assertEquals("ylmbkzudni", response.rules().get(0).labels().get("rfih"));
        Assertions.assertEquals("axsipietgb", response.rules().get(0).annotations().get("bjfu"));
        Assertions.assertEquals(false, response.rules().get(0).resolveConfiguration().autoResolved());
        Assertions.assertEquals("vagbwidqlvhukove", response.rules().get(0).resolveConfiguration().timeToResolve());
    }
}
