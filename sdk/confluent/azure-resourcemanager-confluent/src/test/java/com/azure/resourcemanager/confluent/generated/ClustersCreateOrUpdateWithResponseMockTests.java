// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.confluent.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.confluent.ConfluentManager;
import com.azure.resourcemanager.confluent.models.ClusterConfigEntity;
import com.azure.resourcemanager.confluent.models.ClusterStatusEntity;
import com.azure.resourcemanager.confluent.models.Package;
import com.azure.resourcemanager.confluent.models.SCClusterByokEntity;
import com.azure.resourcemanager.confluent.models.SCClusterNetworkEnvironmentEntity;
import com.azure.resourcemanager.confluent.models.SCClusterRecord;
import com.azure.resourcemanager.confluent.models.SCClusterSpecEntity;
import com.azure.resourcemanager.confluent.models.SCMetadataEntity;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class ClustersCreateOrUpdateWithResponseMockTests {
    @Test
    public void testCreateOrUpdateWithResponse() throws Exception {
        String responseStr
            = "{\"kind\":\"blycsxzujksr\",\"properties\":{\"metadata\":{\"self\":\"esqplp\",\"resourceName\":\"jcdoewb\",\"createdTimestamp\":\"yvteowxvgpiudeu\",\"updatedTimestamp\":\"sxze\",\"deletedTimestamp\":\"axwk\"},\"spec\":{\"name\":\"khvuhxepmrutz\",\"availability\":\"baobn\",\"cloud\":\"ujdjltymkmvg\",\"zone\":\"hywartspph\",\"package\":\"ADVANCED\",\"region\":\"ykxdssjpemmuc\",\"kafkaBootstrapEndpoint\":\"hikkflrmy\",\"httpEndpoint\":\"incqlhriswsl\",\"apiEndpoint\":\"iiovgqcgxu\",\"config\":{\"kind\":\"kctotiowlxteq\"},\"environment\":{\"id\":\"jgwdtgukranbl\",\"environment\":\"hqlkccuzgygqwaho\",\"related\":\"lwgniiprglvawu\",\"resourceName\":\"d\"},\"network\":{\"id\":\"pivlsbbjpm\",\"environment\":\"bkmifoxxkub\",\"related\":\"havpmhbrbqgvg\",\"resourceName\":\"pbbttefjoknss\"},\"byok\":{\"id\":\"qedikdfrd\",\"related\":\"qmrjg\",\"resourceName\":\"hfqlgg\"}},\"status\":{\"phase\":\"wzcxmjpbyephmgt\",\"cku\":226193835}},\"id\":\"rc\",\"name\":\"yfqi\",\"type\":\"gxhnpomyqwcabv\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        ConfluentManager manager = ConfluentManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        SCClusterRecord response = manager.clusters()
            .define("wfpfmdgycx")
            .withExistingEnvironment("zhzmtksjci", "digsxcdgl", "plkeuachtomflryt")
            .withKind("skw")
            .withMetadata(new SCMetadataEntity().withSelf("yslu")
                .withResourceName("pshhkvpedwqslsr")
                .withCreatedTimestamp("pq")
                .withUpdatedTimestamp("wskondcbrwimuvqe")
                .withDeletedTimestamp("so"))
            .withSpec(new SCClusterSpecEntity().withName("rleaes")
                .withAvailability("uqtljqobbpih")
                .withCloud("cecybmrqbrjbbmpx")
                .withZone("vykfrexcrse")
                .withPackageProperty(Package.ESSENTIALS)
                .withRegion("s")
                .withKafkaBootstrapEndpoint("udgzhxogjgg")
                .withHttpEndpoint("oujkxibdafh")
                .withApiEndpoint("mdyomkxfbvfbh")
                .withConfig(new ClusterConfigEntity().withKind("rhpw"))
                .withEnvironment(new SCClusterNetworkEnvironmentEntity().withId("deimawzov")
                    .withEnvironment("kumuikjcjca")
                    .withRelated("bwsnsqow")
                    .withResourceName("comlikytwvczc"))
                .withNetwork(new SCClusterNetworkEnvironmentEntity().withId("acve")
                    .withEnvironment("fdv")
                    .withRelated("hbwrnfxtgddpqth")
                    .withResourceName("n"))
                .withByok(new SCClusterByokEntity().withId("oya")
                    .withRelated("coeqswankltytm")
                    .withResourceName("roznnhdrlktgj")))
            .withStatus(new ClusterStatusEntity().withPhase("guxhem").withCku(13572541))
            .create();

        Assertions.assertEquals("blycsxzujksr", response.kind());
        Assertions.assertEquals("esqplp", response.metadata().self());
        Assertions.assertEquals("jcdoewb", response.metadata().resourceName());
        Assertions.assertEquals("yvteowxvgpiudeu", response.metadata().createdTimestamp());
        Assertions.assertEquals("sxze", response.metadata().updatedTimestamp());
        Assertions.assertEquals("axwk", response.metadata().deletedTimestamp());
        Assertions.assertEquals("khvuhxepmrutz", response.spec().name());
        Assertions.assertEquals("baobn", response.spec().availability());
        Assertions.assertEquals("ujdjltymkmvg", response.spec().cloud());
        Assertions.assertEquals("hywartspph", response.spec().zone());
        Assertions.assertEquals(Package.ADVANCED, response.spec().packageProperty());
        Assertions.assertEquals("ykxdssjpemmuc", response.spec().region());
        Assertions.assertEquals("hikkflrmy", response.spec().kafkaBootstrapEndpoint());
        Assertions.assertEquals("incqlhriswsl", response.spec().httpEndpoint());
        Assertions.assertEquals("iiovgqcgxu", response.spec().apiEndpoint());
        Assertions.assertEquals("kctotiowlxteq", response.spec().config().kind());
        Assertions.assertEquals("jgwdtgukranbl", response.spec().environment().id());
        Assertions.assertEquals("hqlkccuzgygqwaho", response.spec().environment().environment());
        Assertions.assertEquals("lwgniiprglvawu", response.spec().environment().related());
        Assertions.assertEquals("d", response.spec().environment().resourceName());
        Assertions.assertEquals("pivlsbbjpm", response.spec().network().id());
        Assertions.assertEquals("bkmifoxxkub", response.spec().network().environment());
        Assertions.assertEquals("havpmhbrbqgvg", response.spec().network().related());
        Assertions.assertEquals("pbbttefjoknss", response.spec().network().resourceName());
        Assertions.assertEquals("qedikdfrd", response.spec().byok().id());
        Assertions.assertEquals("qmrjg", response.spec().byok().related());
        Assertions.assertEquals("hfqlgg", response.spec().byok().resourceName());
        Assertions.assertEquals("wzcxmjpbyephmgt", response.status().phase());
        Assertions.assertEquals(226193835, response.status().cku());
    }
}
