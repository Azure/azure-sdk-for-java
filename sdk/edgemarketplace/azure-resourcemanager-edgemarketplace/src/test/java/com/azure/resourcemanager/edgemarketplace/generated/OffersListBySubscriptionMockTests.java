// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.edgemarketplace.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.edgemarketplace.EdgeMarketplaceManager;
import com.azure.resourcemanager.edgemarketplace.models.Offer;
import com.azure.resourcemanager.edgemarketplace.models.OfferAvailability;
import com.azure.resourcemanager.edgemarketplace.models.OfferReleaseType;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class OffersListBySubscriptionMockTests {
    @Test
    public void testListBySubscription() throws Exception {
        String responseStr
            = "{\"value\":[{\"properties\":{\"contentVersion\":\"gymare\",\"contentUrl\":\"ajxq\",\"offerContent\":{\"displayName\":\"gjhkycubeddg\",\"summary\":\"ofwq\",\"longSummary\":\"qal\",\"description\":\"mnjijpxacqqudf\",\"offerId\":\"byxbaaabjy\",\"offerType\":\"yffimrzrtuzqogs\",\"supportUri\":\"nevfdnw\",\"popularity\":2059840008,\"offerPublisher\":{\"publisherId\":\"wzsyyceuzs\",\"publisherDisplayName\":\"i\"},\"availability\":\"Private\",\"releaseType\":\"GA\",\"iconFileUris\":{\"small\":\"xtrthz\",\"medium\":\"ytdw\",\"wide\":\"brqubp\",\"large\":\"h\"},\"termsAndConditions\":{\"legalTermsUri\":\"i\",\"legalTermsType\":\"vpdtiirqtdqoa\",\"privacyPolicyUri\":\"r\"},\"categoryIds\":[\"gsquyfxrxxlept\",\"amxjezwlw\"],\"operatingSystems\":[\"uqlcvydy\",\"atdooaojkniod\",\"oo\"]},\"provisioningState\":\"Canceled\",\"marketplaceSkus\":[{\"catalogPlanId\":\"jhemms\",\"marketplaceSkuId\":\"vdkcrodtj\",\"type\":\"fw\",\"displayName\":\"fltkacjv\",\"summary\":\"kdlfoa\",\"longSummary\":\"gkfpaga\",\"description\":\"pulpqblylsyxk\",\"generation\":\"nsj\",\"displayRank\":560645314,\"operatingSystem\":{\"family\":\"agxsdszuemps\",\"type\":\"kfzbeyvpnqicvi\",\"name\":\"v\"},\"marketplaceSkuVersions\":[{\"name\":\"xdxr\"},{\"name\":\"uukzclewyhmlw\"},{\"name\":\"aztz\"}]},{\"catalogPlanId\":\"ofncckwyfzqwhxxb\",\"marketplaceSkuId\":\"yq\",\"type\":\"zfeqztppri\",\"displayName\":\"xorjaltolmncwsob\",\"summary\":\"csdbnwdcfhuc\",\"longSummary\":\"pfuvglsbjjca\",\"description\":\"xbvtvudu\",\"generation\":\"cormr\",\"displayRank\":1360670450,\"operatingSystem\":{\"family\":\"cofudflvkgjub\",\"type\":\"knnqvsaznq\",\"name\":\"tor\"},\"marketplaceSkuVersions\":[{\"name\":\"gsahmkycgrauw\"},{\"name\":\"uetae\"},{\"name\":\"uruv\"}]},{\"catalogPlanId\":\"movsmzlxwabmqoe\",\"marketplaceSkuId\":\"kif\",\"type\":\"tpuqujmq\",\"displayName\":\"kfbtndoaongbjc\",\"summary\":\"ujitcjedftww\",\"longSummary\":\"zkoj\",\"description\":\"c\",\"generation\":\"foqouicybx\",\"displayRank\":490438503,\"operatingSystem\":{\"family\":\"zuf\",\"type\":\"ciqopidoa\",\"name\":\"ciodhkhaz\"},\"marketplaceSkuVersions\":[{\"name\":\"nz\"},{\"name\":\"onlwntoeg\"}]},{\"catalogPlanId\":\"kdwbwhkszz\",\"marketplaceSkuId\":\"mrv\",\"type\":\"ztvbtqgsfr\",\"displayName\":\"yzkoowtlmngu\",\"summary\":\"wqaldsyu\",\"longSummary\":\"imerqfobwyznk\",\"description\":\"kutwpf\",\"generation\":\"a\",\"displayRank\":71172193,\"operatingSystem\":{\"family\":\"kdsnfdsdoakgtdl\",\"type\":\"kzevdlhewpusds\",\"name\":\"twvogvbbe\"},\"marketplaceSkuVersions\":[{\"name\":\"ngqqmoakuf\"},{\"name\":\"m\"},{\"name\":\"zr\"},{\"name\":\"rdgrtw\"}]}]},\"id\":\"nuuzkopbm\",\"name\":\"nrfdw\",\"type\":\"yuhhziu\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        EdgeMarketplaceManager manager = EdgeMarketplaceManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        PagedIterable<Offer> response = manager.offers().listBySubscription(com.azure.core.util.Context.NONE);

        Assertions.assertEquals("gymare", response.iterator().next().properties().contentVersion());
        Assertions.assertEquals("ajxq", response.iterator().next().properties().contentUrl());
        Assertions.assertEquals("gjhkycubeddg", response.iterator().next().properties().offerContent().displayName());
        Assertions.assertEquals("ofwq", response.iterator().next().properties().offerContent().summary());
        Assertions.assertEquals("qal", response.iterator().next().properties().offerContent().longSummary());
        Assertions.assertEquals("mnjijpxacqqudf", response.iterator().next().properties().offerContent().description());
        Assertions.assertEquals("byxbaaabjy", response.iterator().next().properties().offerContent().offerId());
        Assertions.assertEquals("yffimrzrtuzqogs", response.iterator().next().properties().offerContent().offerType());
        Assertions.assertEquals("nevfdnw", response.iterator().next().properties().offerContent().supportUri());
        Assertions.assertEquals(2059840008, response.iterator().next().properties().offerContent().popularity());
        Assertions.assertEquals("wzsyyceuzs",
            response.iterator().next().properties().offerContent().offerPublisher().publisherId());
        Assertions.assertEquals("i",
            response.iterator().next().properties().offerContent().offerPublisher().publisherDisplayName());
        Assertions.assertEquals(OfferAvailability.PRIVATE,
            response.iterator().next().properties().offerContent().availability());
        Assertions.assertEquals(OfferReleaseType.GA,
            response.iterator().next().properties().offerContent().releaseType());
        Assertions.assertEquals("xtrthz",
            response.iterator().next().properties().offerContent().iconFileUris().small());
        Assertions.assertEquals("ytdw", response.iterator().next().properties().offerContent().iconFileUris().medium());
        Assertions.assertEquals("brqubp", response.iterator().next().properties().offerContent().iconFileUris().wide());
        Assertions.assertEquals("h", response.iterator().next().properties().offerContent().iconFileUris().large());
        Assertions.assertEquals("i",
            response.iterator().next().properties().offerContent().termsAndConditions().legalTermsUri());
        Assertions.assertEquals("vpdtiirqtdqoa",
            response.iterator().next().properties().offerContent().termsAndConditions().legalTermsType());
        Assertions.assertEquals("r",
            response.iterator().next().properties().offerContent().termsAndConditions().privacyPolicyUri());
        Assertions.assertEquals("gsquyfxrxxlept",
            response.iterator().next().properties().offerContent().categoryIds().get(0));
        Assertions.assertEquals("uqlcvydy",
            response.iterator().next().properties().offerContent().operatingSystems().get(0));
        Assertions.assertEquals("jhemms",
            response.iterator().next().properties().marketplaceSkus().get(0).catalogPlanId());
        Assertions.assertEquals("vdkcrodtj",
            response.iterator().next().properties().marketplaceSkus().get(0).marketplaceSkuId());
        Assertions.assertEquals("fw", response.iterator().next().properties().marketplaceSkus().get(0).type());
        Assertions.assertEquals("fltkacjv",
            response.iterator().next().properties().marketplaceSkus().get(0).displayName());
        Assertions.assertEquals("kdlfoa", response.iterator().next().properties().marketplaceSkus().get(0).summary());
        Assertions.assertEquals("gkfpaga",
            response.iterator().next().properties().marketplaceSkus().get(0).longSummary());
        Assertions.assertEquals("pulpqblylsyxk",
            response.iterator().next().properties().marketplaceSkus().get(0).description());
        Assertions.assertEquals("nsj", response.iterator().next().properties().marketplaceSkus().get(0).generation());
        Assertions.assertEquals(560645314,
            response.iterator().next().properties().marketplaceSkus().get(0).displayRank());
        Assertions.assertEquals("agxsdszuemps",
            response.iterator().next().properties().marketplaceSkus().get(0).operatingSystem().family());
        Assertions.assertEquals("kfzbeyvpnqicvi",
            response.iterator().next().properties().marketplaceSkus().get(0).operatingSystem().type());
        Assertions.assertEquals("v",
            response.iterator().next().properties().marketplaceSkus().get(0).operatingSystem().name());
        Assertions.assertEquals("xdxr",
            response.iterator().next().properties().marketplaceSkus().get(0).marketplaceSkuVersions().get(0).name());
    }
}
