// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.
package com.azure.ai.contentunderstanding.models;

import com.azure.core.annotation.Generated;
import com.azure.core.annotation.Immutable;
import com.azure.json.JsonReader;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import java.io.IOException;
import java.util.List;
import java.util.Map;

/**
 * Audio visual content. Ex. audio/wav, video/mp4.
 */
@Immutable
public final class AudioVisualContent extends MediaContent {

    /*
     * Content kind.
     */
    @Generated
    private MediaContentKind kind = MediaContentKind.AUDIO_VISUAL;

    /*
     * Start time of the content in milliseconds.
     */
    @Generated
    private final long startTimeMs;

    /*
     * End time of the content in milliseconds.
     */
    @Generated
    private final long endTimeMs;

    /*
     * Width of each video frame in pixels, if applicable.
     */
    @Generated
    private Integer width;

    /*
     * Height of each video frame in pixels, if applicable.
     */
    @Generated
    private Integer height;

    /*
     * List of camera shot changes in the video, represented by its timestamp in milliseconds. Only if returnDetails is
     * true.
     */
    @Generated
    private List<Long> cameraShotTimesMs;

    /*
     * List of key frames in the video, represented by its timestamp in milliseconds. Only if returnDetails is true.
     */
    @Generated
    private List<Long> keyFrameTimesMs;

    /*
     * List of transcript phrases. Only if returnDetails is true.
     */
    @Generated
    private List<TranscriptPhrase> transcriptPhrases;

    /*
     * List of detected content segments. Only if enableSegment is true.
     */
    @Generated
    private List<AudioVisualContentSegment> segments;

    /**
     * Creates an instance of AudioVisualContent class.
     *
     * @param mimeType the mimeType value to set.
     * @param startTimeMs the startTimeMs value to set.
     * @param endTimeMs the endTimeMs value to set.
     */
    @Generated
    private AudioVisualContent(String mimeType, long startTimeMs, long endTimeMs) {
        super(mimeType);
        this.startTimeMs = startTimeMs;
        this.endTimeMs = endTimeMs;
    }

    /**
     * Get the kind property: Content kind.
     *
     * @return the kind value.
     */
    @Generated
    @Override
    public MediaContentKind getKind() {
        return this.kind;
    }

    /**
     * Get the startTimeMs property: Start time of the content in milliseconds.
     *
     * @return the startTimeMs value.
     */
    @Generated
    public long getStartTimeMs() {
        return this.startTimeMs;
    }

    /**
     * Get the endTimeMs property: End time of the content in milliseconds.
     *
     * @return the endTimeMs value.
     */
    @Generated
    public long getEndTimeMs() {
        return this.endTimeMs;
    }

    /**
     * Get the width property: Width of each video frame in pixels, if applicable.
     *
     * @return the width value.
     */
    @Generated
    public Integer getWidth() {
        return this.width;
    }

    /**
     * Get the height property: Height of each video frame in pixels, if applicable.
     *
     * @return the height value.
     */
    @Generated
    public Integer getHeight() {
        return this.height;
    }

    /**
     * Get the cameraShotTimesMs property: List of camera shot changes in the video, represented by its timestamp in
     * milliseconds. Only if returnDetails is true.
     *
     * @return the cameraShotTimesMs value.
     */
    @Generated
    public List<Long> getCameraShotTimesMs() {
        return this.cameraShotTimesMs;
    }

    /**
     * Get the keyFrameTimesMs property: List of key frames in the video, represented by its timestamp in milliseconds.
     * Only if returnDetails is true.
     *
     * @return the keyFrameTimesMs value.
     */
    @Generated
    public List<Long> getKeyFrameTimesMs() {
        return this.keyFrameTimesMs;
    }

    /**
     * Get the transcriptPhrases property: List of transcript phrases. Only if returnDetails is true.
     *
     * @return the transcriptPhrases value.
     */
    @Generated
    public List<TranscriptPhrase> getTranscriptPhrases() {
        return this.transcriptPhrases;
    }

    /**
     * Get the segments property: List of detected content segments. Only if enableSegment is true.
     *
     * @return the segments value.
     */
    @Generated
    public List<AudioVisualContentSegment> getSegments() {
        return this.segments;
    }

    /**
     * {@inheritDoc}
     */
    @Generated
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeStringField("mimeType", getMimeType());
        jsonWriter.writeStringField("analyzerId", getAnalyzerId());
        jsonWriter.writeStringField("category", getCategory());
        jsonWriter.writeStringField("path", getPath());
        jsonWriter.writeStringField("markdown", getMarkdown());
        jsonWriter.writeMapField("fields", getFields(), (writer, element) -> writer.writeJson(element));
        jsonWriter.writeLongField("startTimeMs", this.startTimeMs);
        jsonWriter.writeLongField("endTimeMs", this.endTimeMs);
        jsonWriter.writeStringField("kind", this.kind == null ? null : this.kind.toString());
        jsonWriter.writeNumberField("width", this.width);
        jsonWriter.writeNumberField("height", this.height);
        jsonWriter.writeArrayField("cameraShotTimesMs", this.cameraShotTimesMs,
            (writer, element) -> writer.writeLong(element));
        jsonWriter.writeArrayField("keyFrameTimesMs", this.keyFrameTimesMs,
            (writer, element) -> writer.writeLong(element));
        jsonWriter.writeArrayField("transcriptPhrases", this.transcriptPhrases,
            (writer, element) -> writer.writeJson(element));
        jsonWriter.writeArrayField("segments", this.segments, (writer, element) -> writer.writeJson(element));
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of AudioVisualContent from the JsonReader.
     *
     * @param jsonReader The JsonReader being read.
     * @return An instance of AudioVisualContent if the JsonReader was pointing to an instance of it, or null if it was
     * pointing to JSON null.
     * @throws IllegalStateException If the deserialized JSON object was missing any required properties.
     * @throws IOException If an error occurs while reading the AudioVisualContent.
     */
    @Generated
    public static AudioVisualContent fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            String mimeType = null;
            String analyzerId = null;
            String category = null;
            String path = null;
            String markdown = null;
            Map<String, ContentField> fields = null;
            long startTimeMs = 0L;
            long endTimeMs = 0L;
            MediaContentKind kind = MediaContentKind.AUDIO_VISUAL;
            Integer width = null;
            Integer height = null;
            List<Long> cameraShotTimesMs = null;
            List<Long> keyFrameTimesMs = null;
            List<TranscriptPhrase> transcriptPhrases = null;
            List<AudioVisualContentSegment> segments = null;
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();
                if ("mimeType".equals(fieldName)) {
                    mimeType = reader.getString();
                } else if ("analyzerId".equals(fieldName)) {
                    analyzerId = reader.getString();
                } else if ("category".equals(fieldName)) {
                    category = reader.getString();
                } else if ("path".equals(fieldName)) {
                    path = reader.getString();
                } else if ("markdown".equals(fieldName)) {
                    markdown = reader.getString();
                } else if ("fields".equals(fieldName)) {
                    fields = reader.readMap(reader1 -> ContentField.fromJson(reader1));
                } else if ("startTimeMs".equals(fieldName)) {
                    startTimeMs = reader.getLong();
                } else if ("endTimeMs".equals(fieldName)) {
                    endTimeMs = reader.getLong();
                } else if ("kind".equals(fieldName)) {
                    kind = MediaContentKind.fromString(reader.getString());
                } else if ("width".equals(fieldName)) {
                    width = reader.getNullable(JsonReader::getInt);
                } else if ("height".equals(fieldName)) {
                    height = reader.getNullable(JsonReader::getInt);
                } else if ("cameraShotTimesMs".equals(fieldName)) {
                    cameraShotTimesMs = reader.readArray(reader1 -> reader1.getLong());
                } else if ("keyFrameTimesMs".equals(fieldName)) {
                    keyFrameTimesMs = reader.readArray(reader1 -> reader1.getLong());
                } else if ("transcriptPhrases".equals(fieldName)) {
                    transcriptPhrases = reader.readArray(reader1 -> TranscriptPhrase.fromJson(reader1));
                } else if ("segments".equals(fieldName)) {
                    segments = reader.readArray(reader1 -> AudioVisualContentSegment.fromJson(reader1));
                } else {
                    reader.skipChildren();
                }
            }
            AudioVisualContent deserializedAudioVisualContent
                = new AudioVisualContent(mimeType, startTimeMs, endTimeMs);
            deserializedAudioVisualContent.setAnalyzerId(analyzerId);
            deserializedAudioVisualContent.setCategory(category);
            deserializedAudioVisualContent.setPath(path);
            deserializedAudioVisualContent.setMarkdown(markdown);
            deserializedAudioVisualContent.setFields(fields);
            deserializedAudioVisualContent.kind = kind;
            deserializedAudioVisualContent.width = width;
            deserializedAudioVisualContent.height = height;
            deserializedAudioVisualContent.cameraShotTimesMs = cameraShotTimesMs;
            deserializedAudioVisualContent.keyFrameTimesMs = keyFrameTimesMs;
            deserializedAudioVisualContent.transcriptPhrases = transcriptPhrases;
            deserializedAudioVisualContent.segments = segments;
            return deserializedAudioVisualContent;
        });
    }
}
