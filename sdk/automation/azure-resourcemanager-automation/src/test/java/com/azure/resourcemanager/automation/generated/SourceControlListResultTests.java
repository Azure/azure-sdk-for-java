// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.automation.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.automation.fluent.models.SourceControlInner;
import com.azure.resourcemanager.automation.models.SourceControlListResult;
import com.azure.resourcemanager.automation.models.SourceType;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class SourceControlListResultTests {
    @Test
    public void testDeserialize() {
        SourceControlListResult model =
            BinaryData
                .fromString(
                    "{\"value\":[{\"properties\":{\"repoUrl\":\"apqinf\",\"branch\":\"pyglqdhmrjzral\",\"folderPath\":\"pjby\",\"autoSync\":true,\"publishRunbook\":false,\"sourceType\":\"GitHub\",\"description\":\"enky\",\"creationTime\":\"2021-08-02T03:08:23Z\",\"lastModifiedTime\":\"2021-08-21T02:34:59Z\"},\"id\":\"qxfx\",\"name\":\"elgcmpzqjhhhqx\",\"type\":\"w\"},{\"properties\":{\"repoUrl\":\"acoyvivbsizusjs\",\"branch\":\"bscm\",\"folderPath\":\"zijiufehgmv\",\"autoSync\":false,\"publishRunbook\":false,\"sourceType\":\"GitHub\",\"description\":\"xrerlniylylyf\",\"creationTime\":\"2021-07-06T13:46:49Z\",\"lastModifiedTime\":\"2021-10-13T07:30Z\"},\"id\":\"gqztwhghmupgx\",\"name\":\"jtcdxabbujftaben\",\"type\":\"bklqpxz\"}],\"nextLink\":\"afeddwwnlza\"}")
                .toObject(SourceControlListResult.class);
        Assertions.assertEquals("apqinf", model.value().get(0).repoUrl());
        Assertions.assertEquals("pyglqdhmrjzral", model.value().get(0).branch());
        Assertions.assertEquals("pjby", model.value().get(0).folderPath());
        Assertions.assertEquals(true, model.value().get(0).autoSync());
        Assertions.assertEquals(false, model.value().get(0).publishRunbook());
        Assertions.assertEquals(SourceType.GIT_HUB, model.value().get(0).sourceType());
        Assertions.assertEquals("enky", model.value().get(0).description());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-02T03:08:23Z"), model.value().get(0).creationTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-21T02:34:59Z"), model.value().get(0).lastModifiedTime());
        Assertions.assertEquals("afeddwwnlza", model.nextLink());
    }

    @Test
    public void testSerialize() {
        SourceControlListResult model =
            new SourceControlListResult()
                .withValue(
                    Arrays
                        .asList(
                            new SourceControlInner()
                                .withRepoUrl("apqinf")
                                .withBranch("pyglqdhmrjzral")
                                .withFolderPath("pjby")
                                .withAutoSync(true)
                                .withPublishRunbook(false)
                                .withSourceType(SourceType.GIT_HUB)
                                .withDescription("enky")
                                .withCreationTime(OffsetDateTime.parse("2021-08-02T03:08:23Z"))
                                .withLastModifiedTime(OffsetDateTime.parse("2021-08-21T02:34:59Z")),
                            new SourceControlInner()
                                .withRepoUrl("acoyvivbsizusjs")
                                .withBranch("bscm")
                                .withFolderPath("zijiufehgmv")
                                .withAutoSync(false)
                                .withPublishRunbook(false)
                                .withSourceType(SourceType.GIT_HUB)
                                .withDescription("xrerlniylylyf")
                                .withCreationTime(OffsetDateTime.parse("2021-07-06T13:46:49Z"))
                                .withLastModifiedTime(OffsetDateTime.parse("2021-10-13T07:30Z"))))
                .withNextLink("afeddwwnlza");
        model = BinaryData.fromObject(model).toObject(SourceControlListResult.class);
        Assertions.assertEquals("apqinf", model.value().get(0).repoUrl());
        Assertions.assertEquals("pyglqdhmrjzral", model.value().get(0).branch());
        Assertions.assertEquals("pjby", model.value().get(0).folderPath());
        Assertions.assertEquals(true, model.value().get(0).autoSync());
        Assertions.assertEquals(false, model.value().get(0).publishRunbook());
        Assertions.assertEquals(SourceType.GIT_HUB, model.value().get(0).sourceType());
        Assertions.assertEquals("enky", model.value().get(0).description());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-02T03:08:23Z"), model.value().get(0).creationTime());
        Assertions.assertEquals(OffsetDateTime.parse("2021-08-21T02:34:59Z"), model.value().get(0).lastModifiedTime());
        Assertions.assertEquals("afeddwwnlza", model.nextLink());
    }
}
