// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.automation.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.automation.models.AzureQueryProperties;
import com.azure.resourcemanager.automation.models.LinuxProperties;
import com.azure.resourcemanager.automation.models.LinuxUpdateClasses;
import com.azure.resourcemanager.automation.models.NonAzureQueryProperties;
import com.azure.resourcemanager.automation.models.OperatingSystemType;
import com.azure.resourcemanager.automation.models.TargetProperties;
import com.azure.resourcemanager.automation.models.UpdateConfiguration;
import com.azure.resourcemanager.automation.models.WindowsProperties;
import com.azure.resourcemanager.automation.models.WindowsUpdateClasses;
import java.time.Duration;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class UpdateConfigurationTests {
    @Test
    public void testDeserialize() {
        UpdateConfiguration model =
            BinaryData
                .fromString(
                    "{\"operatingSystem\":\"Linux\",\"windows\":{\"includedUpdateClassifications\":\"ServicePack\",\"excludedKbNumbers\":[\"y\"],\"includedKbNumbers\":[\"olpsslqlf\",\"mdnbbglzpswiy\"],\"rebootSetting\":\"cwyhzdxssa\"},\"linux\":{\"includedPackageClassifications\":\"Critical\",\"excludedPackageNameMasks\":[\"dfznudaodv\",\"zbn\",\"blylpstdbh\",\"xsrz\"],\"includedPackageNameMasks\":[\"cers\",\"dntnevf\",\"wjmy\",\"tdss\"],\"rebootSetting\":\"wtmwerio\"},\"duration\":\"PT43H10M9S\",\"azureVirtualMachines\":[\"semwabnet\",\"hhszh\",\"d\"],\"nonAzureComputerNames\":[\"wiwubm\",\"mbes\",\"dnkwwtppjflcxog\",\"okonzmnsikvmkqz\"],\"targets\":{\"azureQueries\":[{\"scope\":[],\"locations\":[]},{\"scope\":[],\"locations\":[]},{\"scope\":[],\"locations\":[]},{\"scope\":[],\"locations\":[]}],\"nonAzureQueries\":[{\"functionAlias\":\"odkwobd\",\"workspaceId\":\"xtibqdxbxwakbog\"}]}}")
                .toObject(UpdateConfiguration.class);
        Assertions.assertEquals(OperatingSystemType.LINUX, model.operatingSystem());
        Assertions.assertEquals(WindowsUpdateClasses.SERVICE_PACK, model.windows().includedUpdateClassifications());
        Assertions.assertEquals("y", model.windows().excludedKbNumbers().get(0));
        Assertions.assertEquals("olpsslqlf", model.windows().includedKbNumbers().get(0));
        Assertions.assertEquals("cwyhzdxssa", model.windows().rebootSetting());
        Assertions.assertEquals(LinuxUpdateClasses.CRITICAL, model.linux().includedPackageClassifications());
        Assertions.assertEquals("dfznudaodv", model.linux().excludedPackageNameMasks().get(0));
        Assertions.assertEquals("cers", model.linux().includedPackageNameMasks().get(0));
        Assertions.assertEquals("wtmwerio", model.linux().rebootSetting());
        Assertions.assertEquals(Duration.parse("PT43H10M9S"), model.duration());
        Assertions.assertEquals("semwabnet", model.azureVirtualMachines().get(0));
        Assertions.assertEquals("wiwubm", model.nonAzureComputerNames().get(0));
        Assertions.assertEquals("odkwobd", model.targets().nonAzureQueries().get(0).functionAlias());
        Assertions.assertEquals("xtibqdxbxwakbog", model.targets().nonAzureQueries().get(0).workspaceId());
    }

    @Test
    public void testSerialize() {
        UpdateConfiguration model =
            new UpdateConfiguration()
                .withOperatingSystem(OperatingSystemType.LINUX)
                .withWindows(
                    new WindowsProperties()
                        .withIncludedUpdateClassifications(WindowsUpdateClasses.SERVICE_PACK)
                        .withExcludedKbNumbers(Arrays.asList("y"))
                        .withIncludedKbNumbers(Arrays.asList("olpsslqlf", "mdnbbglzpswiy"))
                        .withRebootSetting("cwyhzdxssa"))
                .withLinux(
                    new LinuxProperties()
                        .withIncludedPackageClassifications(LinuxUpdateClasses.CRITICAL)
                        .withExcludedPackageNameMasks(Arrays.asList("dfznudaodv", "zbn", "blylpstdbh", "xsrz"))
                        .withIncludedPackageNameMasks(Arrays.asList("cers", "dntnevf", "wjmy", "tdss"))
                        .withRebootSetting("wtmwerio"))
                .withDuration(Duration.parse("PT43H10M9S"))
                .withAzureVirtualMachines(Arrays.asList("semwabnet", "hhszh", "d"))
                .withNonAzureComputerNames(Arrays.asList("wiwubm", "mbes", "dnkwwtppjflcxog", "okonzmnsikvmkqz"))
                .withTargets(
                    new TargetProperties()
                        .withAzureQueries(
                            Arrays
                                .asList(
                                    new AzureQueryProperties()
                                        .withScope(Arrays.asList())
                                        .withLocations(Arrays.asList()),
                                    new AzureQueryProperties()
                                        .withScope(Arrays.asList())
                                        .withLocations(Arrays.asList()),
                                    new AzureQueryProperties()
                                        .withScope(Arrays.asList())
                                        .withLocations(Arrays.asList()),
                                    new AzureQueryProperties()
                                        .withScope(Arrays.asList())
                                        .withLocations(Arrays.asList())))
                        .withNonAzureQueries(
                            Arrays
                                .asList(
                                    new NonAzureQueryProperties()
                                        .withFunctionAlias("odkwobd")
                                        .withWorkspaceId("xtibqdxbxwakbog"))));
        model = BinaryData.fromObject(model).toObject(UpdateConfiguration.class);
        Assertions.assertEquals(OperatingSystemType.LINUX, model.operatingSystem());
        Assertions.assertEquals(WindowsUpdateClasses.SERVICE_PACK, model.windows().includedUpdateClassifications());
        Assertions.assertEquals("y", model.windows().excludedKbNumbers().get(0));
        Assertions.assertEquals("olpsslqlf", model.windows().includedKbNumbers().get(0));
        Assertions.assertEquals("cwyhzdxssa", model.windows().rebootSetting());
        Assertions.assertEquals(LinuxUpdateClasses.CRITICAL, model.linux().includedPackageClassifications());
        Assertions.assertEquals("dfznudaodv", model.linux().excludedPackageNameMasks().get(0));
        Assertions.assertEquals("cers", model.linux().includedPackageNameMasks().get(0));
        Assertions.assertEquals("wtmwerio", model.linux().rebootSetting());
        Assertions.assertEquals(Duration.parse("PT43H10M9S"), model.duration());
        Assertions.assertEquals("semwabnet", model.azureVirtualMachines().get(0));
        Assertions.assertEquals("wiwubm", model.nonAzureComputerNames().get(0));
        Assertions.assertEquals("odkwobd", model.targets().nonAzureQueries().get(0).functionAlias());
        Assertions.assertEquals("xtibqdxbxwakbog", model.targets().nonAzureQueries().get(0).workspaceId());
    }
}
