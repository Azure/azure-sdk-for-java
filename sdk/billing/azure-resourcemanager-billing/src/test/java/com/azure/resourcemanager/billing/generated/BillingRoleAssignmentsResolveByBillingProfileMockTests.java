// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.billing.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.billing.BillingManager;
import com.azure.resourcemanager.billing.models.BillingRoleAssignmentListResult;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class BillingRoleAssignmentsResolveByBillingProfileMockTests {
    @Test
    public void testResolveByBillingProfile() throws Exception {
        String responseStr
            = "{\"nextLink\":\"cpskgrhnyts\",\"value\":[{\"properties\":{\"provisioningState\":\"PendingBilling\",\"createdOn\":\"2021-10-27T14:21:10Z\",\"createdByPrincipalTenantId\":\"ghxhkyqzjsdkpvn\",\"createdByPrincipalId\":\"zwpf\",\"createdByPrincipalPuid\":\"sfybntmvehohf\",\"createdByUserEmailAddress\":\"uvbgtzqzqweuy\",\"modifiedOn\":\"2021-06-24T08:43:46Z\",\"modifiedByPrincipalPuid\":\"airvhpqsv\",\"modifiedByUserEmailAddress\":\"eoge\",\"modifiedByPrincipalId\":\"rcn\",\"modifiedByPrincipalTenantId\":\"vncprfc\",\"principalPuid\":\"vjnkoiz\",\"principalId\":\"sqbibaa\",\"principalTenantId\":\"icovj\",\"roleDefinitionId\":\"mvwrmjxyvuodnx\",\"scope\":\"bassqfyylwpp\",\"userAuthenticationType\":\"gkbzbloas\",\"userEmailAddress\":\"xhqvovdpmht\",\"principalTenantName\":\"vsqjs\",\"principalDisplayName\":\"jnqtaqg\",\"principalType\":\"Unknown\",\"billingRequestId\":\"kceincnrec\",\"billingAccountId\":\"iywevsfg\",\"billingAccountDisplayName\":\"mnszdosmjsqsvzvm\",\"billingProfileId\":\"cwghndaevhgsulw\",\"billingProfileDisplayName\":\"seufig\",\"invoiceSectionId\":\"jjuzk\",\"invoiceSectionDisplayName\":\"mciwu\",\"customerId\":\"zekypyovljlbzd\",\"customerDisplayName\":\"ybpaxhpzysovsnw\"},\"tags\":{\"ag\":\"nzgesfhs\",\"zpbyfyvynpmggq\":\"ahn\"},\"id\":\"g\",\"name\":\"nvqbugihcdvfoiz\",\"type\":\"r\"},{\"properties\":{\"provisioningState\":\"PendingBilling\",\"createdOn\":\"2021-01-12T15:23:43Z\",\"createdByPrincipalTenantId\":\"axz\",\"createdByPrincipalId\":\"qwvdepp\",\"createdByPrincipalPuid\":\"aphifkfrpm\",\"createdByUserEmailAddress\":\"ubpebrm\",\"modifiedOn\":\"2021-10-07T01:34:45Z\",\"modifiedByPrincipalPuid\":\"p\",\"modifiedByUserEmailAddress\":\"tbttpkimskhnkkh\",\"modifiedByPrincipalId\":\"krsmhrcmely\",\"modifiedByPrincipalTenantId\":\"gokuthrvybnz\",\"principalPuid\":\"vmshfuzzlapyi\",\"principalId\":\"vzcgulaebxia\",\"principalTenantId\":\"suptessjlwjt\",\"roleDefinitionId\":\"tpvb\",\"scope\":\"kx\",\"userAuthenticationType\":\"qaygas\",\"userEmailAddress\":\"vc\",\"principalTenantName\":\"pvlcjbvyez\",\"principalDisplayName\":\"jkqonbw\",\"principalType\":\"Everyone\",\"billingRequestId\":\"yozvrcwfpucw\",\"billingAccountId\":\"cgq\",\"billingAccountDisplayName\":\"gzjvbxqcbgoa\",\"billingProfileId\":\"tuuciagvkd\",\"billingProfileDisplayName\":\"uduklbjoafmj\",\"invoiceSectionId\":\"xul\",\"invoiceSectionDisplayName\":\"epkna\",\"customerId\":\"eiancsqoac\",\"customerDisplayName\":\"qdgsapleqfgkxen\"},\"tags\":{\"qcwggchxvl\":\"glvyakeszsuuvul\"},\"id\":\"fbrvecicaovphirl\",\"name\":\"bipiunn\",\"type\":\"pkwzzzkueruwcj\"},{\"properties\":{\"provisioningState\":\"Failed\",\"createdOn\":\"2021-05-31T11:47:01Z\",\"createdByPrincipalTenantId\":\"a\",\"createdByPrincipalId\":\"ttwyk\",\"createdByPrincipalPuid\":\"vbwofxxdplre\",\"createdByUserEmailAddress\":\"kvgahcbtu\",\"modifiedOn\":\"2021-01-29T10:37:45Z\",\"modifiedByPrincipalPuid\":\"xrhrfjenraz\",\"modifiedByUserEmailAddress\":\"fiktlhqa\",\"modifiedByPrincipalId\":\"tostjixyzsecig\",\"modifiedByPrincipalTenantId\":\"dwjtacfvvtd\",\"principalPuid\":\"bpzfomcsaugbrh\",\"principalId\":\"wltkfysuntethklx\",\"principalTenantId\":\"cvasyyh\",\"roleDefinitionId\":\"qokjbmsrk\",\"scope\":\"yxxhwrlqom\",\"userAuthenticationType\":\"syilpzzbrwnrzoz\",\"userEmailAddress\":\"agysokl\",\"principalTenantName\":\"ksybvrrbnhylsb\",\"principalDisplayName\":\"jcydyllmxvp\",\"principalType\":\"User\",\"billingRequestId\":\"syqagqllcbrvai\",\"billingAccountId\":\"lkyhtrrqwfyybpt\",\"billingAccountDisplayName\":\"jrnogykugdl\",\"billingProfileId\":\"sav\",\"billingProfileDisplayName\":\"hk\",\"invoiceSectionId\":\"geuufkb\",\"invoiceSectionDisplayName\":\"fbxjblajybdnb\",\"customerId\":\"sbtoisazdjmo\",\"customerDisplayName\":\"vpz\"},\"tags\":{\"wtmszcfyzq\":\"ywxuymlfjym\",\"re\":\"e\"},\"id\":\"urd\",\"name\":\"agknxmaovrg\",\"type\":\"hlnzffew\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        BillingManager manager = BillingManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        BillingRoleAssignmentListResult response = manager.billingRoleAssignments()
            .resolveByBillingProfile("pgve", "robujnjgybuxm", false, "igidulln", com.azure.core.util.Context.NONE);

    }
}
