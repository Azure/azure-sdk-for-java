// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.billing.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.billing.BillingManager;
import com.azure.resourcemanager.billing.models.AutoRenew;
import com.azure.resourcemanager.billing.models.BillingSubscriptionAlias;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class BillingSubscriptionsAliasesGetWithResponseMockTests {
    @Test
    public void testGetWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"billingSubscriptionId\":\"usgiikhrcthype\",\"autoRenew\":\"Off\",\"beneficiaryTenantId\":\"mrdiscsdvkymkt\",\"beneficiary\":{\"tenantId\":\"ivoxgzegnglafnf\",\"objectId\":\"zaghddc\"},\"billingFrequency\":\"wxuxor\",\"billingProfileId\":\"tuhvemg\",\"billingPolicies\":{\"vwxlxo\":\"solqy\",\"vgdojcvzfcmxmjp\":\"vrkqv\"},\"billingProfileDisplayName\":\"kjd\",\"billingProfileName\":\"odo\",\"consumptionCostCenter\":\"q\",\"customerId\":\"xnyx\",\"customerDisplayName\":\"qdsq\",\"customerName\":\"i\",\"displayName\":\"t\",\"enrollmentAccountId\":\"kdi\",\"enrollmentAccountDisplayName\":\"xsq\",\"enrollmentAccountSubscriptionDetails\":{\"enrollmentAccountStartDate\":\"2021-08-01T21:41:59Z\",\"subscriptionEnrollmentAccountStatus\":\"Inactive\"},\"invoiceSectionId\":\"oih\",\"invoiceSectionDisplayName\":\"ajdtacvsynssxyls\",\"invoiceSectionName\":\"oadoh\",\"lastMonthCharges\":{\"currency\":\"iehkxgfu\",\"value\":54.3503},\"monthToDateCharges\":{\"currency\":\"kwlxqdsxip\",\"value\":39.552177},\"nextBillingCycleDetails\":{\"billingFrequency\":\"itfzpwwgzeylzp\"},\"offerId\":\"mxacr\",\"productCategory\":\"joygyn\",\"productType\":\"x\",\"productTypeId\":\"bbnu\",\"purchaseDate\":\"2021-10-17T01:30:27Z\",\"quantity\":6130120033082156320,\"reseller\":{\"resellerId\":\"uvqbeyxwrmupzpe\",\"description\":\"bhgjajkvwkocx\"},\"renewalTermDetails\":{\"billingFrequency\":\"zllvna\",\"productId\":\"gvlpgfygenfakyb\",\"productTypeId\":\"sihzqi\",\"skuId\":\"ymppglxjsfgb\",\"termDuration\":\"tsaz\",\"quantity\":1606556247356044252,\"termEndDate\":\"2021-04-18T15:04:41Z\"},\"skuId\":\"rukhqbu\",\"skuDescription\":\"rbdkgqdmvvvj\",\"systemOverrides\":{\"cancellation\":\"NotAllowed\",\"cancellationAllowedEndDate\":\"2021-06-21T12:28:13Z\"},\"resourceUri\":\"uvsveamseauu\",\"termDuration\":\"hx\",\"termStartDate\":\"2021-11-25T19:33:44Z\",\"termEndDate\":\"2021-09-30T13:07:54Z\",\"provisioningTenantId\":\"ufzu\",\"status\":\"Suspended\",\"operationStatus\":\"LockedForUpdate\",\"provisioningState\":\"Succeeded\",\"subscriptionId\":\"mtyosdpxtsdy\",\"suspensionReasons\":[\"efvwgwphwxi\"],\"suspensionReasonDetails\":[{\"effectiveDate\":\"2021-01-28T15:08:34Z\",\"reason\":\"None\"},{\"effectiveDate\":\"2021-01-20T12:35:22Z\",\"reason\":\"SuspiciousActivity\"},{\"effectiveDate\":\"2021-09-27T18:11:40Z\",\"reason\":\"Transferred\"},{\"effectiveDate\":\"2021-04-15T08:30:28Z\",\"reason\":\"Other\"}]},\"tags\":{\"alphkgminhec\":\"lkjsvkbtmli\"},\"id\":\"djdjmsngmluy\",\"name\":\"lkpism\",\"type\":\"rmrjpjthi\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        BillingManager manager = BillingManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        BillingSubscriptionAlias response = manager.billingSubscriptionsAliases()
            .getWithResponse("hyvdbrdvsv", "hbtyc", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals("lkjsvkbtmli", response.tags().get("alphkgminhec"));
        Assertions.assertEquals(AutoRenew.OFF, response.autoRenew());
        Assertions.assertEquals("mrdiscsdvkymkt", response.beneficiaryTenantId());
        Assertions.assertEquals("ivoxgzegnglafnf", response.beneficiary().tenantId());
        Assertions.assertEquals("zaghddc", response.beneficiary().objectId());
        Assertions.assertEquals("wxuxor", response.billingFrequency());
        Assertions.assertEquals("tuhvemg", response.billingProfileId());
        Assertions.assertEquals("q", response.consumptionCostCenter());
        Assertions.assertEquals("xnyx", response.customerId());
        Assertions.assertEquals("t", response.displayName());
        Assertions.assertEquals("oih", response.invoiceSectionId());
        Assertions.assertEquals("bbnu", response.productTypeId());
        Assertions.assertEquals(6130120033082156320L, response.quantity());
        Assertions.assertEquals("rukhqbu", response.skuId());
        Assertions.assertEquals("hx", response.termDuration());
        Assertions.assertEquals("ufzu", response.provisioningTenantId());
    }
}
