trigger: none
pr: none

steps:
  - task: Maven@3
    displayName: 'Run tests'
    inputs:
      mavenPomFile: sdk/spring/pom.xml
      options: '$(DefaultTestOptions) -DAZURE_TEST_DEBUG=$(IsDebug) -Dparallel-test-playback=${{ parameters.ParallelTestPlayback }} ${{ parameters.TestOptions }} -T ${{ parameters.TestParallelization }}'
      mavenOptions: '$(MemoryOptions) $(LoggingOptions)'
      javaHomeOption: 'JDKVersion'
      jdkVersionOption: $(JavaTestVersion)
      jdkArchitectureOption: 'x64'
      publishJUnitResults: false
      goals: ${{ parameters.TestGoals }}
    env: ${{ parameters.TestEnvVars }}
    # we want to run this when TestFromSource isn't true
    condition: and(succeeded(), ne(variables['TestFromSource'], 'true'))