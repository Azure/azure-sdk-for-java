services:
  eventhubs:
    image: mcr.microsoft.com/azure-messaging/eventhubs-emulator:latest
    pull_policy: always
    volumes:
      # Mount the emulator configuration to the path expected by the emulator image
      - "./Config.json:/Eventhubs_Emulator/ConfigFiles/Config.json"
    ports:
      # Publish AMQP port to host to make readiness probing stable
      - "5672:5672"
    environment:
      ACCEPT_EULA: Y
    networks:
      eh-emulator:
        aliases:
          - "eh-emulator"

networks:
    eh-emulator:
