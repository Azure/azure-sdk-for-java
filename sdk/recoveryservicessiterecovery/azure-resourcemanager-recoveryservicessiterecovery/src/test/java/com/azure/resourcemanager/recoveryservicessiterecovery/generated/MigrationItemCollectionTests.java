// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservicessiterecovery.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicessiterecovery.fluent.models.MigrationItemInner;
import com.azure.resourcemanager.recoveryservicessiterecovery.models.MigrationItemCollection;
import com.azure.resourcemanager.recoveryservicessiterecovery.models.MigrationItemProperties;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class MigrationItemCollectionTests {
    @Test
    public void testDeserialize() {
        MigrationItemCollection model =
            BinaryData
                .fromString(
                    "{\"value\":[{\"properties\":{\"machineName\":\"vpesapskrdqmhjjd\",\"policyId\":\"ldwkyzxuutkn\",\"policyFriendlyName\":\"scwsv\",\"recoveryServicesProviderId\":\"otogtwrupqs\",\"replicationStatus\":\"nmic\",\"migrationState\":\"None\",\"migrationStateDescription\":\"eoveilovnotyf\",\"lastTestMigrationTime\":\"2021-11-08T07:56:07Z\",\"lastTestMigrationStatus\":\"jbkcnxdhbttkph\",\"lastMigrationTime\":\"2021-04-14T06:41:24Z\",\"lastMigrationStatus\":\"vjtoqnermclfp\",\"testMigrateState\":\"TestMigrationSucceeded\",\"testMigrateStateDescription\":\"xus\",\"health\":\"Normal\",\"healthErrors\":[],\"allowedOperations\":[],\"criticalJobHistory\":[],\"eventCorrelationId\":\"psbjta\"},\"location\":\"gxywpmue\",\"id\":\"fjz\",\"name\":\"fqkquj\",\"type\":\"dsuyonobgla\"},{\"properties\":{\"machineName\":\"xtccmg\",\"policyId\":\"dxyt\",\"policyFriendlyName\":\"oyrxvwfudwpzntxh\",\"recoveryServicesProviderId\":\"hl\",\"replicationStatus\":\"jbhckfrlhr\",\"migrationState\":\"InitialSeedingInProgress\",\"migrationStateDescription\":\"yvpycanuzbpzk\",\"lastTestMigrationTime\":\"2021-08-29T12:11:17Z\",\"lastTestMigrationStatus\":\"wbcrnwbmehhseyv\",\"lastMigrationTime\":\"2021-01-05T18:56:58Z\",\"lastMigrationStatus\":\"tslhspkdeem\",\"testMigrateState\":\"TestMigrationInProgress\",\"testMigrateStateDescription\":\"xagkvtmelmqkrh\",\"health\":\"Normal\",\"healthErrors\":[],\"allowedOperations\":[],\"criticalJobHistory\":[],\"eventCorrelationId\":\"aquhcdhm\"},\"location\":\"laexqp\",\"id\":\"fadmws\",\"name\":\"crgvxpvgom\",\"type\":\"lf\"},{\"properties\":{\"machineName\":\"gwb\",\"policyId\":\"beldawkzbaliourq\",\"policyFriendlyName\":\"kauhashsfwxo\",\"recoveryServicesProviderId\":\"w\",\"replicationStatus\":\"cugicjoox\",\"migrationState\":\"EnableMigrationInProgress\",\"migrationStateDescription\":\"wpucwwfvovbv\",\"lastTestMigrationTime\":\"2021-07-16T17:26Z\",\"lastTestMigrationStatus\":\"civyhzceuo\",\"lastMigrationTime\":\"2020-12-29T21:09:26Z\",\"lastMigrationStatus\":\"wjue\",\"testMigrateState\":\"None\",\"testMigrateStateDescription\":\"mcdytdxwitxnrj\",\"health\":\"Critical\",\"healthErrors\":[],\"allowedOperations\":[],\"criticalJobHistory\":[],\"eventCorrelationId\":\"ni\"},\"location\":\"fbkp\",\"id\":\"cg\",\"name\":\"lwn\",\"type\":\"nhjdauw\"},{\"properties\":{\"machineName\":\"l\",\"policyId\":\"btdhxujznbm\",\"policyFriendlyName\":\"wuwprzqlv\",\"recoveryServicesProviderId\":\"alupjm\",\"replicationStatus\":\"fxobbcsws\",\"migrationState\":\"MigrationFailed\",\"migrationStateDescription\":\"iplrbpbewtghfgb\",\"lastTestMigrationTime\":\"2021-09-03T22:44:02Z\",\"lastTestMigrationStatus\":\"xzvlvqhjkbegib\",\"lastMigrationTime\":\"2021-07-17T08:56:43Z\",\"lastMigrationStatus\":\"iebwwaloayqcgwrt\",\"testMigrateState\":\"TestMigrationFailed\",\"testMigrateStateDescription\":\"gwyzm\",\"health\":\"Critical\",\"healthErrors\":[],\"allowedOperations\":[],\"criticalJobHistory\":[],\"eventCorrelationId\":\"savjcbpwxqps\"},\"location\":\"ftguv\",\"id\":\"iuhprwmdyvxqta\",\"name\":\"riwwroy\",\"type\":\"bexrmcq\"}],\"nextLink\":\"ycnojvknmefqsg\"}")
                .toObject(MigrationItemCollection.class);
        Assertions.assertEquals("gxywpmue", model.value().get(0).location());
        Assertions.assertEquals("ycnojvknmefqsg", model.nextLink());
    }

    @Test
    public void testSerialize() {
        MigrationItemCollection model =
            new MigrationItemCollection()
                .withValue(
                    Arrays
                        .asList(
                            new MigrationItemInner()
                                .withProperties(new MigrationItemProperties())
                                .withLocation("gxywpmue"),
                            new MigrationItemInner()
                                .withProperties(new MigrationItemProperties())
                                .withLocation("laexqp"),
                            new MigrationItemInner().withProperties(new MigrationItemProperties()).withLocation("fbkp"),
                            new MigrationItemInner()
                                .withProperties(new MigrationItemProperties())
                                .withLocation("ftguv")))
                .withNextLink("ycnojvknmefqsg");
        model = BinaryData.fromObject(model).toObject(MigrationItemCollection.class);
        Assertions.assertEquals("gxywpmue", model.value().get(0).location());
        Assertions.assertEquals("ycnojvknmefqsg", model.nextLink());
    }
}
