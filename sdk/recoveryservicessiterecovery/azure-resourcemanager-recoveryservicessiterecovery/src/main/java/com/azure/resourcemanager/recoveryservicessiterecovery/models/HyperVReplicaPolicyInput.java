// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.recoveryservicessiterecovery.models;

import com.azure.core.annotation.Fluent;
import com.azure.json.JsonReader;
import com.azure.json.JsonToken;
import com.azure.json.JsonWriter;
import java.io.IOException;

/**
 * Hyper-V Replica specific policy Input.
 */
@Fluent
public class HyperVReplicaPolicyInput extends PolicyProviderSpecificInput {
    /*
     * The class type.
     */
    private String instanceType = "HyperVReplica2012";

    /*
     * A value indicating the number of recovery points.
     */
    private Integer recoveryPoints;

    /*
     * A value indicating the application consistent frequency.
     */
    private Integer applicationConsistentSnapshotFrequencyInHours;

    /*
     * A value indicating whether compression has to be enabled.
     */
    private String compression;

    /*
     * A value indicating whether IR is online.
     */
    private String initialReplicationMethod;

    /*
     * A value indicating the online IR start time.
     */
    private String onlineReplicationStartTime;

    /*
     * A value indicating the offline IR import path.
     */
    private String offlineReplicationImportPath;

    /*
     * A value indicating the offline IR export path.
     */
    private String offlineReplicationExportPath;

    /*
     * A value indicating the recovery HTTPS port.
     */
    private Integer replicationPort;

    /*
     * A value indicating the authentication type.
     */
    private Integer allowedAuthenticationType;

    /*
     * A value indicating whether the VM has to be auto deleted.
     */
    private String replicaDeletion;

    /**
     * Creates an instance of HyperVReplicaPolicyInput class.
     */
    public HyperVReplicaPolicyInput() {
    }

    /**
     * Get the instanceType property: The class type.
     * 
     * @return the instanceType value.
     */
    @Override
    public String instanceType() {
        return this.instanceType;
    }

    /**
     * Get the recoveryPoints property: A value indicating the number of recovery points.
     * 
     * @return the recoveryPoints value.
     */
    public Integer recoveryPoints() {
        return this.recoveryPoints;
    }

    /**
     * Set the recoveryPoints property: A value indicating the number of recovery points.
     * 
     * @param recoveryPoints the recoveryPoints value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withRecoveryPoints(Integer recoveryPoints) {
        this.recoveryPoints = recoveryPoints;
        return this;
    }

    /**
     * Get the applicationConsistentSnapshotFrequencyInHours property: A value indicating the application consistent
     * frequency.
     * 
     * @return the applicationConsistentSnapshotFrequencyInHours value.
     */
    public Integer applicationConsistentSnapshotFrequencyInHours() {
        return this.applicationConsistentSnapshotFrequencyInHours;
    }

    /**
     * Set the applicationConsistentSnapshotFrequencyInHours property: A value indicating the application consistent
     * frequency.
     * 
     * @param applicationConsistentSnapshotFrequencyInHours the applicationConsistentSnapshotFrequencyInHours value to
     * set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput
        withApplicationConsistentSnapshotFrequencyInHours(Integer applicationConsistentSnapshotFrequencyInHours) {
        this.applicationConsistentSnapshotFrequencyInHours = applicationConsistentSnapshotFrequencyInHours;
        return this;
    }

    /**
     * Get the compression property: A value indicating whether compression has to be enabled.
     * 
     * @return the compression value.
     */
    public String compression() {
        return this.compression;
    }

    /**
     * Set the compression property: A value indicating whether compression has to be enabled.
     * 
     * @param compression the compression value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withCompression(String compression) {
        this.compression = compression;
        return this;
    }

    /**
     * Get the initialReplicationMethod property: A value indicating whether IR is online.
     * 
     * @return the initialReplicationMethod value.
     */
    public String initialReplicationMethod() {
        return this.initialReplicationMethod;
    }

    /**
     * Set the initialReplicationMethod property: A value indicating whether IR is online.
     * 
     * @param initialReplicationMethod the initialReplicationMethod value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withInitialReplicationMethod(String initialReplicationMethod) {
        this.initialReplicationMethod = initialReplicationMethod;
        return this;
    }

    /**
     * Get the onlineReplicationStartTime property: A value indicating the online IR start time.
     * 
     * @return the onlineReplicationStartTime value.
     */
    public String onlineReplicationStartTime() {
        return this.onlineReplicationStartTime;
    }

    /**
     * Set the onlineReplicationStartTime property: A value indicating the online IR start time.
     * 
     * @param onlineReplicationStartTime the onlineReplicationStartTime value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withOnlineReplicationStartTime(String onlineReplicationStartTime) {
        this.onlineReplicationStartTime = onlineReplicationStartTime;
        return this;
    }

    /**
     * Get the offlineReplicationImportPath property: A value indicating the offline IR import path.
     * 
     * @return the offlineReplicationImportPath value.
     */
    public String offlineReplicationImportPath() {
        return this.offlineReplicationImportPath;
    }

    /**
     * Set the offlineReplicationImportPath property: A value indicating the offline IR import path.
     * 
     * @param offlineReplicationImportPath the offlineReplicationImportPath value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withOfflineReplicationImportPath(String offlineReplicationImportPath) {
        this.offlineReplicationImportPath = offlineReplicationImportPath;
        return this;
    }

    /**
     * Get the offlineReplicationExportPath property: A value indicating the offline IR export path.
     * 
     * @return the offlineReplicationExportPath value.
     */
    public String offlineReplicationExportPath() {
        return this.offlineReplicationExportPath;
    }

    /**
     * Set the offlineReplicationExportPath property: A value indicating the offline IR export path.
     * 
     * @param offlineReplicationExportPath the offlineReplicationExportPath value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withOfflineReplicationExportPath(String offlineReplicationExportPath) {
        this.offlineReplicationExportPath = offlineReplicationExportPath;
        return this;
    }

    /**
     * Get the replicationPort property: A value indicating the recovery HTTPS port.
     * 
     * @return the replicationPort value.
     */
    public Integer replicationPort() {
        return this.replicationPort;
    }

    /**
     * Set the replicationPort property: A value indicating the recovery HTTPS port.
     * 
     * @param replicationPort the replicationPort value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withReplicationPort(Integer replicationPort) {
        this.replicationPort = replicationPort;
        return this;
    }

    /**
     * Get the allowedAuthenticationType property: A value indicating the authentication type.
     * 
     * @return the allowedAuthenticationType value.
     */
    public Integer allowedAuthenticationType() {
        return this.allowedAuthenticationType;
    }

    /**
     * Set the allowedAuthenticationType property: A value indicating the authentication type.
     * 
     * @param allowedAuthenticationType the allowedAuthenticationType value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withAllowedAuthenticationType(Integer allowedAuthenticationType) {
        this.allowedAuthenticationType = allowedAuthenticationType;
        return this;
    }

    /**
     * Get the replicaDeletion property: A value indicating whether the VM has to be auto deleted.
     * 
     * @return the replicaDeletion value.
     */
    public String replicaDeletion() {
        return this.replicaDeletion;
    }

    /**
     * Set the replicaDeletion property: A value indicating whether the VM has to be auto deleted.
     * 
     * @param replicaDeletion the replicaDeletion value to set.
     * @return the HyperVReplicaPolicyInput object itself.
     */
    public HyperVReplicaPolicyInput withReplicaDeletion(String replicaDeletion) {
        this.replicaDeletion = replicaDeletion;
        return this;
    }

    /**
     * Validates the instance.
     * 
     * @throws IllegalArgumentException thrown if the instance is not valid.
     */
    @Override
    public void validate() {
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public JsonWriter toJson(JsonWriter jsonWriter) throws IOException {
        jsonWriter.writeStartObject();
        jsonWriter.writeStringField("instanceType", this.instanceType);
        jsonWriter.writeNumberField("recoveryPoints", this.recoveryPoints);
        jsonWriter.writeNumberField("applicationConsistentSnapshotFrequencyInHours",
            this.applicationConsistentSnapshotFrequencyInHours);
        jsonWriter.writeStringField("compression", this.compression);
        jsonWriter.writeStringField("initialReplicationMethod", this.initialReplicationMethod);
        jsonWriter.writeStringField("onlineReplicationStartTime", this.onlineReplicationStartTime);
        jsonWriter.writeStringField("offlineReplicationImportPath", this.offlineReplicationImportPath);
        jsonWriter.writeStringField("offlineReplicationExportPath", this.offlineReplicationExportPath);
        jsonWriter.writeNumberField("replicationPort", this.replicationPort);
        jsonWriter.writeNumberField("allowedAuthenticationType", this.allowedAuthenticationType);
        jsonWriter.writeStringField("replicaDeletion", this.replicaDeletion);
        return jsonWriter.writeEndObject();
    }

    /**
     * Reads an instance of HyperVReplicaPolicyInput from the JsonReader.
     * 
     * @param jsonReader The JsonReader being read.
     * @return An instance of HyperVReplicaPolicyInput if the JsonReader was pointing to an instance of it, or null if
     * it was pointing to JSON null.
     * @throws IOException If an error occurs while reading the HyperVReplicaPolicyInput.
     */
    public static HyperVReplicaPolicyInput fromJson(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            String discriminatorValue = null;
            try (JsonReader readerToUse = reader.bufferObject()) {
                readerToUse.nextToken(); // Prepare for reading
                while (readerToUse.nextToken() != JsonToken.END_OBJECT) {
                    String fieldName = readerToUse.getFieldName();
                    readerToUse.nextToken();
                    if ("instanceType".equals(fieldName)) {
                        discriminatorValue = readerToUse.getString();
                        break;
                    } else {
                        readerToUse.skipChildren();
                    }
                }
                // Use the discriminator value to determine which subtype should be deserialized.
                if ("HyperVReplica2012R2".equals(discriminatorValue)) {
                    return HyperVReplicaBluePolicyInput.fromJson(readerToUse.reset());
                } else {
                    return fromJsonKnownDiscriminator(readerToUse.reset());
                }
            }
        });
    }

    static HyperVReplicaPolicyInput fromJsonKnownDiscriminator(JsonReader jsonReader) throws IOException {
        return jsonReader.readObject(reader -> {
            HyperVReplicaPolicyInput deserializedHyperVReplicaPolicyInput = new HyperVReplicaPolicyInput();
            while (reader.nextToken() != JsonToken.END_OBJECT) {
                String fieldName = reader.getFieldName();
                reader.nextToken();

                if ("instanceType".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.instanceType = reader.getString();
                } else if ("recoveryPoints".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.recoveryPoints = reader.getNullable(JsonReader::getInt);
                } else if ("applicationConsistentSnapshotFrequencyInHours".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.applicationConsistentSnapshotFrequencyInHours
                        = reader.getNullable(JsonReader::getInt);
                } else if ("compression".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.compression = reader.getString();
                } else if ("initialReplicationMethod".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.initialReplicationMethod = reader.getString();
                } else if ("onlineReplicationStartTime".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.onlineReplicationStartTime = reader.getString();
                } else if ("offlineReplicationImportPath".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.offlineReplicationImportPath = reader.getString();
                } else if ("offlineReplicationExportPath".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.offlineReplicationExportPath = reader.getString();
                } else if ("replicationPort".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.replicationPort = reader.getNullable(JsonReader::getInt);
                } else if ("allowedAuthenticationType".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.allowedAuthenticationType
                        = reader.getNullable(JsonReader::getInt);
                } else if ("replicaDeletion".equals(fieldName)) {
                    deserializedHyperVReplicaPolicyInput.replicaDeletion = reader.getString();
                } else {
                    reader.skipChildren();
                }
            }

            return deserializedHyperVReplicaPolicyInput;
        });
    }
}
