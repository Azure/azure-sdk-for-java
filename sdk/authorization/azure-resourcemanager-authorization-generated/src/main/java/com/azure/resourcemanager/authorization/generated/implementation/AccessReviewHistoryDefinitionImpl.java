// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.authorization.generated.implementation;

import com.azure.core.util.Context;
import com.azure.resourcemanager.authorization.generated.fluent.models.AccessReviewHistoryDefinitionInner;
import com.azure.resourcemanager.authorization.generated.fluent.models.AccessReviewHistoryDefinitionProperties;
import com.azure.resourcemanager.authorization.generated.fluent.models.AccessReviewHistoryInstanceInner;
import com.azure.resourcemanager.authorization.generated.fluent.models.AccessReviewScope;
import com.azure.resourcemanager.authorization.generated.models.AccessReviewActorIdentityType;
import com.azure.resourcemanager.authorization.generated.models.AccessReviewHistoryDefinition;
import com.azure.resourcemanager.authorization.generated.models.AccessReviewHistoryDefinitionStatus;
import com.azure.resourcemanager.authorization.generated.models.AccessReviewHistoryInstance;
import com.azure.resourcemanager.authorization.generated.models.AccessReviewRecurrencePatternType;
import com.azure.resourcemanager.authorization.generated.models.AccessReviewRecurrenceRangeType;
import com.azure.resourcemanager.authorization.generated.models.AccessReviewResult;
import java.time.OffsetDateTime;
import java.util.Collections;
import java.util.List;
import java.util.stream.Collectors;

public final class AccessReviewHistoryDefinitionImpl
    implements AccessReviewHistoryDefinition, AccessReviewHistoryDefinition.Definition {
    private AccessReviewHistoryDefinitionInner innerObject;

    private final com.azure.resourcemanager.authorization.generated.AuthorizationManager serviceManager;

    AccessReviewHistoryDefinitionImpl(
        AccessReviewHistoryDefinitionInner innerObject,
        com.azure.resourcemanager.authorization.generated.AuthorizationManager serviceManager) {
        this.innerObject = innerObject;
        this.serviceManager = serviceManager;
    }

    public String id() {
        return this.innerModel().id();
    }

    public String name() {
        return this.innerModel().name();
    }

    public String type() {
        return this.innerModel().type();
    }

    public String displayName() {
        return this.innerModel().displayName();
    }

    public OffsetDateTime reviewHistoryPeriodStartDateTime() {
        return this.innerModel().reviewHistoryPeriodStartDateTime();
    }

    public OffsetDateTime reviewHistoryPeriodEndDateTime() {
        return this.innerModel().reviewHistoryPeriodEndDateTime();
    }

    public List<AccessReviewResult> decisions() {
        List<AccessReviewResult> inner = this.innerModel().decisions();
        if (inner != null) {
            return Collections.unmodifiableList(inner);
        } else {
            return Collections.emptyList();
        }
    }

    public AccessReviewHistoryDefinitionStatus status() {
        return this.innerModel().status();
    }

    public OffsetDateTime createdDateTime() {
        return this.innerModel().createdDateTime();
    }

    public List<AccessReviewScope> scopes() {
        List<AccessReviewScope> inner = this.innerModel().scopes();
        if (inner != null) {
            return Collections.unmodifiableList(inner);
        } else {
            return Collections.emptyList();
        }
    }

    public List<AccessReviewHistoryInstance> instances() {
        List<AccessReviewHistoryInstanceInner> inner = this.innerModel().instances();
        if (inner != null) {
            return Collections
                .unmodifiableList(
                    inner
                        .stream()
                        .map(inner1 -> new AccessReviewHistoryInstanceImpl(inner1, this.manager()))
                        .collect(Collectors.toList()));
        } else {
            return Collections.emptyList();
        }
    }

    public String principalId() {
        return this.innerModel().principalId();
    }

    public AccessReviewActorIdentityType principalType() {
        return this.innerModel().principalType();
    }

    public String principalName() {
        return this.innerModel().principalName();
    }

    public String userPrincipalName() {
        return this.innerModel().userPrincipalName();
    }

    public AccessReviewRecurrencePatternType typePropertiesType() {
        return this.innerModel().typePropertiesType();
    }

    public Integer interval() {
        return this.innerModel().interval();
    }

    public AccessReviewRecurrenceRangeType typeRangeType() {
        return this.innerModel().typeRangeType();
    }

    public Integer numberOfOccurrences() {
        return this.innerModel().numberOfOccurrences();
    }

    public OffsetDateTime startDate() {
        return this.innerModel().startDate();
    }

    public OffsetDateTime endDate() {
        return this.innerModel().endDate();
    }

    public AccessReviewHistoryDefinitionInner innerModel() {
        return this.innerObject;
    }

    private com.azure.resourcemanager.authorization.generated.AuthorizationManager manager() {
        return this.serviceManager;
    }

    private String historyDefinitionId;

    private AccessReviewHistoryDefinitionProperties createProperties;

    public AccessReviewHistoryDefinition create() {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getAccessReviewHistoryDefinitionOperations()
                .createWithResponse(historyDefinitionId, createProperties, Context.NONE)
                .getValue();
        return this;
    }

    public AccessReviewHistoryDefinition create(Context context) {
        this.innerObject =
            serviceManager
                .serviceClient()
                .getAccessReviewHistoryDefinitionOperations()
                .createWithResponse(historyDefinitionId, createProperties, context)
                .getValue();
        return this;
    }

    AccessReviewHistoryDefinitionImpl(
        String name, com.azure.resourcemanager.authorization.generated.AuthorizationManager serviceManager) {
        this.innerObject = new AccessReviewHistoryDefinitionInner();
        this.serviceManager = serviceManager;
        this.historyDefinitionId = name;
        this.createProperties = new AccessReviewHistoryDefinitionProperties();
    }

    public AccessReviewHistoryDefinitionImpl withDisplayName(String displayName) {
        this.createProperties.withDisplayName(displayName);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withDecisions(List<AccessReviewResult> decisions) {
        this.createProperties.withDecisions(decisions);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withScopes(List<AccessReviewScope> scopes) {
        this.createProperties.withScopes(scopes);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withInstances(List<AccessReviewHistoryInstanceInner> instances) {
        this.createProperties.withInstances(instances);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withType(AccessReviewRecurrencePatternType type) {
        this.createProperties.withType(type);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withInterval(Integer interval) {
        this.createProperties.withInterval(interval);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withTypeRangeType(AccessReviewRecurrenceRangeType typeRangeType) {
        this.createProperties.withTypeRangeType(typeRangeType);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withNumberOfOccurrences(Integer numberOfOccurrences) {
        this.createProperties.withNumberOfOccurrences(numberOfOccurrences);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withStartDate(OffsetDateTime startDate) {
        this.createProperties.withStartDate(startDate);
        return this;
    }

    public AccessReviewHistoryDefinitionImpl withEndDate(OffsetDateTime endDate) {
        this.createProperties.withEndDate(endDate);
        return this;
    }
}
