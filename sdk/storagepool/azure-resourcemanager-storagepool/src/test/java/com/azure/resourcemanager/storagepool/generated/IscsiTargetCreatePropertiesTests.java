// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.storagepool.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.storagepool.fluent.models.IscsiTargetCreateProperties;
import com.azure.resourcemanager.storagepool.models.Acl;
import com.azure.resourcemanager.storagepool.models.IscsiLun;
import com.azure.resourcemanager.storagepool.models.IscsiTargetAclMode;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class IscsiTargetCreatePropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        IscsiTargetCreateProperties model = BinaryData.fromString(
            "{\"aclMode\":\"Dynamic\",\"targetIqn\":\"ijfqkacewiipfp\",\"staticAcls\":[{\"initiatorIqn\":\"ibwwiftohqkv\",\"mappedLuns\":[\"vksgplsaknynfsy\",\"ljphuopxodl\",\"iyntorzihle\",\"sjswsrms\"]}],\"luns\":[{\"name\":\"rpzbchckqqzqi\",\"managedDiskAzureResourceId\":\"xiy\",\"lun\":1721034864},{\"name\":\"i\",\"managedDiskAzureResourceId\":\"ynkedyatrwyhqmib\",\"lun\":891981372}]}")
            .toObject(IscsiTargetCreateProperties.class);
        Assertions.assertEquals(IscsiTargetAclMode.DYNAMIC, model.aclMode());
        Assertions.assertEquals("ijfqkacewiipfp", model.targetIqn());
        Assertions.assertEquals("ibwwiftohqkv", model.staticAcls().get(0).initiatorIqn());
        Assertions.assertEquals("vksgplsaknynfsy", model.staticAcls().get(0).mappedLuns().get(0));
        Assertions.assertEquals("rpzbchckqqzqi", model.luns().get(0).name());
        Assertions.assertEquals("xiy", model.luns().get(0).managedDiskAzureResourceId());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        IscsiTargetCreateProperties model = new IscsiTargetCreateProperties().withAclMode(IscsiTargetAclMode.DYNAMIC)
            .withTargetIqn("ijfqkacewiipfp")
            .withStaticAcls(Arrays.asList(new Acl().withInitiatorIqn("ibwwiftohqkv")
                .withMappedLuns(Arrays.asList("vksgplsaknynfsy", "ljphuopxodl", "iyntorzihle", "sjswsrms"))))
            .withLuns(Arrays.asList(new IscsiLun().withName("rpzbchckqqzqi").withManagedDiskAzureResourceId("xiy"),
                new IscsiLun().withName("i").withManagedDiskAzureResourceId("ynkedyatrwyhqmib")));
        model = BinaryData.fromObject(model).toObject(IscsiTargetCreateProperties.class);
        Assertions.assertEquals(IscsiTargetAclMode.DYNAMIC, model.aclMode());
        Assertions.assertEquals("ijfqkacewiipfp", model.targetIqn());
        Assertions.assertEquals("ibwwiftohqkv", model.staticAcls().get(0).initiatorIqn());
        Assertions.assertEquals("vksgplsaknynfsy", model.staticAcls().get(0).mappedLuns().get(0));
        Assertions.assertEquals("rpzbchckqqzqi", model.luns().get(0).name());
        Assertions.assertEquals("xiy", model.luns().get(0).managedDiskAzureResourceId());
    }
}
