POST
/identities?api-version=2021-03-07
Thu, 20 May 2021 17:17:44 GMT;wus2-prod-vector-acs.communication.azure.com;2U5sTlHbaW0i0LgOaHm0EOaC2eI1VDCi+oiSfjwLRIs=



azure-communication-common

So to put all these together, we are looking at:
. Event Web UI + Contoso Service without SDK
. Event Web UI + Contoso service using Chat + AMS
. Stream playing
. Event, room, and stream management

OK. We may cut it this way:
A. Event Web UI
B. Contoso Service: Chat + Calling + AMS
C. Stream playing
D. Managing Event, Room, and Stream

We also need some milestones:
3 hours: with a link to a room in an event, Web UI can see show chat and stream windows
5 hours: Two participants can join the same room watch the same stream and chat/comment
9 hours: Two rooms each with its own stream and two participants in each room can chat/comment
12 hours: Two events each can do 9 hour features

spamtesting-communicationsvcs
acscallingherosample

personal account app secret:
b_rchp81vEPCA43j4uF~1ygw4K-3K4m_cv

{
	"AadClientId": "0260d6c8-b1a3-4417-88ba-29585939e1a3",
	"AadSecret": "b_rchp81vEPCA43j4uF~1ygw4K-3K4m_cv",
	"AadTenantDomain": "jpchenjianpinggmail.onmicrosoft.com",
	"AadTenantId": "0eb2145f-f0ee-4f02-8960-28b7eb5f7a10",
	"AccountName": "jphackmedia",
	"ResourceGroup": "ForWork",
	"SubscriptionId": "bb75622f-ab24-4cd0-aa02-2f17b786c4ec",
	"ArmAadAudience": "https://management.core.windows.net",
	"ArmEndpoint": "https://management.azure.com"
}

Creating a live event named liveevent-6bf4e526-59e4

Starting monitoring LiveEvent events...
Creating a new host to process events from an Event Hub...
Failed to connect to Event Hub, please refer README for Event Hub and storage settings. Skipping event monitoring...
eventHubConnectionString (Parameter 'Provided EventHub path in eventHubPath parameter conflicts with the path in provided EventHubs connection string.')
Creating the LiveEvent, please be patient as this can take time to complete async.
Live Event creation is an async operation in Azure and timing can depend on resources available.
Create Live Event run time : :06.69
Creating an asset named archiveAsset6bf4e526-59e4

Creating a live output named liveOutput6bf4e526-59e4

Create Live Output run time : :03.20

Starting the Live Event now... please stand by as this can take time...
Start Live Event run time : :09.85

The RTMP ingest URL to enter into OBS Studio is:
        rtmp://liveevent-6bf4e526-59e4-jphackmedia-cact.channel.media.azure.net:1935/live/acf7b6ef8a37425fb8fc51c2d6a5a86a
Make sure to enter a Stream Key into the OBS studio settings. It can be any value or you can repeat the accessToken used in the ingest URL path.

The preview url is:
        https://liveevent-6bf4e526-59e4-jphackmedia.preview-cact.channel.media.azure.net/11750ec0-016e-45e5-b8ad-0429336b682b/preview.ism/manifest

Open the live preview in your browser and use the Azure Media Player to monitor the preview playback:
        https://ampdemo.azureedge.net/?url=https://liveevent-6bf4e526-59e4-jphackmedia.preview-cact.channel.media.azure.net/11750ec0-016e-45e5-b8ad-0429336b682b/preview.ism/manifest&heuristicprofile=lowlatency

Start the live stream now, sending the input to the ingest url and verify that it is arriving with the preview url.
IMPORTANT TIP!: Make ABSOLUTLEY CERTAIN that the video is flowing to the Preview URL before continuing!
Press enter to continue...

Creating a streaming locator named streamingLocator6bf4e526-59e4

Streaming Endpoint was Stopped, restarting now..
The urls to stream the output from a client:

The HLS (MP4) manifest for the Live stream  : https://jphackmedia-cact.streaming.media.azure.net/9f516278-4213-4a51-b008-13577bf54c0b/output.ism/manifest(format=m3u8-cmaf)
Open the following URL to playback the live stream in an HLS compliant player (HLS.js, Shaka, ExoPlayer) or directly in an iOS device
https://jphackmedia-cact.streaming.media.azure.net/9f516278-4213-4a51-b008-13577bf54c0b/output.ism/manifest(format=m3u8-cmaf)

The DASH manifest for the Live stream is : https://jphackmedia-cact.streaming.media.azure.net/9f516278-4213-4a51-b008-13577bf54c0b/output.ism/manifest(format=mpd-time-cmaf)
Open the following URL to playback the live stream from the LiveOutput in the Azure Media Player
https://ampdemo.azureedge.net/?url=https://jphackmedia-cact.streaming.media.azure.net/9f516278-4213-4a51-b008-13577bf54c0b/output.ism/manifest(format=mpd-time-cmaf)&heuristicprofile=lowlatency

Continue experimenting with the stream until you are ready to finish.
Press enter to stop the LiveOutput...

DownloadContentLiveTests


