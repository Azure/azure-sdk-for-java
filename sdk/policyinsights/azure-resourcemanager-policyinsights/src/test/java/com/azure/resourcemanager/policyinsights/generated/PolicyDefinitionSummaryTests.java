// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.policyinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.policyinsights.models.ComplianceDetail;
import com.azure.resourcemanager.policyinsights.models.PolicyDefinitionSummary;
import com.azure.resourcemanager.policyinsights.models.SummaryResults;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class PolicyDefinitionSummaryTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        PolicyDefinitionSummary model = BinaryData.fromString(
            "{\"policyDefinitionId\":\"pfeoajvgcxtxjcsh\",\"policyDefinitionReferenceId\":\"fidltug\",\"policyDefinitionGroupNames\":[\"smkss\",\"h\",\"iftxfkf\",\"egprhptil\"],\"effect\":\"cbiqtgdqoh\",\"results\":{\"queryResultsUri\":\"sldrizetpwbral\",\"nonCompliantResources\":822345235,\"nonCompliantPolicies\":1129930311,\"resourceDetails\":[{\"complianceState\":\"zmizakakan\",\"count\":211189126},{\"complianceState\":\"n\",\"count\":423729747},{\"complianceState\":\"joylh\",\"count\":426763582}],\"policyDetails\":[{\"complianceState\":\"xprimrsop\",\"count\":596523417},{\"complianceState\":\"jme\",\"count\":512893820}],\"policyGroupDetails\":[{\"complianceState\":\"asylwx\",\"count\":1212726658},{\"complianceState\":\"mweoohgu\",\"count\":493863799}]}}")
            .toObject(PolicyDefinitionSummary.class);
        Assertions.assertEquals("pfeoajvgcxtxjcsh", model.policyDefinitionId());
        Assertions.assertEquals("fidltug", model.policyDefinitionReferenceId());
        Assertions.assertEquals("smkss", model.policyDefinitionGroupNames().get(0));
        Assertions.assertEquals("cbiqtgdqoh", model.effect());
        Assertions.assertEquals("sldrizetpwbral", model.results().queryResultsUri());
        Assertions.assertEquals(822345235, model.results().nonCompliantResources());
        Assertions.assertEquals(1129930311, model.results().nonCompliantPolicies());
        Assertions.assertEquals("zmizakakan", model.results().resourceDetails().get(0).complianceState());
        Assertions.assertEquals(211189126, model.results().resourceDetails().get(0).count());
        Assertions.assertEquals("xprimrsop", model.results().policyDetails().get(0).complianceState());
        Assertions.assertEquals(596523417, model.results().policyDetails().get(0).count());
        Assertions.assertEquals("asylwx", model.results().policyGroupDetails().get(0).complianceState());
        Assertions.assertEquals(1212726658, model.results().policyGroupDetails().get(0).count());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        PolicyDefinitionSummary model = new PolicyDefinitionSummary().withPolicyDefinitionId("pfeoajvgcxtxjcsh")
            .withPolicyDefinitionReferenceId("fidltug")
            .withPolicyDefinitionGroupNames(Arrays.asList("smkss", "h", "iftxfkf", "egprhptil"))
            .withEffect("cbiqtgdqoh")
            .withResults(new SummaryResults().withQueryResultsUri("sldrizetpwbral")
                .withNonCompliantResources(822345235)
                .withNonCompliantPolicies(1129930311)
                .withResourceDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("zmizakakan").withCount(211189126),
                        new ComplianceDetail().withComplianceState("n").withCount(423729747),
                        new ComplianceDetail().withComplianceState("joylh").withCount(426763582)))
                .withPolicyDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("xprimrsop").withCount(596523417),
                        new ComplianceDetail().withComplianceState("jme").withCount(512893820)))
                .withPolicyGroupDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("asylwx").withCount(1212726658),
                        new ComplianceDetail().withComplianceState("mweoohgu").withCount(493863799))));
        model = BinaryData.fromObject(model).toObject(PolicyDefinitionSummary.class);
        Assertions.assertEquals("pfeoajvgcxtxjcsh", model.policyDefinitionId());
        Assertions.assertEquals("fidltug", model.policyDefinitionReferenceId());
        Assertions.assertEquals("smkss", model.policyDefinitionGroupNames().get(0));
        Assertions.assertEquals("cbiqtgdqoh", model.effect());
        Assertions.assertEquals("sldrizetpwbral", model.results().queryResultsUri());
        Assertions.assertEquals(822345235, model.results().nonCompliantResources());
        Assertions.assertEquals(1129930311, model.results().nonCompliantPolicies());
        Assertions.assertEquals("zmizakakan", model.results().resourceDetails().get(0).complianceState());
        Assertions.assertEquals(211189126, model.results().resourceDetails().get(0).count());
        Assertions.assertEquals("xprimrsop", model.results().policyDetails().get(0).complianceState());
        Assertions.assertEquals(596523417, model.results().policyDetails().get(0).count());
        Assertions.assertEquals("asylwx", model.results().policyGroupDetails().get(0).complianceState());
        Assertions.assertEquals(1212726658, model.results().policyGroupDetails().get(0).count());
    }
}
