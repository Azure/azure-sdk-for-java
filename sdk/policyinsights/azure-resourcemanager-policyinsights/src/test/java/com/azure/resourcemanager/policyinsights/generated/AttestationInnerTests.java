// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.policyinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.policyinsights.fluent.models.AttestationInner;
import com.azure.resourcemanager.policyinsights.models.AttestationEvidence;
import com.azure.resourcemanager.policyinsights.models.ComplianceState;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class AttestationInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AttestationInner model = BinaryData.fromString(
            "{\"properties\":{\"policyAssignmentId\":\"iyfjjkbajbuscg\",\"policyDefinitionReferenceId\":\"u\",\"complianceState\":\"Compliant\",\"expiresOn\":\"2021-07-25T21:28:26Z\",\"owner\":\"lev\",\"comments\":\"clujyx\",\"evidence\":[{\"description\":\"zgsjgkzzlta\",\"sourceUri\":\"bzf\"},{\"description\":\"vwmbjlzqsczpg\",\"sourceUri\":\"wnapfdq\"},{\"description\":\"wf\",\"sourceUri\":\"tnuwjtkschgc\"}],\"provisioningState\":\"y\",\"lastComplianceStateChangeAt\":\"2021-09-07T14:18:39Z\",\"assessmentDate\":\"2021-04-28T02:09:32Z\",\"metadata\":\"dataq\"},\"id\":\"vyeldot\",\"name\":\"v\",\"type\":\"kwiswskukjtas\"}")
            .toObject(AttestationInner.class);
        Assertions.assertEquals("iyfjjkbajbuscg", model.policyAssignmentId());
        Assertions.assertEquals("u", model.policyDefinitionReferenceId());
        Assertions.assertEquals(ComplianceState.COMPLIANT, model.complianceState());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-25T21:28:26Z"), model.expiresOn());
        Assertions.assertEquals("lev", model.owner());
        Assertions.assertEquals("clujyx", model.comments());
        Assertions.assertEquals("zgsjgkzzlta", model.evidence().get(0).description());
        Assertions.assertEquals("bzf", model.evidence().get(0).sourceUri());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-28T02:09:32Z"), model.assessmentDate());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AttestationInner model = new AttestationInner().withPolicyAssignmentId("iyfjjkbajbuscg")
            .withPolicyDefinitionReferenceId("u")
            .withComplianceState(ComplianceState.COMPLIANT)
            .withExpiresOn(OffsetDateTime.parse("2021-07-25T21:28:26Z"))
            .withOwner("lev")
            .withComments("clujyx")
            .withEvidence(Arrays.asList(new AttestationEvidence().withDescription("zgsjgkzzlta").withSourceUri("bzf"),
                new AttestationEvidence().withDescription("vwmbjlzqsczpg").withSourceUri("wnapfdq"),
                new AttestationEvidence().withDescription("wf").withSourceUri("tnuwjtkschgc")))
            .withAssessmentDate(OffsetDateTime.parse("2021-04-28T02:09:32Z"))
            .withMetadata("dataq");
        model = BinaryData.fromObject(model).toObject(AttestationInner.class);
        Assertions.assertEquals("iyfjjkbajbuscg", model.policyAssignmentId());
        Assertions.assertEquals("u", model.policyDefinitionReferenceId());
        Assertions.assertEquals(ComplianceState.COMPLIANT, model.complianceState());
        Assertions.assertEquals(OffsetDateTime.parse("2021-07-25T21:28:26Z"), model.expiresOn());
        Assertions.assertEquals("lev", model.owner());
        Assertions.assertEquals("clujyx", model.comments());
        Assertions.assertEquals("zgsjgkzzlta", model.evidence().get(0).description());
        Assertions.assertEquals("bzf", model.evidence().get(0).sourceUri());
        Assertions.assertEquals(OffsetDateTime.parse("2021-04-28T02:09:32Z"), model.assessmentDate());
    }
}
