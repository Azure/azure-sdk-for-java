// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.policyinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.core.util.serializer.JacksonAdapter;
import com.azure.core.util.serializer.SerializerEncoding;
import com.azure.resourcemanager.policyinsights.fluent.models.ComponentPolicyStatesQueryResultsInner;
import com.azure.resourcemanager.policyinsights.models.ComponentPolicyEvaluationDetails;
import com.azure.resourcemanager.policyinsights.models.ComponentPolicyState;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ComponentPolicyStatesQueryResultsInnerTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ComponentPolicyStatesQueryResultsInner model = BinaryData.fromString(
            "{\"@odata.context\":\"zxlioh\",\"@odata.count\":416199583,\"value\":[{\"@odata.id\":\"gxqbawpcb\",\"@odata.context\":\"zqcyknap\",\"timestamp\":\"2021-03-06T20:54:18Z\",\"componentId\":\"uicdhzbdybwwg\",\"componentType\":\"vibidmhmwffpl\",\"componentName\":\"u\",\"resourceId\":\"pckc\",\"policyAssignmentId\":\"rv\",\"policyDefinitionId\":\"yoxoy\",\"subscriptionId\":\"k\",\"resourceType\":\"aimmoiroqb\",\"resourceLocation\":\"hbragapyyr\",\"resourceGroup\":\"svbpavbopfppdbwn\",\"policyAssignmentName\":\"gahxkumasjcaa\",\"policyAssignmentOwner\":\"dmmcpugmehqep\",\"policyAssignmentParameters\":\"fhbzehewhoqhn\",\"policyAssignmentScope\":\"qnbldxe\",\"policyDefinitionName\":\"lgsc\",\"policyDefinitionAction\":\"ri\",\"policyDefinitionCategory\":\"rsrrmoucsofldp\",\"policySetDefinitionId\":\"iyfc\",\"policySetDefinitionName\":\"beolh\",\"policySetDefinitionOwner\":\"lvbmxuqibsxtkcu\",\"policySetDefinitionCategory\":\"b\",\"policySetDefinitionParameters\":\"arfsi\",\"policyDefinitionReferenceId\":\"lkjxnqpvwgf\",\"complianceState\":\"mhqykizmdksa\",\"policyEvaluationDetails\":{\"evaluatedExpressions\":[{\"result\":\"uqvoxmycjimryv\",\"expression\":\"cwwp\",\"expressionKind\":\"zgwe\",\"path\":\"dsxwefoh\",\"expressionValue\":\"databvopwndyqle\",\"targetValue\":\"datalklmtkhlo\",\"operator\":\"x\"},{\"result\":\"vbrdfjmzsyzfho\",\"expression\":\"h\",\"expressionKind\":\"cyychunsjlp\",\"path\":\"twszhvvuic\",\"expressionValue\":\"datavtrrmhwrbfdpyflu\",\"targetValue\":\"datavjglrocuyzlwhhme\",\"operator\":\"ooclutnp\"}],\"reason\":\"emc\"},\"policyDefinitionGroupNames\":[\"mmyky\",\"jxsglhsr\",\"rye\",\"ylmbkzudni\"],\"policyDefinitionVersion\":\"fihotj\",\"policySetDefinitionVersion\":\"lpxuzzjgnrefq\",\"policyAssignmentVersion\":\"qotoihiqakydiwfb\",\"qaxsipietgbebjf\":\"datapzdqtvhcspod\",\"pnfpubntnbat\":\"datalbmoichd\",\"uhplrvkmjcwmjv\":\"dataviqsowsaaelcattc\"},{\"@odata.id\":\"fggc\",\"@odata.context\":\"yylizrz\",\"timestamp\":\"2021-09-08T20:58:59Z\",\"componentId\":\"fxsfuztlvtmv\",\"componentType\":\"bwidql\",\"componentName\":\"ukoveofi\",\"resourceId\":\"vjfn\",\"policyAssignmentId\":\"mvl\",\"policyDefinitionId\":\"z\",\"subscriptionId\":\"blkujrllfojuidjp\",\"resourceType\":\"yjucejikzoeo\",\"resourceLocation\":\"tzejetjklnt\",\"resourceGroup\":\"yjuzkdb\",\"policyAssignmentName\":\"o\",\"policyAssignmentOwner\":\"rzvh\",\"policyAssignmentParameters\":\"wtrhtgv\",\"policyAssignmentScope\":\"pcrrk\",\"policyDefinitionName\":\"awjmjsmw\",\"policyDefinitionAction\":\"kcdxfzzzw\",\"policyDefinitionCategory\":\"afitlhguynuchlg\",\"policySetDefinitionId\":\"txd\",\"policySetDefinitionName\":\"mozusgzvlnsnnjz\",\"policySetDefinitionOwner\":\"afolpymwamxqzrag\",\"policySetDefinitionCategory\":\"dphtv\",\"policySetDefinitionParameters\":\"lajv\",\"policyDefinitionReferenceId\":\"jchcsrlzknmzla\",\"complianceState\":\"updwv\",\"policyEvaluationDetails\":{\"evaluatedExpressions\":[{\"result\":\"zqtpjhmq\",\"expression\":\"v\",\"expressionKind\":\"laiwdcxsmlzzh\",\"path\":\"txetlgydl\",\"expressionValue\":\"datavlnnpx\",\"targetValue\":\"dataafiqgeaarbgjekg\",\"operator\":\"lbyulidwcwvmze\"},{\"result\":\"o\",\"expression\":\"hj\",\"expressionKind\":\"wgdnqzbr\",\"path\":\"spzhzmtksjc\",\"expressionValue\":\"datadigsxcdgl\",\"targetValue\":\"datalkeuac\",\"operator\":\"omflrytswfp\"},{\"result\":\"dgycxnmskwhqjjy\",\"expression\":\"urlpshh\",\"expressionKind\":\"pedwqsl\",\"path\":\"hmpqvw\",\"expressionValue\":\"datakondcb\",\"targetValue\":\"dataimuvqejosovyrrl\",\"operator\":\"esi\"}],\"reason\":\"qtljqobbpihehc\"},\"policyDefinitionGroupNames\":[\"bmrqbrjbbmp\",\"dlvykfrex\",\"rseqwjksghudgz\"],\"policyDefinitionVersion\":\"ogjggsvoujkxibda\",\"policySetDefinitionVersion\":\"rkmdyom\",\"policyAssignmentVersion\":\"fbvfbhdy\",\"awzovgkk\":\"datapwpgddei\",\"sqowxwc\":\"datamuikjcjcaztbws\",\"czcswka\":\"datamlikytw\",\"yfdvlvhbwrnfxtgd\":\"datave\"},{\"@odata.id\":\"qthe\",\"@odata.context\":\"mnaoy\",\"timestamp\":\"2021-10-27T17:47:39Z\",\"componentId\":\"oe\",\"componentType\":\"wankltytmhdroznn\",\"componentName\":\"rlktgjcsggu\",\"resourceId\":\"eml\",\"policyAssignmentId\":\"waeeczgfb\",\"policyDefinitionId\":\"klelssxb\",\"subscriptionId\":\"c\",\"resourceType\":\"zujksrlsmdes\",\"resourceLocation\":\"lpvmjcdoewbidy\",\"resourceGroup\":\"eowxvgpi\",\"policyAssignmentName\":\"eu\",\"policyAssignmentOwner\":\"sxze\",\"policyAssignmentParameters\":\"axwk\",\"policyAssignmentScope\":\"ykhv\",\"policyDefinitionName\":\"xepmrut\",\"policyDefinitionAction\":\"abaobnslujdjltym\",\"policyDefinitionCategory\":\"vguihywar\",\"policySetDefinitionId\":\"pphkixkykxds\",\"policySetDefinitionName\":\"pemmucfxhik\",\"policySetDefinitionOwner\":\"lrmymyincqlhri\",\"policySetDefinitionCategory\":\"sl\",\"policySetDefinitionParameters\":\"iiovgqcgxu\",\"policyDefinitionReferenceId\":\"qkctotiowlxte\",\"complianceState\":\"ptjgwdt\",\"policyEvaluationDetails\":{\"evaluatedExpressions\":[{\"result\":\"nblwphqlkcc\",\"expression\":\"gygqwah\",\"expressionKind\":\"ulwgniiprglvawuw\",\"path\":\"ufypiv\",\"expressionValue\":\"databbjpmcubkmif\",\"targetValue\":\"dataxkubvphavpmhbrbq\",\"operator\":\"govpbbtte\"},{\"result\":\"oknssqyzqedikdf\",\"expression\":\"biqmrjgei\",\"expressionKind\":\"qlggwfi\",\"path\":\"cxmjpbyephmg\",\"expressionValue\":\"dataljvrcmyfqipgxhnp\",\"targetValue\":\"datayqwcabvnuil\",\"operator\":\"yaswlpaugmr\"},{\"result\":\"jlrxwtoaukhfk\",\"expression\":\"isizm\",\"expressionKind\":\"eds\",\"path\":\"wuived\",\"expressionValue\":\"datagyeewxeiq\",\"targetValue\":\"datasmgomguaml\",\"operator\":\"l\"},{\"result\":\"msplzgaufcshhvn\",\"expression\":\"gnxkympqan\",\"expressionKind\":\"jk\",\"path\":\"tw\",\"expressionValue\":\"dataaoypny\",\"targetValue\":\"datashxcylhkg\",\"operator\":\"sghpx\"}],\"reason\":\"phdrw\"},\"policyDefinitionGroupNames\":[\"hvyoma\"],\"policyDefinitionVersion\":\"u\",\"policySetDefinitionVersion\":\"xnqmhrpqpdfwm\",\"policyAssignmentVersion\":\"isqcssffxuifmcs\",\"rdzsylollgtrczzy\":\"databkdq\",\"rkihcirld\":\"datamxzjijpvua\",\"dcoxnbk\":\"datafx\"}]}")
            .toObject(ComponentPolicyStatesQueryResultsInner.class);
        Assertions.assertEquals("emc", model.value().get(0).policyEvaluationDetails().reason());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ComponentPolicyStatesQueryResultsInner model
            = new ComponentPolicyStatesQueryResultsInner().withValue(Arrays.asList(
                new ComponentPolicyState()
                    .withPolicyEvaluationDetails(new ComponentPolicyEvaluationDetails().withReason("emc"))
                    .withAdditionalProperties(mapOf("resourceGroup", "svbpavbopfppdbwn", "resourceId", "pckc",
                        "componentId", "uicdhzbdybwwg", "policyDefinitionGroupNames",
                        JacksonAdapter.createDefaultSerializerAdapter()
                            .deserialize("[\"mmyky\",\"jxsglhsr\",\"rye\",\"ylmbkzudni\"]", Object.class,
                                SerializerEncoding.JSON),
                        "policyDefinitionAction", "ri", "qaxsipietgbebjf", "datapzdqtvhcspod",
                        "policyDefinitionCategory", "rsrrmoucsofldp", "pnfpubntnbat", "datalbmoichd", "complianceState",
                        "mhqykizmdksa", "policySetDefinitionParameters", "arfsi", "@odata.id", "gxqbawpcb",
                        "policyAssignmentScope", "qnbldxe", "policyAssignmentVersion", "qotoihiqakydiwfb",
                        "componentName", "u", "timestamp", "2021-03-06T20:54:18Z", "componentType", "vibidmhmwffpl",
                        "policySetDefinitionOwner", "lvbmxuqibsxtkcu", "policyAssignmentOwner", "dmmcpugmehqep",
                        "@odata.context", "zqcyknap", "resourceLocation", "hbragapyyr", "uhplrvkmjcwmjv",
                        "dataviqsowsaaelcattc", "policySetDefinitionId", "iyfc", "policySetDefinitionName", "beolh",
                        "policyDefinitionVersion", "fihotj", "policyDefinitionId", "yoxoy",
                        "policySetDefinitionCategory", "b", "policyDefinitionName", "lgsc",
                        "policyDefinitionReferenceId", "lkjxnqpvwgf", "policyAssignmentName", "gahxkumasjcaa",
                        "subscriptionId", "k", "policySetDefinitionVersion", "lpxuzzjgnrefq",
                        "policyAssignmentParameters", "fhbzehewhoqhn", "policyAssignmentId", "rv", "resourceType",
                        "aimmoiroqb")),
                new ComponentPolicyState()
                    .withPolicyEvaluationDetails(new ComponentPolicyEvaluationDetails().withReason("qtljqobbpihehc"))
                    .withAdditionalProperties(mapOf("resourceGroup", "yjuzkdb", "resourceId", "vjfn", "componentId",
                        "fxsfuztlvtmv", "policyDefinitionGroupNames",
                        JacksonAdapter.createDefaultSerializerAdapter()
                            .deserialize("[\"bmrqbrjbbmp\",\"dlvykfrex\",\"rseqwjksghudgz\"]", Object.class,
                                SerializerEncoding.JSON),
                        "policyDefinitionAction", "kcdxfzzzw", "yfdvlvhbwrnfxtgd", "datave", "policyDefinitionCategory",
                        "afitlhguynuchlg", "complianceState", "updwv", "policySetDefinitionParameters", "lajv",
                        "@odata.id", "fggc", "policyAssignmentScope", "pcrrk", "policyAssignmentVersion", "fbvfbhdy",
                        "componentName", "ukoveofi", "timestamp", "2021-09-08T20:58:59Z", "componentType", "bwidql",
                        "policySetDefinitionOwner", "afolpymwamxqzrag", "awzovgkk", "datapwpgddei", "czcswka",
                        "datamlikytw", "policyAssignmentOwner", "rzvh", "sqowxwc", "datamuikjcjcaztbws",
                        "@odata.context", "yylizrz", "resourceLocation", "tzejetjklnt", "policySetDefinitionId", "txd",
                        "policySetDefinitionName", "mozusgzvlnsnnjz", "policyDefinitionVersion", "ogjggsvoujkxibda",
                        "policyDefinitionId", "z", "policySetDefinitionCategory", "dphtv", "policyDefinitionName",
                        "awjmjsmw", "policyDefinitionReferenceId", "jchcsrlzknmzla", "policyAssignmentName", "o",
                        "subscriptionId", "blkujrllfojuidjp", "policySetDefinitionVersion", "rkmdyom",
                        "policyAssignmentParameters", "wtrhtgv", "policyAssignmentId", "mvl", "resourceType",
                        "yjucejikzoeo")),
                new ComponentPolicyState()
                    .withPolicyEvaluationDetails(new ComponentPolicyEvaluationDetails().withReason("phdrw"))
                    .withAdditionalProperties(mapOf("resourceGroup", "eowxvgpi", "resourceId", "eml", "componentId",
                        "oe", "policyDefinitionGroupNames",
                        JacksonAdapter.createDefaultSerializerAdapter()
                            .deserialize("[\"hvyoma\"]", Object.class, SerializerEncoding.JSON),
                        "policyDefinitionAction", "abaobnslujdjltym", "policyDefinitionCategory", "vguihywar",
                        "complianceState", "ptjgwdt", "rkihcirld", "datamxzjijpvua", "policySetDefinitionParameters",
                        "iiovgqcgxu", "@odata.id", "qthe", "policyAssignmentScope", "ykhv", "policyAssignmentVersion",
                        "isqcssffxuifmcs", "componentName", "rlktgjcsggu", "timestamp", "2021-10-27T17:47:39Z",
                        "rdzsylollgtrczzy", "databkdq", "componentType", "wankltytmhdroznn", "policySetDefinitionOwner",
                        "lrmymyincqlhri", "policyAssignmentOwner", "sxze", "@odata.context", "mnaoy",
                        "resourceLocation", "lpvmjcdoewbidy", "policySetDefinitionId", "pphkixkykxds",
                        "policySetDefinitionName", "pemmucfxhik", "policyDefinitionVersion", "u", "policyDefinitionId",
                        "klelssxb", "policySetDefinitionCategory", "sl", "policyDefinitionName", "xepmrut",
                        "policyDefinitionReferenceId", "qkctotiowlxte", "policyAssignmentName", "eu", "subscriptionId",
                        "c", "policySetDefinitionVersion", "xnqmhrpqpdfwm", "dcoxnbk", "datafx",
                        "policyAssignmentParameters", "axwk", "policyAssignmentId", "waeeczgfb", "resourceType",
                        "zujksrlsmdes"))));
        model = BinaryData.fromObject(model).toObject(ComponentPolicyStatesQueryResultsInner.class);
        Assertions.assertEquals("emc", model.value().get(0).policyEvaluationDetails().reason());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
