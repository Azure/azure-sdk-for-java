// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.policyinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.policyinsights.models.ComplianceDetail;
import com.azure.resourcemanager.policyinsights.models.PolicyGroupSummary;
import com.azure.resourcemanager.policyinsights.models.SummaryResults;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class PolicyGroupSummaryTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        PolicyGroupSummary model = BinaryData.fromString(
            "{\"policyGroupName\":\"cd\",\"results\":{\"queryResultsUri\":\"bwpypqtgsfjacb\",\"nonCompliantResources\":1318047091,\"nonCompliantPolicies\":901001519,\"resourceDetails\":[{\"complianceState\":\"xvodhtnsir\",\"count\":1227726974}],\"policyDetails\":[{\"complianceState\":\"es\",\"count\":1298970345}],\"policyGroupDetails\":[{\"complianceState\":\"gzrcxfailcfxwmdb\",\"count\":1074201202},{\"complianceState\":\"gsftufqobrjlnacg\",\"count\":1670865281},{\"complianceState\":\"nhxk\",\"count\":137345675},{\"complianceState\":\"tnrzvuljra\",\"count\":1023796809}]}}")
            .toObject(PolicyGroupSummary.class);
        Assertions.assertEquals("cd", model.policyGroupName());
        Assertions.assertEquals("bwpypqtgsfjacb", model.results().queryResultsUri());
        Assertions.assertEquals(1318047091, model.results().nonCompliantResources());
        Assertions.assertEquals(901001519, model.results().nonCompliantPolicies());
        Assertions.assertEquals("xvodhtnsir", model.results().resourceDetails().get(0).complianceState());
        Assertions.assertEquals(1227726974, model.results().resourceDetails().get(0).count());
        Assertions.assertEquals("es", model.results().policyDetails().get(0).complianceState());
        Assertions.assertEquals(1298970345, model.results().policyDetails().get(0).count());
        Assertions.assertEquals("gzrcxfailcfxwmdb", model.results().policyGroupDetails().get(0).complianceState());
        Assertions.assertEquals(1074201202, model.results().policyGroupDetails().get(0).count());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        PolicyGroupSummary model = new PolicyGroupSummary().withPolicyGroupName("cd")
            .withResults(new SummaryResults().withQueryResultsUri("bwpypqtgsfjacb")
                .withNonCompliantResources(1318047091)
                .withNonCompliantPolicies(901001519)
                .withResourceDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("xvodhtnsir").withCount(1227726974)))
                .withPolicyDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("es").withCount(1298970345)))
                .withPolicyGroupDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("gzrcxfailcfxwmdb").withCount(1074201202),
                        new ComplianceDetail().withComplianceState("gsftufqobrjlnacg").withCount(1670865281),
                        new ComplianceDetail().withComplianceState("nhxk").withCount(137345675),
                        new ComplianceDetail().withComplianceState("tnrzvuljra").withCount(1023796809))));
        model = BinaryData.fromObject(model).toObject(PolicyGroupSummary.class);
        Assertions.assertEquals("cd", model.policyGroupName());
        Assertions.assertEquals("bwpypqtgsfjacb", model.results().queryResultsUri());
        Assertions.assertEquals(1318047091, model.results().nonCompliantResources());
        Assertions.assertEquals(901001519, model.results().nonCompliantPolicies());
        Assertions.assertEquals("xvodhtnsir", model.results().resourceDetails().get(0).complianceState());
        Assertions.assertEquals(1227726974, model.results().resourceDetails().get(0).count());
        Assertions.assertEquals("es", model.results().policyDetails().get(0).complianceState());
        Assertions.assertEquals(1298970345, model.results().policyDetails().get(0).count());
        Assertions.assertEquals("gzrcxfailcfxwmdb", model.results().policyGroupDetails().get(0).complianceState());
        Assertions.assertEquals(1074201202, model.results().policyGroupDetails().get(0).count());
    }
}
