// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.policyinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.policyinsights.models.ComplianceDetail;
import com.azure.resourcemanager.policyinsights.models.PolicyGroupSummary;
import com.azure.resourcemanager.policyinsights.models.SummaryResults;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class PolicyGroupSummaryTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        PolicyGroupSummary model = BinaryData.fromString(
            "{\"policyGroupName\":\"boyjathwt\",\"results\":{\"queryResultsUri\":\"b\",\"nonCompliantResources\":1713502373,\"nonCompliantPolicies\":60989181,\"resourceDetails\":[{\"complianceState\":\"ebwjscjpahlxvea\",\"count\":1992463367}],\"policyDetails\":[{\"complianceState\":\"wmqtibx\",\"count\":2042495225},{\"complianceState\":\"dt\",\"count\":1410442260},{\"complianceState\":\"tad\",\"count\":1119917570}],\"policyGroupDetails\":[{\"complianceState\":\"mrsieekp\",\"count\":1321937950}]}}")
            .toObject(PolicyGroupSummary.class);
        Assertions.assertEquals("boyjathwt", model.policyGroupName());
        Assertions.assertEquals("b", model.results().queryResultsUri());
        Assertions.assertEquals(1713502373, model.results().nonCompliantResources());
        Assertions.assertEquals(60989181, model.results().nonCompliantPolicies());
        Assertions.assertEquals("ebwjscjpahlxvea", model.results().resourceDetails().get(0).complianceState());
        Assertions.assertEquals(1992463367, model.results().resourceDetails().get(0).count());
        Assertions.assertEquals("wmqtibx", model.results().policyDetails().get(0).complianceState());
        Assertions.assertEquals(2042495225, model.results().policyDetails().get(0).count());
        Assertions.assertEquals("mrsieekp", model.results().policyGroupDetails().get(0).complianceState());
        Assertions.assertEquals(1321937950, model.results().policyGroupDetails().get(0).count());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        PolicyGroupSummary model = new PolicyGroupSummary().withPolicyGroupName("boyjathwt")
            .withResults(new SummaryResults().withQueryResultsUri("b")
                .withNonCompliantResources(1713502373)
                .withNonCompliantPolicies(60989181)
                .withResourceDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("ebwjscjpahlxvea").withCount(1992463367)))
                .withPolicyDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("wmqtibx").withCount(2042495225),
                        new ComplianceDetail().withComplianceState("dt").withCount(1410442260),
                        new ComplianceDetail().withComplianceState("tad").withCount(1119917570)))
                .withPolicyGroupDetails(
                    Arrays.asList(new ComplianceDetail().withComplianceState("mrsieekp").withCount(1321937950))));
        model = BinaryData.fromObject(model).toObject(PolicyGroupSummary.class);
        Assertions.assertEquals("boyjathwt", model.policyGroupName());
        Assertions.assertEquals("b", model.results().queryResultsUri());
        Assertions.assertEquals(1713502373, model.results().nonCompliantResources());
        Assertions.assertEquals(60989181, model.results().nonCompliantPolicies());
        Assertions.assertEquals("ebwjscjpahlxvea", model.results().resourceDetails().get(0).complianceState());
        Assertions.assertEquals(1992463367, model.results().resourceDetails().get(0).count());
        Assertions.assertEquals("wmqtibx", model.results().policyDetails().get(0).complianceState());
        Assertions.assertEquals(2042495225, model.results().policyDetails().get(0).count());
        Assertions.assertEquals("mrsieekp", model.results().policyGroupDetails().get(0).complianceState());
        Assertions.assertEquals(1321937950, model.results().policyGroupDetails().get(0).count());
    }
}
