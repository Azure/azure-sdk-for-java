// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.policyinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.core.util.serializer.JacksonAdapter;
import com.azure.core.util.serializer.SerializerEncoding;
import com.azure.resourcemanager.policyinsights.models.ComponentPolicyEvaluationDetails;
import com.azure.resourcemanager.policyinsights.models.ComponentPolicyState;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ComponentPolicyStateTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ComponentPolicyState model = BinaryData.fromString(
            "{\"@odata.id\":\"anurnnqb\",\"@odata.context\":\"bpizxqltgr\",\"timestamp\":\"2021-08-08T02:29:28Z\",\"componentId\":\"xrxvbfi\",\"componentType\":\"u\",\"componentName\":\"ctafsrbxrblm\",\"resourceId\":\"owxih\",\"policyAssignmentId\":\"nxw\",\"policyDefinitionId\":\"gnepz\",\"subscriptionId\":\"klsbsbqqqagw\",\"resourceType\":\"xaomzisglrrc\",\"resourceLocation\":\"zkhhltnjadhqo\",\"resourceGroup\":\"jqoyueayfbpcm\",\"policyAssignmentName\":\"lbyrru\",\"policyAssignmentOwner\":\"thwmgnmbsc\",\"policyAssignmentParameters\":\"xigdhxiidlope\",\"policyAssignmentScope\":\"wdpyq\",\"policyDefinitionName\":\"bxubmdna\",\"policyDefinitionAction\":\"bqwremjela\",\"policyDefinitionCategory\":\"cigeleohdbvqvw\",\"policySetDefinitionId\":\"jopwbeonrlkwz\",\"policySetDefinitionName\":\"ybxc\",\"policySetDefinitionOwner\":\"kxcpt\",\"policySetDefinitionCategory\":\"qfyiaseqchkr\",\"policySetDefinitionParameters\":\"zrazisgyk\",\"policyDefinitionReferenceId\":\"emv\",\"complianceState\":\"bwzohmnrxxbs\",\"policyEvaluationDetails\":{\"evaluatedExpressions\":[{\"result\":\"nhmdptysprqs\",\"expression\":\"zxojpslsv\",\"expressionKind\":\"pli\",\"path\":\"iqwoyxqvapcoh\",\"expressionValue\":\"dataucqpqojxcxzrz\",\"targetValue\":\"datagdzbenr\",\"operator\":\"cawetzqddt\"},{\"result\":\"fljhznamtua\",\"expression\":\"zwcjjncqtj\",\"expressionKind\":\"izvg\",\"path\":\"atzuuv\",\"expressionValue\":\"datangrebwg\",\"targetValue\":\"datahttzlswvajqfutlx\",\"operator\":\"qzasunwqrjzfrgqh\"},{\"result\":\"hcmbuocnjrohmbp\",\"expression\":\"yx\",\"expressionKind\":\"eblydyv\",\"path\":\"kmrocxne\",\"expressionValue\":\"datasm\",\"targetValue\":\"datadlfp\",\"operator\":\"pucygvoavyunss\"},{\"result\":\"ghiee\",\"expression\":\"lgvvpaseksgbu\",\"expressionKind\":\"ntuygdhgaqipir\",\"path\":\"wrq\",\"expressionValue\":\"dataulopmjnlexwhcb\",\"targetValue\":\"dataibkeph\",\"operator\":\"uerct\"}],\"reason\":\"oyin\"},\"policyDefinitionGroupNames\":[\"brlc\",\"rduczkgofxyfs\",\"uc\",\"crrpcjttbstvje\"],\"policyDefinitionVersion\":\"nrmvvfkoxmlghk\",\"policySetDefinitionVersion\":\"idvrmaz\",\"policyAssignmentVersion\":\"dwwexymz\",\"sgnyyuuzivensrp\":\"datazipbhpwv\",\"ijp\":\"dataeyyvpkpatl\",\"olmk\":\"datagsksrfhf\"}")
            .toObject(ComponentPolicyState.class);
        Assertions.assertEquals("oyin", model.policyEvaluationDetails().reason());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ComponentPolicyState model = new ComponentPolicyState()
            .withPolicyEvaluationDetails(new ComponentPolicyEvaluationDetails().withReason("oyin"))
            .withAdditionalProperties(mapOf("resourceGroup", "jqoyueayfbpcm", "resourceId", "owxih", "componentId",
                "xrxvbfi", "policyDefinitionGroupNames",
                JacksonAdapter.createDefaultSerializerAdapter()
                    .deserialize("[\"brlc\",\"rduczkgofxyfs\",\"uc\",\"crrpcjttbstvje\"]", Object.class,
                        SerializerEncoding.JSON),
                "policyDefinitionAction", "bqwremjela", "policyDefinitionCategory", "cigeleohdbvqvw", "complianceState",
                "bwzohmnrxxbs", "olmk", "datagsksrfhf", "policySetDefinitionParameters", "zrazisgyk", "@odata.id",
                "anurnnqb", "policyAssignmentScope", "wdpyq", "policyAssignmentVersion", "dwwexymz", "componentName",
                "ctafsrbxrblm", "timestamp", "2021-08-08T02:29:28Z", "componentType", "u", "policySetDefinitionOwner",
                "kxcpt", "sgnyyuuzivensrp", "datazipbhpwv", "policyAssignmentOwner", "thwmgnmbsc", "@odata.context",
                "bpizxqltgr", "resourceLocation", "zkhhltnjadhqo", "policySetDefinitionId", "jopwbeonrlkwz", "ijp",
                "dataeyyvpkpatl", "policySetDefinitionName", "ybxc", "policyDefinitionVersion", "nrmvvfkoxmlghk",
                "policyDefinitionId", "gnepz", "policySetDefinitionCategory", "qfyiaseqchkr", "policyDefinitionName",
                "bxubmdna", "policyDefinitionReferenceId", "emv", "policyAssignmentName", "lbyrru", "subscriptionId",
                "klsbsbqqqagw", "policySetDefinitionVersion", "idvrmaz", "policyAssignmentParameters", "xigdhxiidlope",
                "policyAssignmentId", "nxw", "resourceType", "xaomzisglrrc"));
        model = BinaryData.fromObject(model).toObject(ComponentPolicyState.class);
        Assertions.assertEquals("oyin", model.policyEvaluationDetails().reason());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
