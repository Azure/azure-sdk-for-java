// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.policyinsights.generated;

import com.azure.core.util.BinaryData;
import com.azure.core.util.serializer.JacksonAdapter;
import com.azure.core.util.serializer.SerializerEncoding;
import com.azure.resourcemanager.policyinsights.models.ComponentPolicyEvaluationDetails;
import com.azure.resourcemanager.policyinsights.models.ComponentPolicyState;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class ComponentPolicyStateTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        ComponentPolicyState model = BinaryData.fromString(
            "{\"@odata.id\":\"qi\",\"@odata.context\":\"xtkcudfbsfar\",\"timestamp\":\"2021-06-06T17:38:54Z\",\"componentId\":\"wlkjxn\",\"componentType\":\"vwgf\",\"componentName\":\"mhqykizmdksa\",\"resourceId\":\"fcluqvo\",\"policyAssignmentId\":\"ycjimryvwgcwwpbm\",\"policyDefinitionId\":\"w\",\"subscriptionId\":\"ydsx\",\"resourceType\":\"fo\",\"resourceLocation\":\"cbvopwndyqleallk\",\"resourceGroup\":\"tkhlowkxxpvbr\",\"policyAssignmentName\":\"jmzsyzfh\",\"policyAssignmentOwner\":\"lhikcyychunsj\",\"policyAssignmentParameters\":\"jrtwsz\",\"policyAssignmentScope\":\"vuicp\",\"policyDefinitionName\":\"trrmhwrb\",\"policyDefinitionAction\":\"pyf\",\"policyDefinitionCategory\":\"bhvjglr\",\"policySetDefinitionId\":\"uyzlw\",\"policySetDefinitionName\":\"memhooclutnpq\",\"policySetDefinitionOwner\":\"mczjkm\",\"policySetDefinitionCategory\":\"kyujxsglhsrrr\",\"policySetDefinitionParameters\":\"jylmbkzudnigr\",\"policyDefinitionReferenceId\":\"hotj\",\"complianceState\":\"lpxuzzjgnrefq\",\"policyEvaluationDetails\":{\"evaluatedExpressions\":[{\"result\":\"oihiqak\",\"expression\":\"iwfbrkwpzdqtvhcs\",\"expressionKind\":\"daqaxsi\",\"path\":\"etgbebjfulb\",\"expressionValue\":\"dataichdlpn\",\"targetValue\":\"dataubntnbatzviqsow\",\"operator\":\"aelcat\"},{\"result\":\"ju\",\"expression\":\"lrvkmjc\",\"expressionKind\":\"jvlgfggcvkyyliz\",\"path\":\"bjpsfxsfuztlvtm\",\"expressionValue\":\"datagbwidqlvh\",\"targetValue\":\"dataoveofizrvjfnmj\",\"operator\":\"lwyzgib\"}],\"reason\":\"ujr\"},\"policyDefinitionGroupNames\":[\"ojuidjpuuyjucej\",\"kzoeovvtzejetj\",\"ln\"],\"policyDefinitionVersion\":\"k\",\"policySetDefinitionVersion\":\"uzk\",\"policyAssignmentVersion\":\"qzolxrzvhqjw\",\"\":{\"rrkolawjmjs\":\"datatgvgzp\"}}")
            .toObject(ComponentPolicyState.class);
        Assertions.assertEquals("ujr", model.policyEvaluationDetails().reason());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        ComponentPolicyState model = new ComponentPolicyState()
            .withPolicyEvaluationDetails(new ComponentPolicyEvaluationDetails().withReason("ujr"))
            .withAdditionalProperties(mapOf("resourceGroup", "tkhlowkxxpvbr", "resourceId", "fcluqvo", "componentId",
                "wlkjxn", "policyDefinitionGroupNames",
                JacksonAdapter.createDefaultSerializerAdapter()
                    .deserialize("[\"ojuidjpuuyjucej\",\"kzoeovvtzejetj\",\"ln\"]", Object.class,
                        SerializerEncoding.JSON),
                "policyDefinitionAction", "pyf", "policyDefinitionCategory", "bhvjglr", "complianceState",
                "lpxuzzjgnrefq", "policySetDefinitionParameters", "jylmbkzudnigr", "@odata.id", "qi",
                "policyAssignmentScope", "vuicp", "policyAssignmentVersion", "qzolxrzvhqjw", "componentName",
                "mhqykizmdksa", "timestamp", "2021-06-06T17:38:54Z", "componentType", "vwgf",
                "policySetDefinitionOwner", "mczjkm", "policyAssignmentOwner", "lhikcyychunsj", "@odata.context",
                "xtkcudfbsfar", "resourceLocation", "cbvopwndyqleallk", "policySetDefinitionId", "uyzlw",
                "policySetDefinitionName", "memhooclutnpq", "policyDefinitionVersion", "k", "policyDefinitionId", "w",
                "policySetDefinitionCategory", "kyujxsglhsrrr", "policyDefinitionName", "trrmhwrb",
                "policyDefinitionReferenceId", "hotj", "policyAssignmentName", "jmzsyzfh", "subscriptionId", "ydsx",
                "policySetDefinitionVersion", "uzk", "policyAssignmentParameters", "jrtwsz", "policyAssignmentId",
                "ycjimryvwgcwwpbm", "resourceType", "fo"));
        model = BinaryData.fromObject(model).toObject(ComponentPolicyState.class);
        Assertions.assertEquals("ujr", model.policyEvaluationDetails().reason());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
