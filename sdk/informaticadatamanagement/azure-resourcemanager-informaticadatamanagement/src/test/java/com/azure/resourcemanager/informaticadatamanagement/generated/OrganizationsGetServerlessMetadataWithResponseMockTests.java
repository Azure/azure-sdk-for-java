// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.informaticadatamanagement.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.informaticadatamanagement.InformaticaDataManagementManager;
import com.azure.resourcemanager.informaticadatamanagement.models.PlatformType;
import com.azure.resourcemanager.informaticadatamanagement.models.RuntimeType;
import com.azure.resourcemanager.informaticadatamanagement.models.ServerlessMetadataResponse;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class OrganizationsGetServerlessMetadataWithResponseMockTests {
    @Test
    public void testGetServerlessMetadataWithResponse() throws Exception {
        String responseStr
            = "{\"type\":\"SERVERLESS\",\"serverlessConfigProperties\":{\"platform\":\"AZURE\",\"applicationTypes\":[{\"name\":\"jvewzcjznmwcp\",\"value\":\"uaadraufactkahzo\"},{\"name\":\"jjziuxxpsh\",\"value\":\"e\"},{\"name\":\"lfg\",\"value\":\"qubkw\"}],\"computeUnits\":[{\"name\":\"rds\",\"value\":[\"jbazpjuohminy\",\"lnorwmdu\",\"wpklvxw\",\"ygdxpgpqchis\"]}],\"executionTimeout\":\"pnnbjc\",\"regions\":[{\"id\":\"bbdaxco\",\"name\":\"ozauorsukokwb\"},{\"id\":\"lhlv\",\"name\":\"uepzl\"}]},\"serverlessRuntimeConfigProperties\":{\"cdiConfigProps\":[{\"engineName\":\"zsoldwey\",\"engineVersion\":\"qdunvmnnrwrbior\",\"applicationConfigs\":[{\"type\":\"alywjhhgdn\",\"name\":\"xmsivfomiloxggdu\",\"value\":\"iqndieuzaofj\",\"platform\":\"hvcyyysfg\",\"customized\":\"otcubi\",\"defaultValue\":\"p\"},{\"type\":\"ipwoqonmacjek\",\"name\":\"izsh\",\"value\":\"vcimpev\",\"platform\":\"gmblrri\",\"customized\":\"bywdxsmicc\",\"defaultValue\":\"rwfscjfnynszquj\"},{\"type\":\"zdvoqytibyowbb\",\"name\":\"gyavu\",\"value\":\"pthjoxo\",\"platform\":\"smsks\",\"customized\":\"pi\",\"defaultValue\":\"lqol\"},{\"type\":\"xkcgxxlxsffgcvi\",\"name\":\"qzdwlvwlyoup\",\"value\":\"gfbkjubdyh\",\"platform\":\"kfm\",\"customized\":\"nsgowzfttst\",\"defaultValue\":\"ktlahbqa\"}]},{\"engineName\":\"tx\",\"engineVersion\":\"gzukxitmm\",\"applicationConfigs\":[{\"type\":\"gqqqxh\",\"name\":\"n\",\"value\":\"rxcpjuisavo\",\"platform\":\"qdzfvazivjlfrqtt\",\"customized\":\"ajlkatnw\",\"defaultValue\":\"yiopi\"}]},{\"engineName\":\"kqqfk\",\"engineVersion\":\"vscx\",\"applicationConfigs\":[{\"type\":\"mligov\",\"name\":\"brxk\",\"value\":\"mloazuru\",\"platform\":\"cbgoor\",\"customized\":\"te\",\"defaultValue\":\"ybfhjxa\"},{\"type\":\"vvjgslor\",\"name\":\"il\",\"value\":\"yw\",\"platform\":\"t\",\"customized\":\"gkxnyedabg\",\"defaultValue\":\"vudtjuewbcihx\"},{\"type\":\"uwhcjyxccybv\",\"name\":\"ayakkudzpx\",\"value\":\"wjplma\",\"platform\":\"stcyohpfkyrkdbd\",\"customized\":\"iogsjkmnwq\",\"defaultValue\":\"nobaiyhddviacegf\"}]},{\"engineName\":\"m\",\"engineVersion\":\"tfpmvmemfnczdw\",\"applicationConfigs\":[{\"type\":\"b\",\"name\":\"lxlllchpo\",\"value\":\"bzevwrd\",\"platform\":\"hfuk\",\"customized\":\"vsjcswsmystuluqy\",\"defaultValue\":\"fcvlerch\"},{\"type\":\"qbmfpjbabwidf\",\"name\":\"xsspuunnoxyhk\",\"value\":\"g\",\"platform\":\"ddrihpf\",\"customized\":\"oqcaaewdaomdj\",\"defaultValue\":\"l\"},{\"type\":\"jxxkzbrmsgei\",\"name\":\"siykzkdncjdxonbz\",\"value\":\"ggcula\",\"platform\":\"z\",\"customized\":\"y\",\"defaultValue\":\"pgogtqxepny\"}]}],\"cdieConfigProps\":[{\"engineName\":\"uajlyj\",\"engineVersion\":\"lvofqzhvfcibyfmo\",\"applicationConfigs\":[{\"type\":\"xrkjpvdw\",\"name\":\"fzwiivwzjbhyz\",\"value\":\"xjrk\",\"platform\":\"mbtrnegvmnvu\",\"customized\":\"eqvldspast\",\"defaultValue\":\"bkkd\"},{\"type\":\"flvestmjlxrrilo\",\"name\":\"apeewchpxlkt\",\"value\":\"kuziycsle\",\"platform\":\"ufuztcktyhjtq\",\"customized\":\"dcgzul\",\"defaultValue\":\"mmrqz\"}]},{\"engineName\":\"rr\",\"engineVersion\":\"vpglydz\",\"applicationConfigs\":[{\"type\":\"rvqeevtoepryutn\",\"name\":\"ytp\",\"value\":\"dmovzvfva\",\"platform\":\"wzqa\",\"customized\":\"f\",\"defaultValue\":\"gzuriglaecxndt\"}]}]}}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        InformaticaDataManagementManager manager = InformaticaDataManagementManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        ServerlessMetadataResponse response = manager.organizations()
            .getServerlessMetadataWithResponse("uffkmrqemvvh", "xtdr", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals(RuntimeType.SERVERLESS, response.type());
        Assertions.assertEquals(PlatformType.AZURE, response.serverlessConfigProperties().platform());
        Assertions.assertEquals("jvewzcjznmwcp",
            response.serverlessConfigProperties().applicationTypes().get(0).name());
        Assertions.assertEquals("uaadraufactkahzo",
            response.serverlessConfigProperties().applicationTypes().get(0).value());
        Assertions.assertEquals("rds", response.serverlessConfigProperties().computeUnits().get(0).name());
        Assertions.assertEquals("jbazpjuohminy",
            response.serverlessConfigProperties().computeUnits().get(0).value().get(0));
        Assertions.assertEquals("pnnbjc", response.serverlessConfigProperties().executionTimeout());
        Assertions.assertEquals("bbdaxco", response.serverlessConfigProperties().regions().get(0).id());
        Assertions.assertEquals("ozauorsukokwb", response.serverlessConfigProperties().regions().get(0).name());
        Assertions.assertEquals("zsoldwey",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).engineName());
        Assertions.assertEquals("qdunvmnnrwrbior",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).engineVersion());
        Assertions.assertEquals("alywjhhgdn",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).applicationConfigs().get(0).type());
        Assertions.assertEquals("xmsivfomiloxggdu",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).applicationConfigs().get(0).name());
        Assertions.assertEquals("iqndieuzaofj",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).applicationConfigs().get(0).value());
        Assertions.assertEquals("hvcyyysfg",
            response.serverlessRuntimeConfigProperties()
                .cdiConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .platform());
        Assertions.assertEquals("otcubi",
            response.serverlessRuntimeConfigProperties()
                .cdiConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .customized());
        Assertions.assertEquals("p",
            response.serverlessRuntimeConfigProperties()
                .cdiConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .defaultValue());
        Assertions.assertEquals("uajlyj",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).engineName());
        Assertions.assertEquals("lvofqzhvfcibyfmo",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).engineVersion());
        Assertions.assertEquals("xrkjpvdw",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).applicationConfigs().get(0).type());
        Assertions.assertEquals("fzwiivwzjbhyz",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).applicationConfigs().get(0).name());
        Assertions.assertEquals("xjrk",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).applicationConfigs().get(0).value());
        Assertions.assertEquals("mbtrnegvmnvu",
            response.serverlessRuntimeConfigProperties()
                .cdieConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .platform());
        Assertions.assertEquals("eqvldspast",
            response.serverlessRuntimeConfigProperties()
                .cdieConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .customized());
        Assertions.assertEquals("bkkd",
            response.serverlessRuntimeConfigProperties()
                .cdieConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .defaultValue());
    }
}
