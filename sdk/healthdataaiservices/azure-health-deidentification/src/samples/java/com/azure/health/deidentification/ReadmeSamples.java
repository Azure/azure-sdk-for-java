// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.health.deidentification;

import com.azure.core.exception.HttpResponseException;
import com.azure.core.http.HttpClient;
import com.azure.core.http.policy.HttpLogDetailLevel;
import com.azure.core.http.policy.HttpLogOptions;
import com.azure.core.util.Configuration;
import com.azure.health.deidentification.models.DeidentificationContent;
import com.azure.health.deidentification.models.DeidentificationResult;
import com.azure.health.deidentification.models.DeidentificationOperationType;
import com.azure.identity.DefaultAzureCredentialBuilder;

public final class ReadmeSamples {
    private final DeidentificationClient deidentificationClient = new DeidentificationClientBuilder().buildClient();

    public void readmeSamples() {
        // BEGIN: readme-sample-create-client
        DeidentificationClient deidentificationClient = new DeidentificationClientBuilder()
            .endpoint("endpoint")
            .credential(new DefaultAzureCredentialBuilder().build())
            .buildClient();
        // END: readme-sample-create-client

        String inputText = "Hello, my name is John Smith.";
        DeidentificationContent content = new DeidentificationContent(inputText);
        content.setOperation(DeidentificationOperationType.SURROGATE);

        DeidentificationResult result = deidentificationClient.deidentifyText(content);
        System.out.println("De-identified output: " + result.getOutputText());
    }

    /**
     * Code snippet for handling exception
     */
    public void handlingException() {
        // BEGIN: readme-sample-handlingException
        try {
            DeidentificationContent content = new DeidentificationContent("input text");
            deidentificationClient.deidentifyText(content);
        } catch (HttpResponseException e) {
            System.out.println(e.getMessage());
            // Do something with the exception
        }
        // END: readme-sample-handlingException
    }
}
