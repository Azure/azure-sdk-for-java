// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.health.deidentification;

import com.azure.core.exception.HttpResponseException;
import com.azure.core.util.Configuration;
import com.azure.health.deidentification.models.DeidentificationContent;
import com.azure.identity.DefaultAzureCredentialBuilder;

public final class ReadmeSamples {
    private final DeidentificationClient deidentificationClient = new DeidentificationClientBuilder().buildClient();

    public void createClient() {
        // BEGIN: readme-sample-create-client
        DeidentificationClient deidentificationClient = new DeidentificationClientBuilder()
            .endpoint(Configuration.getGlobalConfiguration().get("DEID_ENDPOINT"))
            .credential(new DefaultAzureCredentialBuilder().build())
            .buildClient();
        // END: readme-sample-create-client
    }

    public void createAsyncClient() {
        // BEGIN: readme-sample-create-async-client
        DeidentificationAsyncClient deidentificationAsyncClient = new DeidentificationClientBuilder()
            .endpoint(Configuration.getGlobalConfiguration().get("DEID_ENDPOINT"))
            .credential(new DefaultAzureCredentialBuilder().build())
            .buildAsyncClient();
        // END: readme-sample-create-async-client
    }

    /**
     * Code snippet for handling exception
     */
    public void handlingException() {
        // BEGIN: readme-sample-handlingException
        try {
            DeidentificationContent content = new DeidentificationContent("input text");
            deidentificationClient.deidentifyText(content);
        } catch (HttpResponseException e) {
            System.out.println(e.getMessage());
            // Do something with the exception
        }
        // END: readme-sample-handlingException
    }
}
