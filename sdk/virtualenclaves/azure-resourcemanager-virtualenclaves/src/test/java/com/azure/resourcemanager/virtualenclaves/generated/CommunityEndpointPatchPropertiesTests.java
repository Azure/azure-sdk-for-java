// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.virtualenclaves.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.virtualenclaves.models.CommunityEndpointDestinationRule;
import com.azure.resourcemanager.virtualenclaves.models.CommunityEndpointPatchProperties;
import com.azure.resourcemanager.virtualenclaves.models.CommunityEndpointProtocol;
import com.azure.resourcemanager.virtualenclaves.models.DestinationType;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class CommunityEndpointPatchPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        CommunityEndpointPatchProperties model = BinaryData.fromString(
            "{\"ruleCollection\":[{\"destinationType\":\"FQDN\",\"protocols\":[\"HTTP\",\"ESP\"],\"transitHubResourceId\":\"tijfybvp\",\"endpointRuleName\":\"krsgsgb\",\"destination\":\"uzqgnjdgkynsc\",\"ports\":\"qhzvhxnkomt\"},{\"destinationType\":\"FQDN\",\"protocols\":[\"ICMP\"],\"transitHubResourceId\":\"nvdxzxhihfrbbc\",\"endpointRuleName\":\"qagt\",\"destination\":\"dhlfkqojpykvgt\",\"ports\":\"cnifm\"}]}")
            .toObject(CommunityEndpointPatchProperties.class);
        Assertions.assertEquals(DestinationType.FQDN, model.ruleCollection().get(0).destinationType());
        Assertions.assertEquals(CommunityEndpointProtocol.HTTP, model.ruleCollection().get(0).protocols().get(0));
        Assertions.assertEquals("tijfybvp", model.ruleCollection().get(0).transitHubResourceId());
        Assertions.assertEquals("krsgsgb", model.ruleCollection().get(0).endpointRuleName());
        Assertions.assertEquals("uzqgnjdgkynsc", model.ruleCollection().get(0).destination());
        Assertions.assertEquals("qhzvhxnkomt", model.ruleCollection().get(0).ports());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        CommunityEndpointPatchProperties model
            = new CommunityEndpointPatchProperties()
                .withRuleCollection(
                    Arrays
                        .asList(
                            new CommunityEndpointDestinationRule().withDestinationType(DestinationType.FQDN)
                                .withProtocols(
                                    Arrays.asList(CommunityEndpointProtocol.HTTP, CommunityEndpointProtocol.ESP))
                                .withTransitHubResourceId("tijfybvp")
                                .withEndpointRuleName("krsgsgb")
                                .withDestination("uzqgnjdgkynsc")
                                .withPorts("qhzvhxnkomt"),
                            new CommunityEndpointDestinationRule().withDestinationType(DestinationType.FQDN)
                                .withProtocols(Arrays.asList(CommunityEndpointProtocol.ICMP))
                                .withTransitHubResourceId("nvdxzxhihfrbbc")
                                .withEndpointRuleName("qagt")
                                .withDestination("dhlfkqojpykvgt")
                                .withPorts("cnifm")));
        model = BinaryData.fromObject(model).toObject(CommunityEndpointPatchProperties.class);
        Assertions.assertEquals(DestinationType.FQDN, model.ruleCollection().get(0).destinationType());
        Assertions.assertEquals(CommunityEndpointProtocol.HTTP, model.ruleCollection().get(0).protocols().get(0));
        Assertions.assertEquals("tijfybvp", model.ruleCollection().get(0).transitHubResourceId());
        Assertions.assertEquals("krsgsgb", model.ruleCollection().get(0).endpointRuleName());
        Assertions.assertEquals("uzqgnjdgkynsc", model.ruleCollection().get(0).destination());
        Assertions.assertEquals("qhzvhxnkomt", model.ruleCollection().get(0).ports());
    }
}
