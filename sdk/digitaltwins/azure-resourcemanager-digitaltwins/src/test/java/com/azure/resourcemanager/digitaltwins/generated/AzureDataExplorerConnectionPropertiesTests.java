// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.digitaltwins.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.digitaltwins.models.AzureDataExplorerConnectionProperties;
import com.azure.resourcemanager.digitaltwins.models.IdentityType;
import com.azure.resourcemanager.digitaltwins.models.ManagedIdentityReference;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class AzureDataExplorerConnectionPropertiesTests {
    @Test
    public void testDeserialize() {
        AzureDataExplorerConnectionProperties model =
            BinaryData
                .fromString(
                    "{\"connectionType\":\"AzureDataExplorer\",\"adxResourceId\":\"wflzlfbxzpuzy\",\"adxEndpointUri\":\"ispnqzahmgkbrp\",\"adxDatabaseName\":\"y\",\"adxTableName\":\"ibnuqqkpik\",\"eventHubEndpointUri\":\"drgvtqagn\",\"eventHubEntityPath\":\"uynhijg\",\"eventHubNamespaceResourceId\":\"mebf\",\"eventHubConsumerGroup\":\"arbu\",\"provisioningState\":\"Restoring\",\"identity\":{\"type\":\"SystemAssigned\",\"userAssignedIdentity\":\"zzmhjrunmpxttd\"}}")
                .toObject(AzureDataExplorerConnectionProperties.class);
        Assertions.assertEquals(IdentityType.SYSTEM_ASSIGNED, model.identity().type());
        Assertions.assertEquals("zzmhjrunmpxttd", model.identity().userAssignedIdentity());
        Assertions.assertEquals("wflzlfbxzpuzy", model.adxResourceId());
        Assertions.assertEquals("ispnqzahmgkbrp", model.adxEndpointUri());
        Assertions.assertEquals("y", model.adxDatabaseName());
        Assertions.assertEquals("ibnuqqkpik", model.adxTableName());
        Assertions.assertEquals("drgvtqagn", model.eventHubEndpointUri());
        Assertions.assertEquals("uynhijg", model.eventHubEntityPath());
        Assertions.assertEquals("mebf", model.eventHubNamespaceResourceId());
        Assertions.assertEquals("arbu", model.eventHubConsumerGroup());
    }

    @Test
    public void testSerialize() {
        AzureDataExplorerConnectionProperties model =
            new AzureDataExplorerConnectionProperties()
                .withIdentity(
                    new ManagedIdentityReference()
                        .withType(IdentityType.SYSTEM_ASSIGNED)
                        .withUserAssignedIdentity("zzmhjrunmpxttd"))
                .withAdxResourceId("wflzlfbxzpuzy")
                .withAdxEndpointUri("ispnqzahmgkbrp")
                .withAdxDatabaseName("y")
                .withAdxTableName("ibnuqqkpik")
                .withEventHubEndpointUri("drgvtqagn")
                .withEventHubEntityPath("uynhijg")
                .withEventHubNamespaceResourceId("mebf")
                .withEventHubConsumerGroup("arbu");
        model = BinaryData.fromObject(model).toObject(AzureDataExplorerConnectionProperties.class);
        Assertions.assertEquals(IdentityType.SYSTEM_ASSIGNED, model.identity().type());
        Assertions.assertEquals("zzmhjrunmpxttd", model.identity().userAssignedIdentity());
        Assertions.assertEquals("wflzlfbxzpuzy", model.adxResourceId());
        Assertions.assertEquals("ispnqzahmgkbrp", model.adxEndpointUri());
        Assertions.assertEquals("y", model.adxDatabaseName());
        Assertions.assertEquals("ibnuqqkpik", model.adxTableName());
        Assertions.assertEquals("drgvtqagn", model.eventHubEndpointUri());
        Assertions.assertEquals("uynhijg", model.eventHubEntityPath());
        Assertions.assertEquals("mebf", model.eventHubNamespaceResourceId());
        Assertions.assertEquals("arbu", model.eventHubConsumerGroup());
    }
}
