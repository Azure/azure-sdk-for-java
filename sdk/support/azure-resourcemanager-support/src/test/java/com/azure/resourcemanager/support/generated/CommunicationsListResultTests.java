// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.support.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.support.fluent.models.CommunicationDetailsInner;
import com.azure.resourcemanager.support.models.CommunicationsListResult;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class CommunicationsListResultTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        CommunicationsListResult model =
            BinaryData
                .fromString(
                    "{\"value\":[{\"properties\":{\"communicationType\":\"web\",\"communicationDirection\":\"inbound\",\"sender\":\"btdhxujznbm\",\"subject\":\"ow\",\"body\":\"wpr\",\"createdDate\":\"2021-01-10T20:10:28Z\"},\"id\":\"veual\",\"name\":\"pjmkhfxobbc\",\"type\":\"wsrtjriplrbpbe\"},{\"properties\":{\"communicationType\":\"web\",\"communicationDirection\":\"outbound\",\"sender\":\"lcgwxzvlvqh\",\"subject\":\"kbegibt\",\"body\":\"mxiebw\",\"createdDate\":\"2021-08-25T02:24:40Z\"},\"id\":\"oayqc\",\"name\":\"wrtz\",\"type\":\"uzgwyzmhtx\"}],\"nextLink\":\"gmtsavjcbpwxqpsr\"}")
                .toObject(CommunicationsListResult.class);
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).sender());
        Assertions.assertEquals("ow", model.value().get(0).subject());
        Assertions.assertEquals("wpr", model.value().get(0).body());
        Assertions.assertEquals("gmtsavjcbpwxqpsr", model.nextLink());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        CommunicationsListResult model =
            new CommunicationsListResult()
                .withValue(
                    Arrays
                        .asList(
                            new CommunicationDetailsInner().withSender("btdhxujznbm").withSubject("ow").withBody("wpr"),
                            new CommunicationDetailsInner()
                                .withSender("lcgwxzvlvqh")
                                .withSubject("kbegibt")
                                .withBody("mxiebw")))
                .withNextLink("gmtsavjcbpwxqpsr");
        model = BinaryData.fromObject(model).toObject(CommunicationsListResult.class);
        Assertions.assertEquals("btdhxujznbm", model.value().get(0).sender());
        Assertions.assertEquals("ow", model.value().get(0).subject());
        Assertions.assertEquals("wpr", model.value().get(0).body());
        Assertions.assertEquals("gmtsavjcbpwxqpsr", model.nextLink());
    }
}
