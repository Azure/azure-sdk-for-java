// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.support.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.support.SupportManager;
import com.azure.resourcemanager.support.models.Consent;
import com.azure.resourcemanager.support.models.PreferredContactMethod;
import com.azure.resourcemanager.support.models.SeverityLevel;
import com.azure.resourcemanager.support.models.SupportTicketDetails;
import com.azure.resourcemanager.support.models.UserConsent;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class SupportTicketsNoSubscriptionsGetWithResponseMockTests {
    @Test
    public void testGetWithResponse() throws Exception {
        String responseStr
            = "{\"properties\":{\"supportTicketId\":\"pfcqdp\",\"description\":\"qxqvpsvuoymgc\",\"problemClassificationId\":\"elvezrypq\",\"problemClassificationDisplayName\":\"feo\",\"severity\":\"highestcriticalimpact\",\"enrollmentId\":\"qwkyhkobop\",\"require24X7Response\":true,\"advancedDiagnosticConsent\":\"Yes\",\"problemScopingQuestions\":\"owepbqpcrfkb\",\"supportPlanId\":\"csnjvcdwxlpqekft\",\"contactDetails\":{\"firstName\":\"khtj\",\"lastName\":\"y\",\"preferredContactMethod\":\"email\",\"primaryEmailAddress\":\"gwfqatmt\",\"additionalEmailAddresses\":[\"mdvy\",\"gikdgsz\",\"w\"],\"phoneNumber\":\"irryuzhlh\",\"preferredTimeZone\":\"joqrvqqaatj\",\"country\":\"nrvgoupmfiibfgg\",\"preferredSupportLanguage\":\"ioolvrwxkvtkkgll\"},\"serviceLevelAgreement\":{\"startTime\":\"2021-01-21T12:15:37Z\",\"expirationTime\":\"2021-08-08T04:13:54Z\",\"slaMinutes\":1394665734},\"supportEngineer\":{\"emailAddress\":\"blmhvkzuhb\"},\"supportPlanType\":\"vyhgs\",\"supportPlanDisplayName\":\"byrqufeg\",\"title\":\"uvwzfbnh\",\"problemStartTime\":\"2021-03-19T20:32:18Z\",\"serviceId\":\"tlpdn\",\"serviceDisplayName\":\"tvgbmhrixkwmy\",\"status\":\"ejvegrhbpnaixex\",\"createdDate\":\"2021-02-01T22:21:46Z\",\"modifiedDate\":\"2020-12-28T17:34:21Z\",\"fileWorkspaceName\":\"ax\",\"isTemporaryTicket\":\"No\",\"technicalTicketDetails\":{\"resourceId\":\"rrvqa\"},\"quotaTicketDetails\":{\"quotaChangeRequestSubType\":\"ghtpw\",\"quotaChangeRequestVersion\":\"nhyjsv\",\"quotaChangeRequests\":[{\"region\":\"z\",\"payload\":\"voowvr\"},{\"region\":\"t\",\"payload\":\"qp\"},{\"region\":\"ostronz\",\"payload\":\"hgfipnsxkmcw\"}]},\"secondaryConsent\":[{\"userConsent\":\"No\",\"type\":\"reafxtsgumhjg\"},{\"userConsent\":\"Yes\",\"type\":\"xwslolbqpv\"}]},\"id\":\"zlmvfelfktgp\",\"name\":\"crpw\",\"type\":\"xeznoi\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        SupportManager manager = SupportManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        SupportTicketDetails response = manager.supportTicketsNoSubscriptions()
            .getWithResponse("semdwzrmu", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals("pfcqdp", response.supportTicketId());
        Assertions.assertEquals("qxqvpsvuoymgc", response.description());
        Assertions.assertEquals("elvezrypq", response.problemClassificationId());
        Assertions.assertEquals(SeverityLevel.HIGHESTCRITICALIMPACT, response.severity());
        Assertions.assertEquals("qwkyhkobop", response.enrollmentId());
        Assertions.assertEquals(true, response.require24X7Response());
        Assertions.assertEquals(Consent.YES, response.advancedDiagnosticConsent());
        Assertions.assertEquals("owepbqpcrfkb", response.problemScopingQuestions());
        Assertions.assertEquals("csnjvcdwxlpqekft", response.supportPlanId());
        Assertions.assertEquals("khtj", response.contactDetails().firstName());
        Assertions.assertEquals("y", response.contactDetails().lastName());
        Assertions.assertEquals(PreferredContactMethod.EMAIL, response.contactDetails().preferredContactMethod());
        Assertions.assertEquals("gwfqatmt", response.contactDetails().primaryEmailAddress());
        Assertions.assertEquals("mdvy", response.contactDetails().additionalEmailAddresses().get(0));
        Assertions.assertEquals("irryuzhlh", response.contactDetails().phoneNumber());
        Assertions.assertEquals("joqrvqqaatj", response.contactDetails().preferredTimeZone());
        Assertions.assertEquals("nrvgoupmfiibfgg", response.contactDetails().country());
        Assertions.assertEquals("ioolvrwxkvtkkgll", response.contactDetails().preferredSupportLanguage());
        Assertions.assertEquals("uvwzfbnh", response.title());
        Assertions.assertEquals(OffsetDateTime.parse("2021-03-19T20:32:18Z"), response.problemStartTime());
        Assertions.assertEquals("tlpdn", response.serviceId());
        Assertions.assertEquals("ax", response.fileWorkspaceName());
        Assertions.assertEquals("rrvqa", response.technicalTicketDetails().resourceId());
        Assertions.assertEquals("ghtpw", response.quotaTicketDetails().quotaChangeRequestSubType());
        Assertions.assertEquals("nhyjsv", response.quotaTicketDetails().quotaChangeRequestVersion());
        Assertions.assertEquals("z", response.quotaTicketDetails().quotaChangeRequests().get(0).region());
        Assertions.assertEquals("voowvr", response.quotaTicketDetails().quotaChangeRequests().get(0).payload());
        Assertions.assertEquals(UserConsent.NO, response.secondaryConsent().get(0).userConsent());
        Assertions.assertEquals("reafxtsgumhjg", response.secondaryConsent().get(0).type());
    }
}
