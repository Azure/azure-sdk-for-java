// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.mysqlflexibleserver.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.mysqlflexibleserver.MySqlManager;
import com.azure.resourcemanager.mysqlflexibleserver.models.CapabilityProperties;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class LocationBasedCapabilitiesListMockTests {
    @Test
    public void testList() throws Exception {
        String responseStr
            = "{\"value\":[{\"zone\":\"birdsvuwcobiegs\",\"supportedHAMode\":[\"inwjizcilngh\",\"shejjtbxqm\"],\"supportedGeoBackupRegions\":[\"xlxqzvn\",\"rsbycucrwn\",\"mikzeb\"],\"supportedFlexibleServerEditions\":[{\"name\":\"mswziq\",\"supportedStorageEditions\":[{\"name\":\"okzrus\",\"minStorageSize\":1298554269715069775,\"maxStorageSize\":9222553191715006506,\"minBackupRetentionDays\":5199519854326701791,\"maxBackupRetentionDays\":5304499923399164472,\"minBackupIntervalHours\":8188906980935877313,\"maxBackupIntervalHours\":653571144085928241}],\"supportedServerVersions\":[{\"name\":\"vumwmxqh\",\"supportedSkus\":[{},{},{}]}]},{\"name\":\"oamld\",\"supportedStorageEditions\":[{\"name\":\"ohdjhhflzok\",\"minStorageSize\":1867355881553192384,\"maxStorageSize\":1100672907696653041,\"minBackupRetentionDays\":5958311403338730339,\"maxBackupRetentionDays\":8142761797538490880,\"minBackupIntervalHours\":2159915633768308562,\"maxBackupIntervalHours\":8104478418656505228},{\"name\":\"ftgz\",\"minStorageSize\":6123043499529132871,\"maxStorageSize\":5239547603354777125,\"minBackupRetentionDays\":3650774650630934451,\"maxBackupRetentionDays\":8041884881158230737,\"minBackupIntervalHours\":4983178459596212758,\"maxBackupIntervalHours\":7073196543042110246},{\"name\":\"m\",\"minStorageSize\":926180935823108880,\"maxStorageSize\":2747344239164426794,\"minBackupRetentionDays\":7225694249988782506,\"maxBackupRetentionDays\":9179068643802450667,\"minBackupIntervalHours\":8743829512964463352,\"maxBackupIntervalHours\":3210872962894477741},{\"name\":\"tfmpcycilrmcayk\",\"minStorageSize\":1278559896090227479,\"maxStorageSize\":7854368110590008856,\"minBackupRetentionDays\":1377741870083987751,\"maxBackupRetentionDays\":645933725582619027,\"minBackupIntervalHours\":6940085023434351835,\"maxBackupIntervalHours\":6212137092519851284}],\"supportedServerVersions\":[{\"name\":\"nthjtwkjaosrxuzv\",\"supportedSkus\":[{},{},{},{}]},{\"name\":\"tcqiosmg\",\"supportedSkus\":[{}]}]},{\"name\":\"gxq\",\"supportedStorageEditions\":[{\"name\":\"tlt\",\"minStorageSize\":5185737430210196834,\"maxStorageSize\":1522364843172111954,\"minBackupRetentionDays\":773093768865892885,\"maxBackupRetentionDays\":2331751686960828607,\"minBackupIntervalHours\":7131832436161976191,\"maxBackupIntervalHours\":560485342476270994},{\"name\":\"qeqala\",\"minStorageSize\":5757680972052260534,\"maxStorageSize\":2285507075880761300,\"minBackupRetentionDays\":9185198515701434959,\"maxBackupRetentionDays\":8910312326776481517,\"minBackupIntervalHours\":144963050942155735,\"maxBackupIntervalHours\":434990106020614048},{\"name\":\"reeudzqavb\",\"minStorageSize\":8831511636690175836,\"maxStorageSize\":1465450309959087886,\"minBackupRetentionDays\":6252857739303914193,\"maxBackupRetentionDays\":2240241891123749255,\"minBackupIntervalHours\":3262041802648537720,\"maxBackupIntervalHours\":7389766894389519511},{\"name\":\"jyuojqtobaxkjeyt\",\"minStorageSize\":7103604818912185763,\"maxStorageSize\":1092833770450672714,\"minBackupRetentionDays\":5043868103508202186,\"maxBackupRetentionDays\":143163252550926951,\"minBackupIntervalHours\":3923529219175299110,\"maxBackupIntervalHours\":390651230016617705}],\"supportedServerVersions\":[{\"name\":\"jqhden\",\"supportedSkus\":[{},{}]},{\"name\":\"kpak\",\"supportedSkus\":[{},{}]}]}]}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        MySqlManager manager = MySqlManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        PagedIterable<CapabilityProperties> response
            = manager.locationBasedCapabilities().list("du", com.azure.core.util.Context.NONE);

    }
}
