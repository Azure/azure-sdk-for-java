// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.mysqlflexibleserver.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.mysqlflexibleserver.MySqlManager;
import com.azure.resourcemanager.mysqlflexibleserver.models.CapabilityProperties;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class LocationBasedCapabilitiesListMockTests {
    @Test
    public void testList() throws Exception {
        String responseStr
            = "{\"value\":[{\"zone\":\"adbzmnvdfznud\",\"supportedHAMode\":[\"vxzbncb\",\"ylpstdbhhxsrzdz\",\"cers\",\"dntnevf\"],\"supportedGeoBackupRegions\":[\"mygtdssls\",\"tmweriofzpyq\",\"emwabnet\",\"hhszh\"],\"supportedFlexibleServerEditions\":[{\"name\":\"vwiwubmwmbesld\",\"supportedStorageEditions\":[{\"name\":\"tppjflcx\",\"minStorageSize\":3058762238955275057,\"maxStorageSize\":2510700461860168657,\"minBackupRetentionDays\":93220061334436953,\"maxBackupRetentionDays\":2991398819380628456},{\"name\":\"mkqzeqqkdltfzxmh\",\"minStorageSize\":4664695938466420383,\"maxStorageSize\":290569327537915175,\"minBackupRetentionDays\":820800207830190162,\"maxBackupRetentionDays\":5369174747362686105}],\"supportedServerVersions\":[{\"name\":\"xtibqdxbxwakbog\",\"supportedSkus\":[{},{},{}]},{\"name\":\"lkzgxhuriplbp\",\"supportedSkus\":[{},{},{},{}]}]},{\"name\":\"nkbebxmuby\",\"supportedStorageEditions\":[{\"name\":\"lrb\",\"minStorageSize\":8228747938287613437,\"maxStorageSize\":9145634763199835148,\"minBackupRetentionDays\":4523060122413380781,\"maxBackupRetentionDays\":2880173002615591497},{\"name\":\"l\",\"minStorageSize\":4929519207657456173,\"maxStorageSize\":8105546637199671811,\"minBackupRetentionDays\":8220583929714824601,\"maxBackupRetentionDays\":2432465930399611430}],\"supportedServerVersions\":[{\"name\":\"gcj\",\"supportedSkus\":[{}]},{\"name\":\"muvp\",\"supportedSkus\":[{}]},{\"name\":\"um\",\"supportedSkus\":[{}]},{\"name\":\"xe\",\"supportedSkus\":[{},{}]}]},{\"name\":\"btbhjpglkfgohd\",\"supportedStorageEditions\":[{\"name\":\"lfphsdyhtozfikd\",\"minStorageSize\":2120097512911222232,\"maxStorageSize\":891560083261976989,\"minBackupRetentionDays\":2092756450243660051,\"maxBackupRetentionDays\":6214959618688242083}],\"supportedServerVersions\":[{\"name\":\"hqzonosggbhcoh\",\"supportedSkus\":[{},{}]},{\"name\":\"jnkaljutiiswacff\",\"supportedSkus\":[{}]},{\"name\":\"zewk\",\"supportedSkus\":[{},{},{}]},{\"name\":\"crailvpn\",\"supportedSkus\":[{},{},{}]}]},{\"name\":\"flrwd\",\"supportedStorageEditions\":[{\"name\":\"xyjrxsagafcnih\",\"minStorageSize\":3130876298104392093,\"maxStorageSize\":7972426552267245030,\"minBackupRetentionDays\":8610358802606955668,\"maxBackupRetentionDays\":6066782690220181009},{\"name\":\"cvqvpkeqdcv\",\"minStorageSize\":5404644626428061791,\"maxStorageSize\":4054103831441569061,\"minBackupRetentionDays\":3436329358206451649,\"maxBackupRetentionDays\":6797997194848060096}],\"supportedServerVersions\":[{\"name\":\"pcjwv\",\"supportedSkus\":[{},{}]},{\"name\":\"d\",\"supportedSkus\":[{}]},{\"name\":\"cxrslpmutwuoe\",\"supportedSkus\":[{},{}]}]}]}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        MySqlManager manager = MySqlManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        PagedIterable<CapabilityProperties> response
            = manager.locationBasedCapabilities().list("wyhzdx", com.azure.core.util.Context.NONE);

    }
}
