// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managednetworkfabric.models.AggregateRoute;
import com.azure.resourcemanager.managednetworkfabric.models.AggregateRoutePatchConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.ConnectedSubnetRoutePolicyPatch;
import com.azure.resourcemanager.managednetworkfabric.models.L3ExportRoutePolicyPatch;
import com.azure.resourcemanager.managednetworkfabric.models.L3IsolationDomainPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.RedistributeConnectedSubnets;
import com.azure.resourcemanager.managednetworkfabric.models.RedistributeStaticRoutes;
import com.azure.resourcemanager.managednetworkfabric.models.RoutePrefixLimitPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.StaticRouteRoutePolicyPatch;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class L3IsolationDomainPatchPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        L3IsolationDomainPatchProperties model = BinaryData.fromString(
            "{\"annotation\":\"tuh\",\"redistributeConnectedSubnets\":\"False\",\"redistributeStaticRoutes\":\"False\",\"aggregateRouteConfiguration\":{\"ipv4Routes\":[{\"prefix\":\"duyeuyl\"},{\"prefix\":\"phm\"},{\"prefix\":\"ybkcgsuthhllnmwy\"}],\"ipv6Routes\":[{\"prefix\":\"x\"},{\"prefix\":\"x\"},{\"prefix\":\"fciatxtjrr\"},{\"prefix\":\"kmdskjhhxd\"}]},\"connectedSubnetRoutePolicy\":{\"exportRoutePolicy\":{\"exportIpv4RoutePolicyId\":\"oxcxscvslx\",\"exportIpv6RoutePolicyId\":\"uavkrmukm\"}},\"staticRouteRoutePolicy\":{\"exportRoutePolicy\":{\"exportIpv4RoutePolicyId\":\"xett\",\"exportIpv6RoutePolicyId\":\"lojfkqidnqto\"}},\"routePrefixLimit\":{\"hardLimit\":1052913178,\"threshold\":317865008}}")
            .toObject(L3IsolationDomainPatchProperties.class);
        Assertions.assertEquals("tuh", model.annotation());
        Assertions.assertEquals(RedistributeConnectedSubnets.FALSE, model.redistributeConnectedSubnets());
        Assertions.assertEquals(RedistributeStaticRoutes.FALSE, model.redistributeStaticRoutes());
        Assertions.assertEquals("duyeuyl", model.aggregateRouteConfiguration().ipv4Routes().get(0).prefix());
        Assertions.assertEquals("x", model.aggregateRouteConfiguration().ipv6Routes().get(0).prefix());
        Assertions.assertEquals("oxcxscvslx",
            model.connectedSubnetRoutePolicy().exportRoutePolicy().exportIpv4RoutePolicyId());
        Assertions.assertEquals("uavkrmukm",
            model.connectedSubnetRoutePolicy().exportRoutePolicy().exportIpv6RoutePolicyId());
        Assertions.assertEquals("xett", model.staticRouteRoutePolicy().exportRoutePolicy().exportIpv4RoutePolicyId());
        Assertions.assertEquals("lojfkqidnqto",
            model.staticRouteRoutePolicy().exportRoutePolicy().exportIpv6RoutePolicyId());
        Assertions.assertEquals(1052913178, model.routePrefixLimit().hardLimit());
        Assertions.assertEquals(317865008, model.routePrefixLimit().threshold());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        L3IsolationDomainPatchProperties model = new L3IsolationDomainPatchProperties().withAnnotation("tuh")
            .withRedistributeConnectedSubnets(RedistributeConnectedSubnets.FALSE)
            .withRedistributeStaticRoutes(RedistributeStaticRoutes.FALSE)
            .withAggregateRouteConfiguration(new AggregateRoutePatchConfiguration()
                .withIpv4Routes(Arrays.asList(new AggregateRoute().withPrefix("duyeuyl"),
                    new AggregateRoute().withPrefix("phm"), new AggregateRoute().withPrefix("ybkcgsuthhllnmwy")))
                .withIpv6Routes(
                    Arrays.asList(new AggregateRoute().withPrefix("x"), new AggregateRoute().withPrefix("x"),
                        new AggregateRoute().withPrefix("fciatxtjrr"), new AggregateRoute().withPrefix("kmdskjhhxd"))))
            .withConnectedSubnetRoutePolicy(new ConnectedSubnetRoutePolicyPatch()
                .withExportRoutePolicy(new L3ExportRoutePolicyPatch().withExportIpv4RoutePolicyId("oxcxscvslx")
                    .withExportIpv6RoutePolicyId("uavkrmukm")))
            .withStaticRouteRoutePolicy(new StaticRouteRoutePolicyPatch()
                .withExportRoutePolicy(new L3ExportRoutePolicyPatch().withExportIpv4RoutePolicyId("xett")
                    .withExportIpv6RoutePolicyId("lojfkqidnqto")))
            .withRoutePrefixLimit(
                new RoutePrefixLimitPatchProperties().withHardLimit(1052913178).withThreshold(317865008));
        model = BinaryData.fromObject(model).toObject(L3IsolationDomainPatchProperties.class);
        Assertions.assertEquals("tuh", model.annotation());
        Assertions.assertEquals(RedistributeConnectedSubnets.FALSE, model.redistributeConnectedSubnets());
        Assertions.assertEquals(RedistributeStaticRoutes.FALSE, model.redistributeStaticRoutes());
        Assertions.assertEquals("duyeuyl", model.aggregateRouteConfiguration().ipv4Routes().get(0).prefix());
        Assertions.assertEquals("x", model.aggregateRouteConfiguration().ipv6Routes().get(0).prefix());
        Assertions.assertEquals("oxcxscvslx",
            model.connectedSubnetRoutePolicy().exportRoutePolicy().exportIpv4RoutePolicyId());
        Assertions.assertEquals("uavkrmukm",
            model.connectedSubnetRoutePolicy().exportRoutePolicy().exportIpv6RoutePolicyId());
        Assertions.assertEquals("xett", model.staticRouteRoutePolicy().exportRoutePolicy().exportIpv4RoutePolicyId());
        Assertions.assertEquals("lojfkqidnqto",
            model.staticRouteRoutePolicy().exportRoutePolicy().exportIpv6RoutePolicyId());
        Assertions.assertEquals(1052913178, model.routePrefixLimit().hardLimit());
        Assertions.assertEquals(317865008, model.routePrefixLimit().threshold());
    }
}
