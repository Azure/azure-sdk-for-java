// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managednetworkfabric.models.CommunityActionTypes;
import com.azure.resourcemanager.managednetworkfabric.models.IpCommunityProperties;
import com.azure.resourcemanager.managednetworkfabric.models.IpCommunityRule;
import com.azure.resourcemanager.managednetworkfabric.models.WellKnownCommunities;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class IpCommunityPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        IpCommunityProperties model = BinaryData.fromString(
            "{\"annotation\":\"gxdgdhpab\",\"networkFabricId\":\"exjddvjsaqwot\",\"ipCommunityRules\":[{\"action\":\"Permit\",\"sequenceNumber\":4964201215388711394,\"wellKnownCommunities\":[\"GShut\",\"NoExport\",\"LocalAS\"],\"communityMembers\":[\"xaptefhexcgjok\"]},{\"action\":\"Permit\",\"sequenceNumber\":7175556925640052383,\"wellKnownCommunities\":[\"Internet\"],\"communityMembers\":[\"jbekpeeksnbksdq\",\"jvyklxeslkhhust\"]},{\"action\":\"Permit\",\"sequenceNumber\":3767567277930171512,\"wellKnownCommunities\":[\"GShut\",\"GShut\"],\"communityMembers\":[\"qjwgoknlej\",\"jkxyb\"]},{\"action\":\"Permit\",\"sequenceNumber\":9183686445747419798,\"wellKnownCommunities\":[\"GShut\",\"LocalAS\"],\"communityMembers\":[\"ensvkzykjtj\",\"nsxfwu\",\"hcdpkupnqrmgj\"]}],\"lastOperation\":{\"details\":\"kuwxeoiojfizfavk\"},\"configurationState\":\"ErrorProvisioning\",\"provisioningState\":\"Deleting\",\"administrativeState\":\"Enabled\"}")
            .toObject(IpCommunityProperties.class);
        Assertions.assertEquals("gxdgdhpab", model.annotation());
        Assertions.assertEquals(CommunityActionTypes.PERMIT, model.ipCommunityRules().get(0).action());
        Assertions.assertEquals(4964201215388711394L, model.ipCommunityRules().get(0).sequenceNumber());
        Assertions.assertEquals(WellKnownCommunities.GSHUT,
            model.ipCommunityRules().get(0).wellKnownCommunities().get(0));
        Assertions.assertEquals("xaptefhexcgjok", model.ipCommunityRules().get(0).communityMembers().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        IpCommunityProperties model = new IpCommunityProperties().withAnnotation("gxdgdhpab")
            .withIpCommunityRules(Arrays.asList(
                new IpCommunityRule().withAction(CommunityActionTypes.PERMIT)
                    .withSequenceNumber(4964201215388711394L)
                    .withWellKnownCommunities(Arrays.asList(WellKnownCommunities.GSHUT, WellKnownCommunities.NO_EXPORT,
                        WellKnownCommunities.LOCAL_AS))
                    .withCommunityMembers(Arrays.asList("xaptefhexcgjok")),
                new IpCommunityRule().withAction(CommunityActionTypes.PERMIT)
                    .withSequenceNumber(7175556925640052383L)
                    .withWellKnownCommunities(Arrays.asList(WellKnownCommunities.INTERNET))
                    .withCommunityMembers(Arrays.asList("jbekpeeksnbksdq", "jvyklxeslkhhust")),
                new IpCommunityRule().withAction(CommunityActionTypes.PERMIT)
                    .withSequenceNumber(3767567277930171512L)
                    .withWellKnownCommunities(Arrays.asList(WellKnownCommunities.GSHUT, WellKnownCommunities.GSHUT))
                    .withCommunityMembers(Arrays.asList("qjwgoknlej", "jkxyb")),
                new IpCommunityRule().withAction(CommunityActionTypes.PERMIT)
                    .withSequenceNumber(9183686445747419798L)
                    .withWellKnownCommunities(Arrays.asList(WellKnownCommunities.GSHUT, WellKnownCommunities.LOCAL_AS))
                    .withCommunityMembers(Arrays.asList("ensvkzykjtj", "nsxfwu", "hcdpkupnqrmgj"))));
        model = BinaryData.fromObject(model).toObject(IpCommunityProperties.class);
        Assertions.assertEquals("gxdgdhpab", model.annotation());
        Assertions.assertEquals(CommunityActionTypes.PERMIT, model.ipCommunityRules().get(0).action());
        Assertions.assertEquals(4964201215388711394L, model.ipCommunityRules().get(0).sequenceNumber());
        Assertions.assertEquals(WellKnownCommunities.GSHUT,
            model.ipCommunityRules().get(0).wellKnownCommunities().get(0));
        Assertions.assertEquals("xaptefhexcgjok", model.ipCommunityRules().get(0).communityMembers().get(0));
    }
}
