// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.managednetworkfabric.FilesharesManager;
import com.azure.resourcemanager.managednetworkfabric.models.BfdConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.BmpConfigurationState;
import com.azure.resourcemanager.managednetworkfabric.models.ExportRoutePolicy;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetwork;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkBmpProperties;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkProperties;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkPropertiesOptionAProperties;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkStaticRouteConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.ImportRoutePolicy;
import com.azure.resourcemanager.managednetworkfabric.models.L3OptionBProperties;
import com.azure.resourcemanager.managednetworkfabric.models.NativeIpv4PrefixLimitProperties;
import com.azure.resourcemanager.managednetworkfabric.models.NativeIpv6PrefixLimitProperties;
import com.azure.resourcemanager.managednetworkfabric.models.PeeringOption;
import com.azure.resourcemanager.managednetworkfabric.models.PrefixLimitProperties;
import com.azure.resourcemanager.managednetworkfabric.models.RouteTargetInformation;
import com.azure.resourcemanager.managednetworkfabric.models.StaticRouteProperties;
import com.azure.resourcemanager.managednetworkfabric.models.V4OverV6BgpSessionState;
import com.azure.resourcemanager.managednetworkfabric.models.V6OverV4BgpSessionState;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class ExternalNetworksCreateMockTests {
    @Test
    public void testCreate() throws Exception {
        String responseStr
            = "{\"properties\":{\"annotation\":\"sypo\",\"networkToNetworkInterconnectId\":\"fxzobovsvhbtdgxg\",\"importRoutePolicy\":{\"importIpv4RoutePolicyId\":\"deoubv\",\"importIpv6RoutePolicyId\":\"iswemncjhmvvze\"},\"exportRoutePolicy\":{\"exportIpv4RoutePolicyId\":\"mvbsjtfqwl\",\"exportIpv6RoutePolicyId\":\"qczzscgrop\"},\"peeringOption\":\"OptionA\",\"optionBProperties\":{\"importRouteTargets\":[\"cgkociyikqlyoorm\"],\"exportRouteTargets\":[\"glq\",\"jyk\",\"kyhxu\",\"nbcpiadjslvxs\"],\"routeTargets\":{\"importIpv4RouteTargets\":[\"wbib\",\"viacghygm\",\"bivpz\"],\"importIpv6RouteTargets\":[\"wff\"],\"exportIpv4RouteTargets\":[\"xqyj\",\"sr\",\"pyo\",\"ewvlkzmsyezxifj\"],\"exportIpv6RouteTargets\":[\"uovfotwvkuhtdx\",\"codzdhe\"]}},\"optionAProperties\":{\"primaryIpv4Prefix\":\"cvmx\",\"primaryIpv6Prefix\":\"ndifu\",\"secondaryIpv4Prefix\":\"tkkccrusrz\",\"secondaryIpv6Prefix\":\"oqodya\",\"mtu\":324977433,\"vlanId\":1744928768,\"fabricASN\":2250972904064550706,\"peerASN\":8878300269976780830,\"bfdConfiguration\":{\"administrativeState\":\"Enabled\",\"intervalInMilliSeconds\":853139796,\"multiplier\":1948629941},\"ingressAclId\":\"tilbx\",\"bmpConfiguration\":{\"configurationState\":\"Enabled\"},\"egressAclId\":\"tudfhpelzavohvdb\",\"v4OverV6BgpSession\":\"Enabled\",\"v6OverV4BgpSession\":\"Disabled\",\"nativeIpv4PrefixLimit\":{\"prefixLimits\":[{},{},{},{}]},\"nativeIpv6PrefixLimit\":{\"prefixLimits\":[{},{},{}]}},\"staticRouteConfiguration\":{\"bfdConfiguration\":{\"administrativeState\":\"MAT\",\"intervalInMilliSeconds\":1168292556,\"multiplier\":827590149},\"ipv4Routes\":[{\"prefix\":\"kcjcglvob\",\"nextHop\":[\"i\"]},{\"prefix\":\"exrbalvkfdqilprq\",\"nextHop\":[\"f\",\"kqpdyrqlazf\",\"ltckbjvd\",\"hyfvqtdexfdzpx\"]},{\"prefix\":\"lkqlvbkzaiyrnww\",\"nextHop\":[\"viniyoizuwwzc\",\"igbjbelnqalbso\",\"xajsiueai\",\"qjb\"]}],\"ipv6Routes\":[{\"prefix\":\"w\",\"nextHop\":[\"ypcuri\"]},{\"prefix\":\"llxtclv\",\"nextHop\":[\"dqtzs\",\"wlwjxrymiys\"]},{\"prefix\":\"hhcmqdlkkwbdekbv\",\"nextHop\":[\"lmk\",\"adnxbs\"]},{\"prefix\":\"atpialrqhwcxxccf\",\"nextHop\":[\"v\"]}]},\"lastOperation\":{\"details\":\"iyvrexitpz\"},\"configurationState\":\"Deprovisioning\",\"provisioningState\":\"Succeeded\",\"administrativeState\":\"UnderMaintenance\"},\"id\":\"ujywwumbusnaw\",\"name\":\"ncljkh\",\"type\":\"sobuahok\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        FilesharesManager manager = FilesharesManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        ExternalNetwork response = manager.externalNetworks()
            .define("ueweivaje")
            .withExistingL3IsolationDomain("zmehcdfdxthqnz", "ukirdedijdhzkw")
            .withProperties(new ExternalNetworkProperties().withAnnotation("wlxdknxctglzbcxd")
                .withNetworkToNetworkInterconnectId("gwigyiwb")
                .withImportRoutePolicy(
                    new ImportRoutePolicy().withImportIpv4RoutePolicyId("dxzfvna").withImportIpv6RoutePolicyId("ffch"))
                .withExportRoutePolicy(
                    new ExportRoutePolicy().withExportIpv4RoutePolicyId("yevj").withExportIpv6RoutePolicyId("tseaox"))
                .withPeeringOption(PeeringOption.OPTIONB)
                .withOptionBProperties(
                    new L3OptionBProperties().withImportRouteTargets(Arrays.asList("lfmabpyzxcplphf"))
                        .withExportRouteTargets(Arrays.asList("urtkcepyvaxwzb", "xxsdisxsrrhr", "rbbedrn"))
                        .withRouteTargets(new RouteTargetInformation()
                            .withImportIpv4RouteTargets(Arrays.asList("uimpiybm", "btihc", "xmfbik", "uvqqo"))
                            .withImportIpv6RouteTargets(Arrays.asList("qtwnqtjcemiasic", "hxqnlmjvpm", "dfibw", "hwou"))
                            .withExportIpv4RouteTargets(Arrays.asList("rmkkzjsnxzljx", "ayxpdzvgyujkxjg"))
                            .withExportIpv6RouteTargets(Arrays.asList("dbigi", "ramudyrsirnbp", "ddvbxqxolixfelsr"))))
                .withOptionAProperties(new ExternalNetworkPropertiesOptionAProperties().withPrimaryIpv4Prefix("vtzy")
                    .withPrimaryIpv6Prefix("tbayh")
                    .withSecondaryIpv4Prefix("njalkiyzlkqyezyz")
                    .withSecondaryIpv6Prefix("rdfdssofuxystltk")
                    .withMtu(1381783382)
                    .withVlanId(603231477)
                    .withPeerASN(6003302965311521393L)
                    .withBfdConfiguration(
                        new BfdConfiguration().withIntervalInMilliSeconds(342242083).withMultiplier(1076795202))
                    .withIngressAclId("oq")
                    .withBmpConfiguration(
                        new ExternalNetworkBmpProperties().withConfigurationState(BmpConfigurationState.ENABLED))
                    .withEgressAclId("iydoqbruxlx")
                    .withV4OverV6BgpSession(V4OverV6BgpSessionState.DISABLED)
                    .withV6OverV4BgpSession(V6OverV4BgpSessionState.ENABLED)
                    .withNativeIpv4PrefixLimit(new NativeIpv4PrefixLimitProperties()
                        .withPrefixLimits(Arrays.asList(new PrefixLimitProperties())))
                    .withNativeIpv6PrefixLimit(new NativeIpv6PrefixLimitProperties()
                        .withPrefixLimits(Arrays.asList(new PrefixLimitProperties(), new PrefixLimitProperties(),
                            new PrefixLimitProperties(), new PrefixLimitProperties()))))
                .withStaticRouteConfiguration(new ExternalNetworkStaticRouteConfiguration()
                    .withBfdConfiguration(
                        new BfdConfiguration().withIntervalInMilliSeconds(1494078278).withMultiplier(1030076642))
                    .withIpv4Routes(Arrays.asList(new StaticRouteProperties().withPrefix("ixpkr")
                        .withNextHop(Arrays.asList("zn", "cmkwcyeljni", "dgzxbwn", "yihct"))))
                    .withIpv6Routes(Arrays.asList(
                        new StaticRouteProperties().withPrefix("mzozb")
                            .withNextHop(Arrays.asList("tvughutiqlmv", "fyfyftkvzbdljyk")),
                        new StaticRouteProperties().withPrefix("umagfyinmajjz").withNextHop(Arrays.asList("gtwfk"))))))
            .create();

        Assertions.assertEquals("sypo", response.properties().annotation());
        Assertions.assertEquals("fxzobovsvhbtdgxg", response.properties().networkToNetworkInterconnectId());
        Assertions.assertEquals("deoubv", response.properties().importRoutePolicy().importIpv4RoutePolicyId());
        Assertions.assertEquals("iswemncjhmvvze", response.properties().importRoutePolicy().importIpv6RoutePolicyId());
        Assertions.assertEquals("mvbsjtfqwl", response.properties().exportRoutePolicy().exportIpv4RoutePolicyId());
        Assertions.assertEquals("qczzscgrop", response.properties().exportRoutePolicy().exportIpv6RoutePolicyId());
        Assertions.assertEquals(PeeringOption.OPTIONA, response.properties().peeringOption());
        Assertions.assertEquals("cgkociyikqlyoorm",
            response.properties().optionBProperties().importRouteTargets().get(0));
        Assertions.assertEquals("glq", response.properties().optionBProperties().exportRouteTargets().get(0));
        Assertions.assertEquals("wbib",
            response.properties().optionBProperties().routeTargets().importIpv4RouteTargets().get(0));
        Assertions.assertEquals("wff",
            response.properties().optionBProperties().routeTargets().importIpv6RouteTargets().get(0));
        Assertions.assertEquals("xqyj",
            response.properties().optionBProperties().routeTargets().exportIpv4RouteTargets().get(0));
        Assertions.assertEquals("uovfotwvkuhtdx",
            response.properties().optionBProperties().routeTargets().exportIpv6RouteTargets().get(0));
        Assertions.assertEquals("cvmx", response.properties().optionAProperties().primaryIpv4Prefix());
        Assertions.assertEquals("ndifu", response.properties().optionAProperties().primaryIpv6Prefix());
        Assertions.assertEquals("tkkccrusrz", response.properties().optionAProperties().secondaryIpv4Prefix());
        Assertions.assertEquals("oqodya", response.properties().optionAProperties().secondaryIpv6Prefix());
        Assertions.assertEquals(324977433, response.properties().optionAProperties().mtu());
        Assertions.assertEquals(1744928768, response.properties().optionAProperties().vlanId());
        Assertions.assertEquals(8878300269976780830L, response.properties().optionAProperties().peerASN());
        Assertions.assertEquals(853139796,
            response.properties().optionAProperties().bfdConfiguration().intervalInMilliSeconds());
        Assertions.assertEquals(1948629941, response.properties().optionAProperties().bfdConfiguration().multiplier());
        Assertions.assertEquals("tilbx", response.properties().optionAProperties().ingressAclId());
        Assertions.assertEquals(BmpConfigurationState.ENABLED,
            response.properties().optionAProperties().bmpConfiguration().configurationState());
        Assertions.assertEquals("tudfhpelzavohvdb", response.properties().optionAProperties().egressAclId());
        Assertions.assertEquals(V4OverV6BgpSessionState.ENABLED,
            response.properties().optionAProperties().v4OverV6BgpSession());
        Assertions.assertEquals(V6OverV4BgpSessionState.DISABLED,
            response.properties().optionAProperties().v6OverV4BgpSession());
        Assertions.assertEquals(1168292556,
            response.properties().staticRouteConfiguration().bfdConfiguration().intervalInMilliSeconds());
        Assertions.assertEquals(827590149,
            response.properties().staticRouteConfiguration().bfdConfiguration().multiplier());
        Assertions.assertEquals("kcjcglvob",
            response.properties().staticRouteConfiguration().ipv4Routes().get(0).prefix());
        Assertions.assertEquals("i",
            response.properties().staticRouteConfiguration().ipv4Routes().get(0).nextHop().get(0));
        Assertions.assertEquals("w", response.properties().staticRouteConfiguration().ipv6Routes().get(0).prefix());
        Assertions.assertEquals("ypcuri",
            response.properties().staticRouteConfiguration().ipv6Routes().get(0).nextHop().get(0));
    }
}
