// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managednetworkfabric.models.DestinationPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.DestinationType;
import com.azure.resourcemanager.managednetworkfabric.models.Encapsulation;
import com.azure.resourcemanager.managednetworkfabric.models.IsolationDomainPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.NetworkTapPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.PollingType;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class NetworkTapPatchPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NetworkTapPatchProperties model = BinaryData.fromString(
            "{\"annotation\":\"nk\",\"pollingType\":\"Pull\",\"destinations\":[{\"name\":\"kvorlfqm\",\"destinationType\":\"IsolationDomain\",\"destinationId\":\"ynb\",\"isolationDomainProperties\":{\"encapsulation\":\"GRE\",\"neighborGroupIds\":[\"urkmjufavvlnpbso\",\"m\",\"nklnmrz\",\"mtvrkkfcwxi\"]},\"destinationTapRuleId\":\"stxneykeipxu\"},{\"name\":\"bvriu\",\"destinationType\":\"IsolationDomain\",\"destinationId\":\"zxtvsayyaeiivj\",\"isolationDomainProperties\":{\"encapsulation\":\"GRE\",\"neighborGroupIds\":[\"rvewojoqfx\",\"etx\",\"dqiuspguzljvgji\",\"zq\"]},\"destinationTapRuleId\":\"ljsazmjsisfq\"},{\"name\":\"cm\",\"destinationType\":\"Direct\",\"destinationId\":\"sbfe\",\"isolationDomainProperties\":{\"encapsulation\":\"None\",\"neighborGroupIds\":[\"ygllfkchhgsjuzzc\",\"jlwmqc\",\"cabaam\",\"khdhpmkxdujkxpuq\"]},\"destinationTapRuleId\":\"yoqy\"},{\"name\":\"uarpzhr\",\"destinationType\":\"IsolationDomain\",\"destinationId\":\"xizdsyxbfj\",\"isolationDomainProperties\":{\"encapsulation\":\"GRE\",\"neighborGroupIds\":[\"ccouhwivkdf\",\"jsk\"]},\"destinationTapRuleId\":\"bxzepirtv\"}]}")
            .toObject(NetworkTapPatchProperties.class);
        Assertions.assertEquals("nk", model.annotation());
        Assertions.assertEquals(PollingType.PULL, model.pollingType());
        Assertions.assertEquals("kvorlfqm", model.destinations().get(0).name());
        Assertions.assertEquals(DestinationType.ISOLATION_DOMAIN, model.destinations().get(0).destinationType());
        Assertions.assertEquals("ynb", model.destinations().get(0).destinationId());
        Assertions.assertEquals(Encapsulation.GRE,
            model.destinations().get(0).isolationDomainProperties().encapsulation());
        Assertions.assertEquals("urkmjufavvlnpbso",
            model.destinations().get(0).isolationDomainProperties().neighborGroupIds().get(0));
        Assertions.assertEquals("stxneykeipxu", model.destinations().get(0).destinationTapRuleId());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NetworkTapPatchProperties model = new NetworkTapPatchProperties().withAnnotation("nk")
            .withPollingType(PollingType.PULL)
            .withDestinations(Arrays.asList(new DestinationPatchProperties().withName("kvorlfqm")
                .withDestinationType(DestinationType.ISOLATION_DOMAIN)
                .withDestinationId("ynb")
                .withIsolationDomainProperties(new IsolationDomainPatchProperties().withEncapsulation(Encapsulation.GRE)
                    .withNeighborGroupIds(Arrays.asList("urkmjufavvlnpbso", "m", "nklnmrz", "mtvrkkfcwxi")))
                .withDestinationTapRuleId("stxneykeipxu"),
                new DestinationPatchProperties().withName("bvriu")
                    .withDestinationType(DestinationType.ISOLATION_DOMAIN)
                    .withDestinationId("zxtvsayyaeiivj")
                    .withIsolationDomainProperties(
                        new IsolationDomainPatchProperties().withEncapsulation(Encapsulation.GRE)
                            .withNeighborGroupIds(Arrays.asList("rvewojoqfx", "etx", "dqiuspguzljvgji", "zq")))
                    .withDestinationTapRuleId("ljsazmjsisfq"),
                new DestinationPatchProperties().withName("cm")
                    .withDestinationType(DestinationType.DIRECT)
                    .withDestinationId("sbfe")
                    .withIsolationDomainProperties(
                        new IsolationDomainPatchProperties().withEncapsulation(Encapsulation.NONE)
                            .withNeighborGroupIds(
                                Arrays.asList("ygllfkchhgsjuzzc", "jlwmqc", "cabaam", "khdhpmkxdujkxpuq")))
                    .withDestinationTapRuleId("yoqy"),
                new DestinationPatchProperties().withName("uarpzhr")
                    .withDestinationType(DestinationType.ISOLATION_DOMAIN)
                    .withDestinationId("xizdsyxbfj")
                    .withIsolationDomainProperties(
                        new IsolationDomainPatchProperties().withEncapsulation(Encapsulation.GRE)
                            .withNeighborGroupIds(Arrays.asList("ccouhwivkdf", "jsk")))
                    .withDestinationTapRuleId("bxzepirtv")));
        model = BinaryData.fromObject(model).toObject(NetworkTapPatchProperties.class);
        Assertions.assertEquals("nk", model.annotation());
        Assertions.assertEquals(PollingType.PULL, model.pollingType());
        Assertions.assertEquals("kvorlfqm", model.destinations().get(0).name());
        Assertions.assertEquals(DestinationType.ISOLATION_DOMAIN, model.destinations().get(0).destinationType());
        Assertions.assertEquals("ynb", model.destinations().get(0).destinationId());
        Assertions.assertEquals(Encapsulation.GRE,
            model.destinations().get(0).isolationDomainProperties().encapsulation());
        Assertions.assertEquals("urkmjufavvlnpbso",
            model.destinations().get(0).isolationDomainProperties().neighborGroupIds().get(0));
        Assertions.assertEquals("stxneykeipxu", model.destinations().get(0).destinationTapRuleId());
    }
}
