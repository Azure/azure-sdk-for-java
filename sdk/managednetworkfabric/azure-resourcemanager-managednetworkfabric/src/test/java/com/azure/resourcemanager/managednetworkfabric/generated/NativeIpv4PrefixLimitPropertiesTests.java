// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managednetworkfabric.models.NativeIpv4PrefixLimitProperties;
import com.azure.resourcemanager.managednetworkfabric.models.PrefixLimitProperties;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class NativeIpv4PrefixLimitPropertiesTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NativeIpv4PrefixLimitProperties model = BinaryData.fromString(
            "{\"prefixLimits\":[{\"maximumRoutes\":2018901701,\"threshold\":1327858771,\"idleTimeExpiry\":1965981933},{\"maximumRoutes\":1712208701,\"threshold\":1929728945,\"idleTimeExpiry\":1821325313},{\"maximumRoutes\":1851794786,\"threshold\":1449501031,\"idleTimeExpiry\":885862938}]}")
            .toObject(NativeIpv4PrefixLimitProperties.class);
        Assertions.assertEquals(2018901701, model.prefixLimits().get(0).maximumRoutes());
        Assertions.assertEquals(1327858771, model.prefixLimits().get(0).threshold());
        Assertions.assertEquals(1965981933, model.prefixLimits().get(0).idleTimeExpiry());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NativeIpv4PrefixLimitProperties model = new NativeIpv4PrefixLimitProperties().withPrefixLimits(Arrays.asList(
            new PrefixLimitProperties().withMaximumRoutes(2018901701)
                .withThreshold(1327858771)
                .withIdleTimeExpiry(1965981933),
            new PrefixLimitProperties().withMaximumRoutes(1712208701)
                .withThreshold(1929728945)
                .withIdleTimeExpiry(1821325313),
            new PrefixLimitProperties().withMaximumRoutes(1851794786)
                .withThreshold(1449501031)
                .withIdleTimeExpiry(885862938)));
        model = BinaryData.fromObject(model).toObject(NativeIpv4PrefixLimitProperties.class);
        Assertions.assertEquals(2018901701, model.prefixLimits().get(0).maximumRoutes());
        Assertions.assertEquals(1327858771, model.prefixLimits().get(0).threshold());
        Assertions.assertEquals(1965981933, model.prefixLimits().get(0).idleTimeExpiry());
    }
}
