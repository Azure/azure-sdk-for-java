// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managednetworkfabric.models.BmpConfigurationState;
import com.azure.resourcemanager.managednetworkfabric.models.NniBmpProperties;
import com.azure.resourcemanager.managednetworkfabric.models.OptionBLayer3Configuration;
import com.azure.resourcemanager.managednetworkfabric.models.OptionBLayer3PrefixLimitProperties;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class OptionBLayer3ConfigurationTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        OptionBLayer3Configuration model = BinaryData.fromString(
            "{\"primaryIpv4Prefix\":\"dtncmsps\",\"primaryIpv6Prefix\":\"mameub\",\"secondaryIpv4Prefix\":\"iqmlfvhlqcskkqj\",\"secondaryIpv6Prefix\":\"pt\",\"peerASN\":7379253150640970557,\"vlanId\":1599831965,\"fabricASN\":3853242009771860920,\"peLoopbackIpAddress\":[\"drqmrp\"],\"bmpConfiguration\":{\"configurationState\":\"Disabled\"},\"prefixLimits\":[{\"maximumRoutes\":1966621671},{\"maximumRoutes\":1635836069},{\"maximumRoutes\":109176310},{\"maximumRoutes\":977517444}]}")
            .toObject(OptionBLayer3Configuration.class);
        Assertions.assertEquals("dtncmsps", model.primaryIpv4Prefix());
        Assertions.assertEquals("mameub", model.primaryIpv6Prefix());
        Assertions.assertEquals("iqmlfvhlqcskkqj", model.secondaryIpv4Prefix());
        Assertions.assertEquals("pt", model.secondaryIpv6Prefix());
        Assertions.assertEquals(7379253150640970557L, model.peerASN());
        Assertions.assertEquals(1599831965, model.vlanId());
        Assertions.assertEquals("drqmrp", model.peLoopbackIpAddress().get(0));
        Assertions.assertEquals(BmpConfigurationState.DISABLED, model.bmpConfiguration().configurationState());
        Assertions.assertEquals(1966621671, model.prefixLimits().get(0).maximumRoutes());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        OptionBLayer3Configuration model = new OptionBLayer3Configuration().withPrimaryIpv4Prefix("dtncmsps")
            .withPrimaryIpv6Prefix("mameub")
            .withSecondaryIpv4Prefix("iqmlfvhlqcskkqj")
            .withSecondaryIpv6Prefix("pt")
            .withPeerASN(7379253150640970557L)
            .withVlanId(1599831965)
            .withPeLoopbackIpAddress(Arrays.asList("drqmrp"))
            .withBmpConfiguration(new NniBmpProperties().withConfigurationState(BmpConfigurationState.DISABLED))
            .withPrefixLimits(Arrays.asList(new OptionBLayer3PrefixLimitProperties().withMaximumRoutes(1966621671),
                new OptionBLayer3PrefixLimitProperties().withMaximumRoutes(1635836069),
                new OptionBLayer3PrefixLimitProperties().withMaximumRoutes(109176310),
                new OptionBLayer3PrefixLimitProperties().withMaximumRoutes(977517444)));
        model = BinaryData.fromObject(model).toObject(OptionBLayer3Configuration.class);
        Assertions.assertEquals("dtncmsps", model.primaryIpv4Prefix());
        Assertions.assertEquals("mameub", model.primaryIpv6Prefix());
        Assertions.assertEquals("iqmlfvhlqcskkqj", model.secondaryIpv4Prefix());
        Assertions.assertEquals("pt", model.secondaryIpv6Prefix());
        Assertions.assertEquals(7379253150640970557L, model.peerASN());
        Assertions.assertEquals(1599831965, model.vlanId());
        Assertions.assertEquals("drqmrp", model.peLoopbackIpAddress().get(0));
        Assertions.assertEquals(BmpConfigurationState.DISABLED, model.bmpConfiguration().configurationState());
        Assertions.assertEquals(1966621671, model.prefixLimits().get(0).maximumRoutes());
    }
}
