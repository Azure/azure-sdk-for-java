// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managednetworkfabric.models.AccessControlListActionPatch;
import com.azure.resourcemanager.managednetworkfabric.models.AccessControlListMatchConditionPatch;
import com.azure.resourcemanager.managednetworkfabric.models.AccessControlListMatchConfigurationPatch;
import com.azure.resourcemanager.managednetworkfabric.models.AccessControlListPatch;
import com.azure.resourcemanager.managednetworkfabric.models.AccessControlListPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.AccessControlListPortConditionPatch;
import com.azure.resourcemanager.managednetworkfabric.models.AclActionType;
import com.azure.resourcemanager.managednetworkfabric.models.AclType;
import com.azure.resourcemanager.managednetworkfabric.models.BooleanEnumProperty;
import com.azure.resourcemanager.managednetworkfabric.models.CommonDynamicMatchConfigurationPatch;
import com.azure.resourcemanager.managednetworkfabric.models.CommunityActionTypes;
import com.azure.resourcemanager.managednetworkfabric.models.ConfigurationType;
import com.azure.resourcemanager.managednetworkfabric.models.DeviceRole;
import com.azure.resourcemanager.managednetworkfabric.models.GlobalAccessControlListActionPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.IPAddressType;
import com.azure.resourcemanager.managednetworkfabric.models.IcmpConfigurationPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.IpGroupPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.IpMatchConditionPatch;
import com.azure.resourcemanager.managednetworkfabric.models.PoliceRateConfigurationProperties;
import com.azure.resourcemanager.managednetworkfabric.models.PortGroupPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.VlanGroupPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.VlanMatchConditionPatch;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import org.junit.jupiter.api.Assertions;

public final class AccessControlListPatchTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        AccessControlListPatch model = BinaryData.fromString(
            "{\"tags\":{\"drihpfhoqcaaewda\":\"spuunnoxyhkxgq\",\"xkzb\":\"mdjvlpj\",\"ncj\":\"msgeivsiykzk\",\"y\":\"xonbzoggculapz\"},\"properties\":{\"configurationType\":\"Inline\",\"aclsUrl\":\"tqxepn\",\"defaultAction\":\"Permit\",\"matchConfigurations\":[{\"matchConfigurationName\":\"jlyjtlvofq\",\"sequenceNumber\":3485118187596080390,\"ipAddressType\":\"IPv4\",\"matchConditions\":[{\"protocolTypes\":[\"owuxrkjpvdwx\",\"zwiivwzjbhyzs\"],\"vlanMatchCondition\":{},\"ipCondition\":{},\"etherTypes\":[\"mbtrnegvmnvu\",\"eqvldspast\",\"bkkd\"],\"fragments\":[\"vestmjl\"],\"ipLengths\":[\"ilozapeewchpxlk\"],\"ttlValues\":[\"uziycsl\",\"vu\",\"uztcktyhjtqed\"],\"dscpMarkings\":[\"ulwm\",\"rqzz\",\"rjvpglydzgkrvqee\",\"toepryu\"],\"portCondition\":{},\"protocolNeighbors\":[\"tpzdmovzvfvaawzq\"],\"icmpConfiguration\":{}}],\"actions\":[{\"type\":\"Log\",\"counterName\":\"riglaec\",\"remarkComment\":\"dticokpvzml\",\"policeRateConfiguration\":{}},{\"type\":\"Log\",\"counterName\":\"gxobfirclnp\",\"remarkComment\":\"iayz\",\"policeRateConfiguration\":{}}]},{\"matchConfigurationName\":\"khyawfvjlboxqv\",\"sequenceNumber\":258581951600171882,\"ipAddressType\":\"IPv4\",\"matchConditions\":[{\"protocolTypes\":[\"nhdwdigumbnra\",\"uzzptjazysdz\",\"ezwwv\"],\"vlanMatchCondition\":{},\"ipCondition\":{},\"etherTypes\":[\"vv\",\"onkp\"],\"fragments\":[\"yik\",\"y\"],\"ipLengths\":[\"yavluwmncstt\"],\"ttlValues\":[\"y\",\"vpo\"],\"dscpMarkings\":[\"sgsgbdhu\"],\"portCondition\":{},\"protocolNeighbors\":[\"j\",\"gkynscliqh\",\"vhxnk\"],\"icmpConfiguration\":{}}],\"actions\":[{\"type\":\"Drop\",\"counterName\":\"tppn\",\"remarkComment\":\"xz\",\"policeRateConfiguration\":{}},{\"type\":\"Remark\",\"counterName\":\"rbbcevq\",\"remarkComment\":\"tltdhlfkqojpy\",\"policeRateConfiguration\":{}},{\"type\":\"Log\",\"counterName\":\"dcnifmz\",\"remarkComment\":\"dymbrny\",\"policeRateConfiguration\":{}}]}],\"dynamicMatchConfigurations\":[{\"ipGroups\":[{\"name\":\"fwgckhocxvdfffw\",\"ipAddressType\":\"IPv4\",\"ipPrefixes\":[\"udaspavehh\",\"vkbunzozudh\",\"xg\",\"moy\"]},{\"name\":\"dyuib\",\"ipAddressType\":\"IPv4\",\"ipPrefixes\":[\"bzydvfvfcj\",\"aeoisrvh\",\"gorf\"]},{\"name\":\"kiscvwmzhwpl\",\"ipAddressType\":\"IPv4\",\"ipPrefixes\":[\"xilcbtgnhnzey\",\"xtjjfzqlqhycav\"]},{\"name\":\"ggxdb\",\"ipAddressType\":\"IPv6\",\"ipPrefixes\":[\"eknlra\",\"iaa\"]}],\"vlanGroups\":[{\"name\":\"gy\",\"vlans\":[\"fbylyrfg\"]},{\"name\":\"gtcojocqwo\",\"vlans\":[\"zjvusfzldmo\",\"uxylfsbtkadpy\",\"own\"]},{\"name\":\"gkbugrjqct\",\"vlans\":[\"mi\",\"of\"]},{\"name\":\"ypefojyqdhcupl\",\"vlans\":[\"cwkhihi\",\"lhzdsqtzb\",\"rgnowcjhfgm\"]}],\"portGroups\":[{\"name\":\"ctxmwoteyowcluq\",\"ports\":[\"kqvgqouw\",\"fzmpjwyivq\",\"kfxcvhrfs\"]}]}],\"aclType\":\"ControlPlaneTrafficPolicy\",\"deviceRole\":\"ManagementSwitch\",\"globalAccessControlListActions\":{\"enableCount\":\"False\"},\"annotation\":\"kteusqczk\"}}")
            .toObject(AccessControlListPatch.class);
        Assertions.assertEquals("spuunnoxyhkxgq", model.tags().get("drihpfhoqcaaewda"));
        Assertions.assertEquals(ConfigurationType.INLINE, model.properties().configurationType());
        Assertions.assertEquals("tqxepn", model.properties().aclsUrl());
        Assertions.assertEquals(CommunityActionTypes.PERMIT, model.properties().defaultAction());
        Assertions.assertEquals("jlyjtlvofq", model.properties().matchConfigurations().get(0).matchConfigurationName());
        Assertions.assertEquals(3485118187596080390L, model.properties().matchConfigurations().get(0).sequenceNumber());
        Assertions.assertEquals(IPAddressType.IPV4, model.properties().matchConfigurations().get(0).ipAddressType());
        Assertions.assertEquals("owuxrkjpvdwx",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).protocolTypes().get(0));
        Assertions.assertEquals("mbtrnegvmnvu",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).etherTypes().get(0));
        Assertions.assertEquals("vestmjl",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).fragments().get(0));
        Assertions.assertEquals("ilozapeewchpxlk",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).ipLengths().get(0));
        Assertions.assertEquals("uziycsl",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).ttlValues().get(0));
        Assertions.assertEquals("ulwm",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).dscpMarkings().get(0));
        Assertions.assertEquals("tpzdmovzvfvaawzq",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).protocolNeighbors().get(0));
        Assertions.assertEquals(AclActionType.LOG,
            model.properties().matchConfigurations().get(0).actions().get(0).type());
        Assertions.assertEquals("riglaec",
            model.properties().matchConfigurations().get(0).actions().get(0).counterName());
        Assertions.assertEquals("dticokpvzml",
            model.properties().matchConfigurations().get(0).actions().get(0).remarkComment());
        Assertions.assertEquals("fwgckhocxvdfffw",
            model.properties().dynamicMatchConfigurations().get(0).ipGroups().get(0).name());
        Assertions.assertEquals(IPAddressType.IPV4,
            model.properties().dynamicMatchConfigurations().get(0).ipGroups().get(0).ipAddressType());
        Assertions.assertEquals("udaspavehh",
            model.properties().dynamicMatchConfigurations().get(0).ipGroups().get(0).ipPrefixes().get(0));
        Assertions.assertEquals("gy",
            model.properties().dynamicMatchConfigurations().get(0).vlanGroups().get(0).name());
        Assertions.assertEquals("fbylyrfg",
            model.properties().dynamicMatchConfigurations().get(0).vlanGroups().get(0).vlans().get(0));
        Assertions.assertEquals("ctxmwoteyowcluq",
            model.properties().dynamicMatchConfigurations().get(0).portGroups().get(0).name());
        Assertions.assertEquals("kqvgqouw",
            model.properties().dynamicMatchConfigurations().get(0).portGroups().get(0).ports().get(0));
        Assertions.assertEquals(AclType.CP, model.properties().aclType());
        Assertions.assertEquals(DeviceRole.MANAGEMENT_SWITCH, model.properties().deviceRole());
        Assertions.assertEquals(BooleanEnumProperty.FALSE,
            model.properties().globalAccessControlListActions().enableCount());
        Assertions.assertEquals("kteusqczk", model.properties().annotation());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        AccessControlListPatch model
            = new AccessControlListPatch()
                .withTags(mapOf("drihpfhoqcaaewda", "spuunnoxyhkxgq", "xkzb", "mdjvlpj", "ncj", "msgeivsiykzk", "y",
                    "xonbzoggculapz"))
                .withProperties(
                    new AccessControlListPatchProperties().withConfigurationType(ConfigurationType.INLINE)
                        .withAclsUrl("tqxepn")
                        .withDefaultAction(CommunityActionTypes.PERMIT)
                        .withMatchConfigurations(
                            Arrays
                                .asList(
                                    new AccessControlListMatchConfigurationPatch()
                                        .withMatchConfigurationName("jlyjtlvofq")
                                        .withSequenceNumber(3485118187596080390L)
                                        .withIpAddressType(IPAddressType.IPV4)
                                        .withMatchConditions(Arrays.asList(new AccessControlListMatchConditionPatch()
                                            .withProtocolTypes(Arrays.asList("owuxrkjpvdwx", "zwiivwzjbhyzs"))
                                            .withVlanMatchCondition(new VlanMatchConditionPatch())
                                            .withIpCondition(new IpMatchConditionPatch())
                                            .withEtherTypes(Arrays.asList("mbtrnegvmnvu", "eqvldspast", "bkkd"))
                                            .withFragments(Arrays.asList("vestmjl"))
                                            .withIpLengths(Arrays.asList("ilozapeewchpxlk"))
                                            .withTtlValues(Arrays.asList("uziycsl", "vu", "uztcktyhjtqed"))
                                            .withDscpMarkings(
                                                Arrays.asList("ulwm", "rqzz", "rjvpglydzgkrvqee", "toepryu"))
                                            .withPortCondition(new AccessControlListPortConditionPatch())
                                            .withProtocolNeighbors(Arrays.asList("tpzdmovzvfvaawzq"))
                                            .withIcmpConfiguration(new IcmpConfigurationPatchProperties())))
                                        .withActions(Arrays.asList(
                                            new AccessControlListActionPatch().withType(AclActionType.LOG)
                                                .withCounterName("riglaec")
                                                .withRemarkComment("dticokpvzml")
                                                .withPoliceRateConfiguration(new PoliceRateConfigurationProperties()),
                                            new AccessControlListActionPatch()
                                                .withType(AclActionType.LOG)
                                                .withCounterName("gxobfirclnp")
                                                .withRemarkComment("iayz")
                                                .withPoliceRateConfiguration(new PoliceRateConfigurationProperties()))),
                                    new AccessControlListMatchConfigurationPatch()
                                        .withMatchConfigurationName("khyawfvjlboxqv")
                                        .withSequenceNumber(258581951600171882L)
                                        .withIpAddressType(IPAddressType.IPV4)
                                        .withMatchConditions(Arrays.asList(new AccessControlListMatchConditionPatch()
                                            .withProtocolTypes(Arrays.asList("nhdwdigumbnra", "uzzptjazysdz", "ezwwv"))
                                            .withVlanMatchCondition(new VlanMatchConditionPatch())
                                            .withIpCondition(new IpMatchConditionPatch())
                                            .withEtherTypes(Arrays.asList("vv", "onkp"))
                                            .withFragments(Arrays.asList("yik", "y"))
                                            .withIpLengths(Arrays.asList("yavluwmncstt"))
                                            .withTtlValues(Arrays.asList("y", "vpo"))
                                            .withDscpMarkings(Arrays.asList("sgsgbdhu"))
                                            .withPortCondition(new AccessControlListPortConditionPatch())
                                            .withProtocolNeighbors(Arrays.asList("j", "gkynscliqh", "vhxnk"))
                                            .withIcmpConfiguration(new IcmpConfigurationPatchProperties())))
                                        .withActions(Arrays.asList(new AccessControlListActionPatch()
                                            .withType(AclActionType.DROP)
                                            .withCounterName("tppn")
                                            .withRemarkComment("xz")
                                            .withPoliceRateConfiguration(new PoliceRateConfigurationProperties()),
                                            new AccessControlListActionPatch().withType(AclActionType.REMARK)
                                                .withCounterName("rbbcevq")
                                                .withRemarkComment("tltdhlfkqojpy")
                                                .withPoliceRateConfiguration(new PoliceRateConfigurationProperties()),
                                            new AccessControlListActionPatch().withType(AclActionType.LOG)
                                                .withCounterName("dcnifmz")
                                                .withRemarkComment("dymbrny")
                                                .withPoliceRateConfiguration(
                                                    new PoliceRateConfigurationProperties())))))
                        .withDynamicMatchConfigurations(Arrays.asList(new CommonDynamicMatchConfigurationPatch()
                            .withIpGroups(Arrays.asList(
                                new IpGroupPatchProperties().withName("fwgckhocxvdfffw")
                                    .withIpAddressType(IPAddressType.IPV4)
                                    .withIpPrefixes(Arrays.asList("udaspavehh", "vkbunzozudh", "xg", "moy")),
                                new IpGroupPatchProperties().withName("dyuib")
                                    .withIpAddressType(IPAddressType.IPV4)
                                    .withIpPrefixes(Arrays.asList("bzydvfvfcj", "aeoisrvh", "gorf")),
                                new IpGroupPatchProperties().withName("kiscvwmzhwpl")
                                    .withIpAddressType(IPAddressType.IPV4)
                                    .withIpPrefixes(Arrays.asList("xilcbtgnhnzey", "xtjjfzqlqhycav")),
                                new IpGroupPatchProperties().withName("ggxdb")
                                    .withIpAddressType(IPAddressType.IPV6)
                                    .withIpPrefixes(Arrays.asList("eknlra", "iaa"))))
                            .withVlanGroups(Arrays.asList(
                                new VlanGroupPatchProperties().withName("gy").withVlans(Arrays.asList("fbylyrfg")),
                                new VlanGroupPatchProperties()
                                    .withName("gtcojocqwo")
                                    .withVlans(Arrays.asList("zjvusfzldmo", "uxylfsbtkadpy", "own")),
                                new VlanGroupPatchProperties().withName("gkbugrjqct")
                                    .withVlans(Arrays.asList("mi", "of")),
                                new VlanGroupPatchProperties().withName("ypefojyqdhcupl")
                                    .withVlans(Arrays.asList("cwkhihi", "lhzdsqtzb", "rgnowcjhfgm"))))
                            .withPortGroups(Arrays.asList(new PortGroupPatchProperties().withName("ctxmwoteyowcluq")
                                .withPorts(Arrays.asList("kqvgqouw", "fzmpjwyivq", "kfxcvhrfs"))))))
                        .withAclType(AclType.CP)
                        .withDeviceRole(DeviceRole.MANAGEMENT_SWITCH)
                        .withGlobalAccessControlListActions(new GlobalAccessControlListActionPatchProperties()
                            .withEnableCount(BooleanEnumProperty.FALSE))
                        .withAnnotation("kteusqczk"));
        model = BinaryData.fromObject(model).toObject(AccessControlListPatch.class);
        Assertions.assertEquals("spuunnoxyhkxgq", model.tags().get("drihpfhoqcaaewda"));
        Assertions.assertEquals(ConfigurationType.INLINE, model.properties().configurationType());
        Assertions.assertEquals("tqxepn", model.properties().aclsUrl());
        Assertions.assertEquals(CommunityActionTypes.PERMIT, model.properties().defaultAction());
        Assertions.assertEquals("jlyjtlvofq", model.properties().matchConfigurations().get(0).matchConfigurationName());
        Assertions.assertEquals(3485118187596080390L, model.properties().matchConfigurations().get(0).sequenceNumber());
        Assertions.assertEquals(IPAddressType.IPV4, model.properties().matchConfigurations().get(0).ipAddressType());
        Assertions.assertEquals("owuxrkjpvdwx",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).protocolTypes().get(0));
        Assertions.assertEquals("mbtrnegvmnvu",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).etherTypes().get(0));
        Assertions.assertEquals("vestmjl",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).fragments().get(0));
        Assertions.assertEquals("ilozapeewchpxlk",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).ipLengths().get(0));
        Assertions.assertEquals("uziycsl",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).ttlValues().get(0));
        Assertions.assertEquals("ulwm",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).dscpMarkings().get(0));
        Assertions.assertEquals("tpzdmovzvfvaawzq",
            model.properties().matchConfigurations().get(0).matchConditions().get(0).protocolNeighbors().get(0));
        Assertions.assertEquals(AclActionType.LOG,
            model.properties().matchConfigurations().get(0).actions().get(0).type());
        Assertions.assertEquals("riglaec",
            model.properties().matchConfigurations().get(0).actions().get(0).counterName());
        Assertions.assertEquals("dticokpvzml",
            model.properties().matchConfigurations().get(0).actions().get(0).remarkComment());
        Assertions.assertEquals("fwgckhocxvdfffw",
            model.properties().dynamicMatchConfigurations().get(0).ipGroups().get(0).name());
        Assertions.assertEquals(IPAddressType.IPV4,
            model.properties().dynamicMatchConfigurations().get(0).ipGroups().get(0).ipAddressType());
        Assertions.assertEquals("udaspavehh",
            model.properties().dynamicMatchConfigurations().get(0).ipGroups().get(0).ipPrefixes().get(0));
        Assertions.assertEquals("gy",
            model.properties().dynamicMatchConfigurations().get(0).vlanGroups().get(0).name());
        Assertions.assertEquals("fbylyrfg",
            model.properties().dynamicMatchConfigurations().get(0).vlanGroups().get(0).vlans().get(0));
        Assertions.assertEquals("ctxmwoteyowcluq",
            model.properties().dynamicMatchConfigurations().get(0).portGroups().get(0).name());
        Assertions.assertEquals("kqvgqouw",
            model.properties().dynamicMatchConfigurations().get(0).portGroups().get(0).ports().get(0));
        Assertions.assertEquals(AclType.CP, model.properties().aclType());
        Assertions.assertEquals(DeviceRole.MANAGEMENT_SWITCH, model.properties().deviceRole());
        Assertions.assertEquals(BooleanEnumProperty.FALSE,
            model.properties().globalAccessControlListActions().enableCount());
        Assertions.assertEquals("kteusqczk", model.properties().annotation());
    }

    // Use "Map.of" if available
    @SuppressWarnings("unchecked")
    private static <T> Map<String, T> mapOf(Object... inputs) {
        Map<String, T> map = new HashMap<>();
        for (int i = 0; i < inputs.length; i += 2) {
            String key = (String) inputs[i];
            T value = (T) inputs[i + 1];
            map.put(key, value);
        }
        return map;
    }
}
