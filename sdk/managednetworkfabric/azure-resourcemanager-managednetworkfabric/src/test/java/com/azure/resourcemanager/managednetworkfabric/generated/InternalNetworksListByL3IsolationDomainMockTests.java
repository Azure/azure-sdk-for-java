// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.managednetworkfabric.FilesharesManager;
import com.azure.resourcemanager.managednetworkfabric.models.AllowASOverride;
import com.azure.resourcemanager.managednetworkfabric.models.BmpConfigurationState;
import com.azure.resourcemanager.managednetworkfabric.models.BooleanEnumProperty;
import com.azure.resourcemanager.managednetworkfabric.models.Extension;
import com.azure.resourcemanager.managednetworkfabric.models.InternalNetwork;
import com.azure.resourcemanager.managednetworkfabric.models.IsMonitoringEnabled;
import com.azure.resourcemanager.managednetworkfabric.models.V4OverV6BgpSessionState;
import com.azure.resourcemanager.managednetworkfabric.models.V6OverV4BgpSessionState;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class InternalNetworksListByL3IsolationDomainMockTests {
    @Test
    public void testListByL3IsolationDomain() throws Exception {
        String responseStr
            = "{\"value\":[{\"properties\":{\"annotation\":\"xzyrppoy\",\"mtu\":1884274645,\"connectedIPv4Subnets\":[{\"annotation\":\"esk\",\"prefix\":\"opbksrib\"}],\"connectedIPv6Subnets\":[{\"annotation\":\"orikczerqtiqx\",\"prefix\":\"wsfr\"},{\"annotation\":\"vzlljydgmdoq\",\"prefix\":\"rucwzc\"},{\"annotation\":\"udhgwjqeglymnrr\",\"prefix\":\"wsqpiyxkmqmge\"}],\"importRoutePolicy\":{\"importIpv4RoutePolicyId\":\"ilfiulgnnyxw\",\"importIpv6RoutePolicyId\":\"mcewqvvzx\"},\"exportRoutePolicy\":{\"exportIpv4RoutePolicyId\":\"mqrbbsnptmmvdpa\",\"exportIpv6RoutePolicyId\":\"jkb\"},\"ingressAclId\":\"uwhizcbqjxmhw\",\"egressAclId\":\"unpcskdlrf\",\"isMonitoringEnabled\":\"False\",\"extension\":\"NoExtension\",\"vlanId\":2090140808,\"bgpConfiguration\":{\"annotation\":\"dauujjl\",\"bfdConfiguration\":{\"administrativeState\":\"Enabled\",\"intervalInMilliSeconds\":907915275,\"multiplier\":496594005},\"defaultRouteOriginate\":\"True\",\"allowAS\":215496927,\"allowASOverride\":\"Enable\",\"fabricASN\":1413033348729181985,\"peerASN\":5221194384935236928,\"ipv4ListenRangePrefixes\":[\"mqyoduks\"],\"ipv6ListenRangePrefixes\":[\"nqqkqxkd\",\"lseuqkrbyya\",\"rjgbnwgokr\",\"lbecannvxouhd\"],\"ipv4NeighborAddress\":[{\"address\":\"tfcjapmfwxmcxhw\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Enabled\",\"configurationState\":\"Failed\"}],\"ipv6NeighborAddress\":[{\"address\":\"mgadhmqyufpfo\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"ErrorDeprovisioning\"},{\"address\":\"tngiqcypmonfco\",\"bfdAdministrativeState\":\"MAT\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"Succeeded\"},{\"address\":\"gcbmayhdtjfrp\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"DeferredControl\"},{\"address\":\"zbrwrfrmhouf\",\"bfdAdministrativeState\":\"Enabled\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"Deprovisioned\"}],\"bmpConfiguration\":{\"neighborIpExclusions\":[\"sir\",\"nqunniklyxd\"],\"bmpConfigurationState\":\"Disabled\"},\"v4OverV6BgpSession\":\"Disabled\",\"v6OverV4BgpSession\":\"Enabled\"},\"staticRouteConfiguration\":{\"bfdConfiguration\":{\"administrativeState\":\"Disabled\",\"intervalInMilliSeconds\":1155480100,\"multiplier\":1990320910},\"ipv4Routes\":[{\"prefix\":\"kyqhrpl\",\"nextHop\":[\"q\",\"wojsrgclxn\",\"vbkhha\",\"sytue\"]},{\"prefix\":\"mgukyw\",\"nextHop\":[\"uo\",\"lcex\"]},{\"prefix\":\"rpitqzqnbseujc\",\"nextHop\":[\"cidcabnnxhcx\",\"tshxoeftfory\"]},{\"prefix\":\"xaknwkjzvqpsym\",\"nextHop\":[\"pyjtrxxzwd\",\"nqhyefnak\",\"m\"]}],\"ipv6Routes\":[{\"prefix\":\"ksdlulytjxhxwtit\",\"nextHop\":[\"nvukvupu\",\"lugul\",\"nvpdvctqdapy\",\"sfp\"]},{\"prefix\":\"pj\",\"nextHop\":[\"ilbn\"]},{\"prefix\":\"ucqehyrnzmj\",\"nextHop\":[\"fbmpszwk\",\"cstzuwbgaesmaxd\"]}],\"extension\":\"NoExtension\"},\"nativeIpv4PrefixLimit\":{\"prefixLimits\":[{\"maximumRoutes\":1035636942,\"threshold\":912597444,\"idleTimeExpiry\":1042879091},{\"maximumRoutes\":1556802392,\"threshold\":102821362,\"idleTimeExpiry\":1981145099},{\"maximumRoutes\":1434141381,\"threshold\":1921271242,\"idleTimeExpiry\":70222157}]},\"nativeIpv6PrefixLimit\":{\"prefixLimits\":[{\"maximumRoutes\":1581669880,\"threshold\":400306725,\"idleTimeExpiry\":585694503},{\"maximumRoutes\":193274091,\"threshold\":1987822988,\"idleTimeExpiry\":1193840998},{\"maximumRoutes\":1734674281,\"threshold\":1597994612,\"idleTimeExpiry\":1810404792},{\"maximumRoutes\":1873845617,\"threshold\":1746514047,\"idleTimeExpiry\":1857098404}]},\"lastOperation\":{\"details\":\"b\"},\"configurationState\":\"Provisioned\",\"provisioningState\":\"Succeeded\",\"administrativeState\":\"Disabled\"},\"id\":\"qmmczugu\",\"name\":\"lieegjnq\",\"type\":\"hfjoxsehjscg\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        FilesharesManager manager = FilesharesManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        PagedIterable<InternalNetwork> response = manager.internalNetworks()
            .listByL3IsolationDomain("mqoubxlpkdsn", "qoymsdlraduhg", com.azure.core.util.Context.NONE);

        Assertions.assertEquals("xzyrppoy", response.iterator().next().properties().annotation());
        Assertions.assertEquals(1884274645, response.iterator().next().properties().mtu());
        Assertions.assertEquals("esk",
            response.iterator().next().properties().connectedIPv4Subnets().get(0).annotation());
        Assertions.assertEquals("opbksrib",
            response.iterator().next().properties().connectedIPv4Subnets().get(0).prefix());
        Assertions.assertEquals("orikczerqtiqx",
            response.iterator().next().properties().connectedIPv6Subnets().get(0).annotation());
        Assertions.assertEquals("wsfr", response.iterator().next().properties().connectedIPv6Subnets().get(0).prefix());
        Assertions.assertEquals("ilfiulgnnyxw",
            response.iterator().next().properties().importRoutePolicy().importIpv4RoutePolicyId());
        Assertions.assertEquals("mcewqvvzx",
            response.iterator().next().properties().importRoutePolicy().importIpv6RoutePolicyId());
        Assertions.assertEquals("mqrbbsnptmmvdpa",
            response.iterator().next().properties().exportRoutePolicy().exportIpv4RoutePolicyId());
        Assertions.assertEquals("jkb",
            response.iterator().next().properties().exportRoutePolicy().exportIpv6RoutePolicyId());
        Assertions.assertEquals("uwhizcbqjxmhw", response.iterator().next().properties().ingressAclId());
        Assertions.assertEquals("unpcskdlrf", response.iterator().next().properties().egressAclId());
        Assertions.assertEquals(IsMonitoringEnabled.FALSE,
            response.iterator().next().properties().isMonitoringEnabled());
        Assertions.assertEquals(Extension.NO_EXTENSION, response.iterator().next().properties().extension());
        Assertions.assertEquals(2090140808, response.iterator().next().properties().vlanId());
        Assertions.assertEquals("dauujjl", response.iterator().next().properties().bgpConfiguration().annotation());
        Assertions.assertEquals(907915275,
            response.iterator().next().properties().bgpConfiguration().bfdConfiguration().intervalInMilliSeconds());
        Assertions.assertEquals(496594005,
            response.iterator().next().properties().bgpConfiguration().bfdConfiguration().multiplier());
        Assertions.assertEquals(BooleanEnumProperty.TRUE,
            response.iterator().next().properties().bgpConfiguration().defaultRouteOriginate());
        Assertions.assertEquals(215496927, response.iterator().next().properties().bgpConfiguration().allowAS());
        Assertions.assertEquals(AllowASOverride.ENABLE,
            response.iterator().next().properties().bgpConfiguration().allowASOverride());
        Assertions.assertEquals(5221194384935236928L,
            response.iterator().next().properties().bgpConfiguration().peerASN());
        Assertions.assertEquals("mqyoduks",
            response.iterator().next().properties().bgpConfiguration().ipv4ListenRangePrefixes().get(0));
        Assertions.assertEquals("nqqkqxkd",
            response.iterator().next().properties().bgpConfiguration().ipv6ListenRangePrefixes().get(0));
        Assertions.assertEquals("tfcjapmfwxmcxhw",
            response.iterator().next().properties().bgpConfiguration().ipv4NeighborAddress().get(0).address());
        Assertions.assertEquals("mgadhmqyufpfo",
            response.iterator().next().properties().bgpConfiguration().ipv6NeighborAddress().get(0).address());
        Assertions.assertEquals("sir",
            response.iterator()
                .next()
                .properties()
                .bgpConfiguration()
                .bmpConfiguration()
                .neighborIpExclusions()
                .get(0));
        Assertions.assertEquals(BmpConfigurationState.DISABLED,
            response.iterator().next().properties().bgpConfiguration().bmpConfiguration().bmpConfigurationState());
        Assertions.assertEquals(V4OverV6BgpSessionState.DISABLED,
            response.iterator().next().properties().bgpConfiguration().v4OverV6BgpSession());
        Assertions.assertEquals(V6OverV4BgpSessionState.ENABLED,
            response.iterator().next().properties().bgpConfiguration().v6OverV4BgpSession());
        Assertions.assertEquals(1155480100,
            response.iterator()
                .next()
                .properties()
                .staticRouteConfiguration()
                .bfdConfiguration()
                .intervalInMilliSeconds());
        Assertions.assertEquals(1990320910,
            response.iterator().next().properties().staticRouteConfiguration().bfdConfiguration().multiplier());
        Assertions.assertEquals("kyqhrpl",
            response.iterator().next().properties().staticRouteConfiguration().ipv4Routes().get(0).prefix());
        Assertions.assertEquals("q",
            response.iterator().next().properties().staticRouteConfiguration().ipv4Routes().get(0).nextHop().get(0));
        Assertions.assertEquals("ksdlulytjxhxwtit",
            response.iterator().next().properties().staticRouteConfiguration().ipv6Routes().get(0).prefix());
        Assertions.assertEquals("nvukvupu",
            response.iterator().next().properties().staticRouteConfiguration().ipv6Routes().get(0).nextHop().get(0));
        Assertions.assertEquals(Extension.NO_EXTENSION,
            response.iterator().next().properties().staticRouteConfiguration().extension());
        Assertions.assertEquals(1035636942,
            response.iterator().next().properties().nativeIpv4PrefixLimit().prefixLimits().get(0).maximumRoutes());
        Assertions.assertEquals(912597444,
            response.iterator().next().properties().nativeIpv4PrefixLimit().prefixLimits().get(0).threshold());
        Assertions.assertEquals(1042879091,
            response.iterator().next().properties().nativeIpv4PrefixLimit().prefixLimits().get(0).idleTimeExpiry());
        Assertions.assertEquals(1581669880,
            response.iterator().next().properties().nativeIpv6PrefixLimit().prefixLimits().get(0).maximumRoutes());
        Assertions.assertEquals(400306725,
            response.iterator().next().properties().nativeIpv6PrefixLimit().prefixLimits().get(0).threshold());
        Assertions.assertEquals(585694503,
            response.iterator().next().properties().nativeIpv6PrefixLimit().prefixLimits().get(0).idleTimeExpiry());
    }
}
