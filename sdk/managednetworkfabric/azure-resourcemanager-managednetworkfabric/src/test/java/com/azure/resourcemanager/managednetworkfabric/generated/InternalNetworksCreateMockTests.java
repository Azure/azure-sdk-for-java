// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.managednetworkfabric.FilesharesManager;
import com.azure.resourcemanager.managednetworkfabric.models.AllowASOverride;
import com.azure.resourcemanager.managednetworkfabric.models.BfdConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.BgpConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.BmpConfigurationState;
import com.azure.resourcemanager.managednetworkfabric.models.BooleanEnumProperty;
import com.azure.resourcemanager.managednetworkfabric.models.ConnectedSubnet;
import com.azure.resourcemanager.managednetworkfabric.models.ExportRoutePolicy;
import com.azure.resourcemanager.managednetworkfabric.models.Extension;
import com.azure.resourcemanager.managednetworkfabric.models.ImportRoutePolicy;
import com.azure.resourcemanager.managednetworkfabric.models.InternalNetwork;
import com.azure.resourcemanager.managednetworkfabric.models.InternalNetworkBmpProperties;
import com.azure.resourcemanager.managednetworkfabric.models.InternalNetworkProperties;
import com.azure.resourcemanager.managednetworkfabric.models.IsMonitoringEnabled;
import com.azure.resourcemanager.managednetworkfabric.models.NativeIpv4PrefixLimitProperties;
import com.azure.resourcemanager.managednetworkfabric.models.NativeIpv6PrefixLimitProperties;
import com.azure.resourcemanager.managednetworkfabric.models.NeighborAddress;
import com.azure.resourcemanager.managednetworkfabric.models.PrefixLimitProperties;
import com.azure.resourcemanager.managednetworkfabric.models.StaticRouteConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.StaticRouteProperties;
import com.azure.resourcemanager.managednetworkfabric.models.V4OverV6BgpSessionState;
import com.azure.resourcemanager.managednetworkfabric.models.V6OverV4BgpSessionState;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class InternalNetworksCreateMockTests {
    @Test
    public void testCreate() throws Exception {
        String responseStr
            = "{\"properties\":{\"annotation\":\"jnn\",\"mtu\":104657338,\"connectedIPv4Subnets\":[{\"annotation\":\"hjenb\",\"prefix\":\"upfpllo\"},{\"annotation\":\"djffllrsfghyyeok\",\"prefix\":\"dzuddcccls\"},{\"annotation\":\"lcxxpmnypktgslk\",\"prefix\":\"kqaqgzcojgdqjh\"}],\"connectedIPv6Subnets\":[{\"annotation\":\"jgpjnydkkgbvsqks\",\"prefix\":\"gkvga\"},{\"annotation\":\"rhrqqiwfysujc\",\"prefix\":\"hclgpexrxyrpwzsm\"},{\"annotation\":\"ebpsk\",\"prefix\":\"pcifdvt\"},{\"annotation\":\"ncnf\",\"prefix\":\"yjwjmyubhtmlgjai\"}],\"importRoutePolicy\":{\"importIpv4RoutePolicyId\":\"mjdwirgl\",\"importIpv6RoutePolicyId\":\"bjgvmkawuuxbzfhu\"},\"exportRoutePolicy\":{\"exportIpv4RoutePolicyId\":\"k\",\"exportIpv6RoutePolicyId\":\"witzm\"},\"ingressAclId\":\"iglehylbnayyps\",\"egressAclId\":\"hoem\",\"isMonitoringEnabled\":\"False\",\"extension\":\"NoExtension\",\"vlanId\":1489374017,\"bgpConfiguration\":{\"annotation\":\"pvfgukrx\",\"bfdConfiguration\":{\"administrativeState\":\"Enabled\",\"intervalInMilliSeconds\":777407861,\"multiplier\":903391420},\"defaultRouteOriginate\":\"True\",\"allowAS\":1338000656,\"allowASOverride\":\"Enable\",\"fabricASN\":5065824331626095860,\"peerASN\":4364964946149893970,\"ipv4ListenRangePrefixes\":[\"krum\",\"aeqbo\",\"gwjxatwxiyarfhi\"],\"ipv6ListenRangePrefixes\":[\"tidzvvndpr\",\"ruexhgdh\",\"kplaseyltqx\",\"pfopekyzdzvhyoid\"],\"ipv4NeighborAddress\":[{\"address\":\"yj\",\"bfdAdministrativeState\":\"MAT\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"Rejected\"},{\"address\":\"sifixolvny\",\"bfdAdministrativeState\":\"Enabled\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"Accepted\"},{\"address\":\"puayxtvpi\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Enabled\",\"configurationState\":\"Provisioned\"},{\"address\":\"j\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"Succeeded\"}],\"ipv6NeighborAddress\":[{\"address\":\"eegiczrvnez\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Enabled\",\"configurationState\":\"Provisioned\"},{\"address\":\"phf\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"Succeeded\"},{\"address\":\"jmgswtwms\",\"bfdAdministrativeState\":\"Disabled\",\"bgpAdministrativeState\":\"Disabled\",\"configurationState\":\"Rejected\"}],\"bmpConfiguration\":{\"neighborIpExclusions\":[\"rkxe\",\"kqv\",\"agnzbkq\"],\"bmpConfigurationState\":\"Disabled\"},\"v4OverV6BgpSession\":\"Disabled\",\"v6OverV4BgpSession\":\"Enabled\"},\"staticRouteConfiguration\":{\"bfdConfiguration\":{\"administrativeState\":\"Disabled\",\"intervalInMilliSeconds\":634549734,\"multiplier\":1660850140},\"ipv4Routes\":[{\"prefix\":\"uw\",\"nextHop\":[\"uepanqdmm\",\"odp\",\"tblmxblcbwvsqp\"]},{\"prefix\":\"avlcbb\",\"nextHop\":[\"epcgirsfilxusyzc\"]},{\"prefix\":\"xjvipehxlbbur\",\"nextHop\":[\"ovgjipbnnghs\",\"xwjnwgoxenhpyix\",\"brsaeuzsojblyygf\",\"icuydrswq\"]},{\"prefix\":\"teuyqtzo\",\"nextHop\":[\"otrbnvoe\",\"httoqoafdvxrl\",\"srfrxylmdjp\"]}],\"ipv6Routes\":[{\"prefix\":\"pkpcvhqadjc\",\"nextHop\":[\"ncgquixu\",\"vatstkvo\",\"vcktj\",\"cjkexybxyrc\"]},{\"prefix\":\"gptx\",\"nextHop\":[\"hyunwm\",\"fjjsel\",\"lwmfudpntps\"]},{\"prefix\":\"fm\",\"nextHop\":[\"tytrivfle\",\"vefnzv\"]}],\"extension\":\"NPB\"},\"nativeIpv4PrefixLimit\":{\"prefixLimits\":[{\"maximumRoutes\":64916924,\"threshold\":2136602258,\"idleTimeExpiry\":264006500},{\"maximumRoutes\":1616604324,\"threshold\":777618824,\"idleTimeExpiry\":130802880},{\"maximumRoutes\":93911031,\"threshold\":397760785,\"idleTimeExpiry\":1117878854}]},\"nativeIpv6PrefixLimit\":{\"prefixLimits\":[{\"maximumRoutes\":1146479822,\"threshold\":2017513156,\"idleTimeExpiry\":1966189663},{\"maximumRoutes\":955161866,\"threshold\":1761039987,\"idleTimeExpiry\":566256487},{\"maximumRoutes\":1308646323,\"threshold\":167167076,\"idleTimeExpiry\":344739031},{\"maximumRoutes\":588956796,\"threshold\":2065055288,\"idleTimeExpiry\":1169863114}]},\"lastOperation\":{\"details\":\"crtv\"},\"configurationState\":\"Deprovisioned\",\"provisioningState\":\"Succeeded\",\"administrativeState\":\"RMA\"},\"id\":\"xlui\",\"name\":\"a\",\"type\":\"qwbrfiovpdlt\"}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        FilesharesManager manager = FilesharesManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        InternalNetwork response
            = manager.internalNetworks()
                .define("iihrfcowlase")
                .withExistingL3IsolationDomain("bxlepsmckgpxdx", "cqmguvdk")
                .withProperties(
                    new InternalNetworkProperties().withAnnotation("fywxjjylaqhxevf")
                        .withMtu(1511567540)
                        .withConnectedIPv4Subnets(Arrays.asList(
                            new ConnectedSubnet().withAnnotation("wgkynxlwrjgot").withPrefix("tmcktkalhpiy"),
                            new ConnectedSubnet().withAnnotation("nkylzrignql").withPrefix("og")))
                        .withConnectedIPv6Subnets(
                            Arrays.asList(new ConnectedSubnet().withAnnotation("uaiuvemqcb").withPrefix("kivexiathmar"),
                                new ConnectedSubnet().withAnnotation("wyfcenkbfxqcap").withPrefix("geciradmxokbutbb")))
                        .withImportRoutePolicy(new ImportRoutePolicy().withImportIpv4RoutePolicyId("zay")
                            .withImportIpv6RoutePolicyId("sejdhrodyiitr"))
                        .withExportRoutePolicy(new ExportRoutePolicy()
                            .withExportIpv4RoutePolicyId("jtgoppybsec")
                            .withExportIpv6RoutePolicyId("a"))
                        .withIngressAclId("hasz")
                        .withEgressAclId("etfstdwqdvz")
                        .withIsMonitoringEnabled(IsMonitoringEnabled.TRUE)
                        .withExtension(Extension.NO_EXTENSION)
                        .withVlanId(2050100407)
                        .withBgpConfiguration(new BgpConfiguration().withAnnotation("tkreisojhuswm")
                            .withBfdConfiguration(new BfdConfiguration().withIntervalInMilliSeconds(1482722257)
                                .withMultiplier(1919720321))
                            .withDefaultRouteOriginate(BooleanEnumProperty.TRUE)
                            .withAllowAS(1421924886)
                            .withAllowASOverride(AllowASOverride.ENABLE)
                            .withPeerASN(5677872760193987402L)
                            .withIpv4ListenRangePrefixes(Arrays.asList("tebwedjri", "zppgij"))
                            .withIpv6ListenRangePrefixes(Arrays.asList("ba"))
                            .withIpv4NeighborAddress(Arrays.asList(new NeighborAddress().withAddress("pgaxpydemccqdss"),
                                new NeighborAddress().withAddress("dhnhs")))
                            .withIpv6NeighborAddress(
                                Arrays.asList(new NeighborAddress().withAddress("uhxyksfyzevckngl"),
                                    new NeighborAddress().withAddress("sffrpjfxsyx")))
                            .withBmpConfiguration(new InternalNetworkBmpProperties()
                                .withNeighborIpExclusions(
                                    Arrays.asList("frspreyilqc", "kxkteoykqrqtxqog", "ddimnacklyrb", "mbdgexpnphtq"))
                                .withBmpConfigurationState(BmpConfigurationState.ENABLED))
                            .withV4OverV6BgpSession(V4OverV6BgpSessionState.ENABLED)
                            .withV6OverV4BgpSession(V6OverV4BgpSessionState.ENABLED))
                        .withStaticRouteConfiguration(new StaticRouteConfiguration()
                            .withBfdConfiguration(
                                new BfdConfiguration().withIntervalInMilliSeconds(703316376).withMultiplier(1940849538))
                            .withIpv4Routes(Arrays.asList(
                                new StaticRouteProperties().withPrefix("jlfugnrzowcgrz")
                                    .withNextHop(Arrays.asList("q", "ozawqxn", "lva")),
                                new StaticRouteProperties().withPrefix("ugwxdwtfmfjk")
                                    .withNextHop(Arrays.asList("plhaljomgzo", "prraptvbjenylgeb", "snvofuyz")),
                                new StaticRouteProperties().withPrefix("bploazccghgermma")
                                    .withNextHop(Arrays.asList("bxui", "soawxugpu"))))
                            .withIpv6Routes(Arrays.asList(
                                new StaticRouteProperties().withPrefix("kwxzmuzg")
                                    .withNextHop(Arrays.asList("uygpbhauhe")),
                                new StaticRouteProperties().withPrefix("msw").withNextHop(Arrays.asList("ygx")),
                                new StaticRouteProperties().withPrefix("z")
                                    .withNextHop(Arrays.asList("rnqwdjvlwqzxyyl", "sfxqcmejezjcb"))))
                            .withExtension(Extension.NO_EXTENSION))
                        .withNativeIpv4PrefixLimit(new NativeIpv4PrefixLimitProperties()
                            .withPrefixLimits(Arrays.asList(new PrefixLimitProperties().withMaximumRoutes(2117314492)
                                .withThreshold(36675023)
                                .withIdleTimeExpiry(1002429553))))
                        .withNativeIpv6PrefixLimit(new NativeIpv6PrefixLimitProperties().withPrefixLimits(Arrays.asList(
                            new PrefixLimitProperties().withMaximumRoutes(1376032007)
                                .withThreshold(1358708631)
                                .withIdleTimeExpiry(600356946),
                            new PrefixLimitProperties().withMaximumRoutes(631184856)
                                .withThreshold(1072864140)
                                .withIdleTimeExpiry(1125048143),
                            new PrefixLimitProperties().withMaximumRoutes(1783066324)
                                .withThreshold(559087611)
                                .withIdleTimeExpiry(875719141)))))
                .create();

        Assertions.assertEquals("jnn", response.properties().annotation());
        Assertions.assertEquals(104657338, response.properties().mtu());
        Assertions.assertEquals("hjenb", response.properties().connectedIPv4Subnets().get(0).annotation());
        Assertions.assertEquals("upfpllo", response.properties().connectedIPv4Subnets().get(0).prefix());
        Assertions.assertEquals("jgpjnydkkgbvsqks", response.properties().connectedIPv6Subnets().get(0).annotation());
        Assertions.assertEquals("gkvga", response.properties().connectedIPv6Subnets().get(0).prefix());
        Assertions.assertEquals("mjdwirgl", response.properties().importRoutePolicy().importIpv4RoutePolicyId());
        Assertions.assertEquals("bjgvmkawuuxbzfhu",
            response.properties().importRoutePolicy().importIpv6RoutePolicyId());
        Assertions.assertEquals("k", response.properties().exportRoutePolicy().exportIpv4RoutePolicyId());
        Assertions.assertEquals("witzm", response.properties().exportRoutePolicy().exportIpv6RoutePolicyId());
        Assertions.assertEquals("iglehylbnayyps", response.properties().ingressAclId());
        Assertions.assertEquals("hoem", response.properties().egressAclId());
        Assertions.assertEquals(IsMonitoringEnabled.FALSE, response.properties().isMonitoringEnabled());
        Assertions.assertEquals(Extension.NO_EXTENSION, response.properties().extension());
        Assertions.assertEquals(1489374017, response.properties().vlanId());
        Assertions.assertEquals("pvfgukrx", response.properties().bgpConfiguration().annotation());
        Assertions.assertEquals(777407861,
            response.properties().bgpConfiguration().bfdConfiguration().intervalInMilliSeconds());
        Assertions.assertEquals(903391420, response.properties().bgpConfiguration().bfdConfiguration().multiplier());
        Assertions.assertEquals(BooleanEnumProperty.TRUE,
            response.properties().bgpConfiguration().defaultRouteOriginate());
        Assertions.assertEquals(1338000656, response.properties().bgpConfiguration().allowAS());
        Assertions.assertEquals(AllowASOverride.ENABLE, response.properties().bgpConfiguration().allowASOverride());
        Assertions.assertEquals(4364964946149893970L, response.properties().bgpConfiguration().peerASN());
        Assertions.assertEquals("krum", response.properties().bgpConfiguration().ipv4ListenRangePrefixes().get(0));
        Assertions.assertEquals("tidzvvndpr",
            response.properties().bgpConfiguration().ipv6ListenRangePrefixes().get(0));
        Assertions.assertEquals("yj", response.properties().bgpConfiguration().ipv4NeighborAddress().get(0).address());
        Assertions.assertEquals("eegiczrvnez",
            response.properties().bgpConfiguration().ipv6NeighborAddress().get(0).address());
        Assertions.assertEquals("rkxe",
            response.properties().bgpConfiguration().bmpConfiguration().neighborIpExclusions().get(0));
        Assertions.assertEquals(BmpConfigurationState.DISABLED,
            response.properties().bgpConfiguration().bmpConfiguration().bmpConfigurationState());
        Assertions.assertEquals(V4OverV6BgpSessionState.DISABLED,
            response.properties().bgpConfiguration().v4OverV6BgpSession());
        Assertions.assertEquals(V6OverV4BgpSessionState.ENABLED,
            response.properties().bgpConfiguration().v6OverV4BgpSession());
        Assertions.assertEquals(634549734,
            response.properties().staticRouteConfiguration().bfdConfiguration().intervalInMilliSeconds());
        Assertions.assertEquals(1660850140,
            response.properties().staticRouteConfiguration().bfdConfiguration().multiplier());
        Assertions.assertEquals("uw", response.properties().staticRouteConfiguration().ipv4Routes().get(0).prefix());
        Assertions.assertEquals("uepanqdmm",
            response.properties().staticRouteConfiguration().ipv4Routes().get(0).nextHop().get(0));
        Assertions.assertEquals("pkpcvhqadjc",
            response.properties().staticRouteConfiguration().ipv6Routes().get(0).prefix());
        Assertions.assertEquals("ncgquixu",
            response.properties().staticRouteConfiguration().ipv6Routes().get(0).nextHop().get(0));
        Assertions.assertEquals(Extension.NPB, response.properties().staticRouteConfiguration().extension());
        Assertions.assertEquals(64916924,
            response.properties().nativeIpv4PrefixLimit().prefixLimits().get(0).maximumRoutes());
        Assertions.assertEquals(2136602258,
            response.properties().nativeIpv4PrefixLimit().prefixLimits().get(0).threshold());
        Assertions.assertEquals(264006500,
            response.properties().nativeIpv4PrefixLimit().prefixLimits().get(0).idleTimeExpiry());
        Assertions.assertEquals(1146479822,
            response.properties().nativeIpv6PrefixLimit().prefixLimits().get(0).maximumRoutes());
        Assertions.assertEquals(2017513156,
            response.properties().nativeIpv6PrefixLimit().prefixLimits().get(0).threshold());
        Assertions.assertEquals(1966189663,
            response.properties().nativeIpv6PrefixLimit().prefixLimits().get(0).idleTimeExpiry());
    }
}
