// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.managednetworkfabric.models.EncapsulationType;
import com.azure.resourcemanager.managednetworkfabric.models.IpMatchCondition;
import com.azure.resourcemanager.managednetworkfabric.models.Layer4Protocol;
import com.azure.resourcemanager.managednetworkfabric.models.NetworkTapRuleMatchCondition;
import com.azure.resourcemanager.managednetworkfabric.models.PortCondition;
import com.azure.resourcemanager.managednetworkfabric.models.PortType;
import com.azure.resourcemanager.managednetworkfabric.models.PrefixType;
import com.azure.resourcemanager.managednetworkfabric.models.SourceDestinationType;
import com.azure.resourcemanager.managednetworkfabric.models.VlanMatchCondition;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class NetworkTapRuleMatchConditionTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        NetworkTapRuleMatchCondition model = BinaryData.fromString(
            "{\"protocolTypes\":[\"dtsr\",\"j\"],\"vlanMatchCondition\":{\"vlans\":[\"acrzhnsbylgmg\",\"huqczouanbfulv\",\"xglxoqwbztil\",\"bzbwbgwzhbhfljey\"],\"innerVlans\":[\"iovnlhrwyakzuaf\",\"pwxsvdeatjiobni\"],\"vlanGroupNames\":[\"extqd\",\"wtgntimznupb\",\"tbsetko\",\"sqvhe\"]},\"ipCondition\":{\"type\":\"SourceIP\",\"prefixType\":\"Prefix\",\"ipPrefixValues\":[\"zmmmjyvdhdgdi\",\"m\",\"gstmfetqjisjmo\"],\"ipGroupNames\":[\"aqfkakhgkrvtyycv\",\"tvjej\"]},\"encapsulationType\":\"None\",\"portCondition\":{\"portType\":\"DestinationPort\",\"layer4Protocol\":\"UDP\",\"ports\":[\"zxkczb\"],\"portGroupNames\":[\"bb\",\"mh\"]}}")
            .toObject(NetworkTapRuleMatchCondition.class);
        Assertions.assertEquals("dtsr", model.protocolTypes().get(0));
        Assertions.assertEquals("acrzhnsbylgmg", model.vlanMatchCondition().vlans().get(0));
        Assertions.assertEquals("iovnlhrwyakzuaf", model.vlanMatchCondition().innerVlans().get(0));
        Assertions.assertEquals("extqd", model.vlanMatchCondition().vlanGroupNames().get(0));
        Assertions.assertEquals(SourceDestinationType.SOURCE_IP, model.ipCondition().type());
        Assertions.assertEquals(PrefixType.PREFIX, model.ipCondition().prefixType());
        Assertions.assertEquals("zmmmjyvdhdgdi", model.ipCondition().ipPrefixValues().get(0));
        Assertions.assertEquals("aqfkakhgkrvtyycv", model.ipCondition().ipGroupNames().get(0));
        Assertions.assertEquals(EncapsulationType.NONE, model.encapsulationType());
        Assertions.assertEquals(PortType.DESTINATION_PORT, model.portCondition().portType());
        Assertions.assertEquals(Layer4Protocol.UDP, model.portCondition().layer4Protocol());
        Assertions.assertEquals("zxkczb", model.portCondition().ports().get(0));
        Assertions.assertEquals("bb", model.portCondition().portGroupNames().get(0));
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        NetworkTapRuleMatchCondition model
            = new NetworkTapRuleMatchCondition().withProtocolTypes(Arrays.asList("dtsr", "j"))
                .withVlanMatchCondition(new VlanMatchCondition()
                    .withVlans(Arrays.asList("acrzhnsbylgmg", "huqczouanbfulv", "xglxoqwbztil", "bzbwbgwzhbhfljey"))
                    .withInnerVlans(Arrays.asList("iovnlhrwyakzuaf", "pwxsvdeatjiobni"))
                    .withVlanGroupNames(Arrays.asList("extqd", "wtgntimznupb", "tbsetko", "sqvhe")))
                .withIpCondition(new IpMatchCondition().withType(SourceDestinationType.SOURCE_IP)
                    .withPrefixType(PrefixType.PREFIX)
                    .withIpPrefixValues(Arrays.asList("zmmmjyvdhdgdi", "m", "gstmfetqjisjmo"))
                    .withIpGroupNames(Arrays.asList("aqfkakhgkrvtyycv", "tvjej")))
                .withEncapsulationType(EncapsulationType.NONE)
                .withPortCondition(new PortCondition().withPortType(PortType.DESTINATION_PORT)
                    .withLayer4Protocol(Layer4Protocol.UDP)
                    .withPorts(Arrays.asList("zxkczb"))
                    .withPortGroupNames(Arrays.asList("bb", "mh")));
        model = BinaryData.fromObject(model).toObject(NetworkTapRuleMatchCondition.class);
        Assertions.assertEquals("dtsr", model.protocolTypes().get(0));
        Assertions.assertEquals("acrzhnsbylgmg", model.vlanMatchCondition().vlans().get(0));
        Assertions.assertEquals("iovnlhrwyakzuaf", model.vlanMatchCondition().innerVlans().get(0));
        Assertions.assertEquals("extqd", model.vlanMatchCondition().vlanGroupNames().get(0));
        Assertions.assertEquals(SourceDestinationType.SOURCE_IP, model.ipCondition().type());
        Assertions.assertEquals(PrefixType.PREFIX, model.ipCondition().prefixType());
        Assertions.assertEquals("zmmmjyvdhdgdi", model.ipCondition().ipPrefixValues().get(0));
        Assertions.assertEquals("aqfkakhgkrvtyycv", model.ipCondition().ipGroupNames().get(0));
        Assertions.assertEquals(EncapsulationType.NONE, model.encapsulationType());
        Assertions.assertEquals(PortType.DESTINATION_PORT, model.portCondition().portType());
        Assertions.assertEquals(Layer4Protocol.UDP, model.portCondition().layer4Protocol());
        Assertions.assertEquals("zxkczb", model.portCondition().ports().get(0));
        Assertions.assertEquals("bb", model.portCondition().portGroupNames().get(0));
    }
}
