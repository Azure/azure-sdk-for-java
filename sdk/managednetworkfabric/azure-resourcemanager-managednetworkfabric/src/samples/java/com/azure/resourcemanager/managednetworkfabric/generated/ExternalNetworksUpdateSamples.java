// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.managednetworkfabric.generated;

import com.azure.resourcemanager.managednetworkfabric.models.BfdPatchConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.BmpConfigurationState;
import com.azure.resourcemanager.managednetworkfabric.models.ExportRoutePolicyPatch;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetwork;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkBmpPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkPatchPropertiesOptionAProperties;
import com.azure.resourcemanager.managednetworkfabric.models.ExternalNetworkStaticRoutePatchConfiguration;
import com.azure.resourcemanager.managednetworkfabric.models.ImportRoutePolicyPatch;
import com.azure.resourcemanager.managednetworkfabric.models.L3OptionBPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.NativeIpv4PrefixLimitPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.NativeIpv6PrefixLimitPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.PeeringOption;
import com.azure.resourcemanager.managednetworkfabric.models.PrefixLimitPatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.RouteTargetPatchInformation;
import com.azure.resourcemanager.managednetworkfabric.models.StaticRoutePatchProperties;
import com.azure.resourcemanager.managednetworkfabric.models.V4OverV6BgpSessionState;
import com.azure.resourcemanager.managednetworkfabric.models.V6OverV4BgpSessionState;
import java.util.Arrays;

/**
 * Samples for ExternalNetworks Update.
 */
public final class ExternalNetworksUpdateSamples {
    /*
     * x-ms-original-file: 2024-06-15-preview/ExternalNetworks_Update.json
     */
    /**
     * Sample code: ExternalNetworks_Update_MaximumSet_Gen.
     * 
     * @param manager Entry point to FilesharesManager.
     */
    public static void
        externalNetworksUpdateMaximumSetGen(com.azure.resourcemanager.managednetworkfabric.FilesharesManager manager) {
        ExternalNetwork resource = manager.externalNetworks()
            .getWithResponse("example-rg", "example-externalnetwork", "example-ext", com.azure.core.util.Context.NONE)
            .getValue();
        resource.update()
            .withProperties(new ExternalNetworkPatchProperties().withAnnotation("annotation1")
                .withNetworkToNetworkInterconnectId(
                    "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkFabrics/example-fabric/networkToNetworkInterconnects/example-nni")
                .withImportRoutePolicy(new ImportRoutePolicyPatch().withImportIpv4RoutePolicyId(
                    "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/routePolicies/routePolicyName")
                    .withImportIpv6RoutePolicyId(
                        "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/routePolicies/routePolicyName"))
                .withExportRoutePolicy(new ExportRoutePolicyPatch().withExportIpv4RoutePolicyId(
                    "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/routePolicies/routePolicyName")
                    .withExportIpv6RoutePolicyId(
                        "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/routePolicies/routePolicyName"))
                .withPeeringOption(PeeringOption.OPTIONA)
                .withOptionBProperties(
                    new L3OptionBPatchProperties().withImportRouteTargets(Arrays.asList("65046:10039"))
                        .withExportRouteTargets(Arrays.asList("65046:10039"))
                        .withRouteTargets(new RouteTargetPatchInformation()
                            .withImportIpv4RouteTargets(Arrays.asList("65046:10050"))
                            .withImportIpv6RouteTargets(Arrays.asList("65046:10050"))
                            .withExportIpv4RouteTargets(Arrays.asList("65046:10050"))
                            .withExportIpv6RouteTargets(Arrays.asList("65046:10050"))))
                .withOptionAProperties(new ExternalNetworkPatchPropertiesOptionAProperties()
                    .withPrimaryIpv4Prefix("10.1.1.0/30")
                    .withPrimaryIpv6Prefix("3FFE:FFFF:0:CD30::a0/126")
                    .withSecondaryIpv4Prefix("10.1.1.4/30")
                    .withSecondaryIpv6Prefix("3FFE:FFFF:0:CD30::a4/126")
                    .withMtu(1500)
                    .withVlanId(1001)
                    .withPeerASN(65047L)
                    .withBfdConfiguration(
                        new BfdPatchConfiguration().withIntervalInMilliSeconds(300).withMultiplier(10))
                    .withIngressAclId(
                        "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/accessControlLists/example-acl")
                    .withEgressAclId(
                        "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/accessControlLists/example-acl")
                    .withBmpConfiguration(
                        new ExternalNetworkBmpPatchProperties().withConfigurationState(BmpConfigurationState.ENABLED))
                    .withV4OverV6BgpSession(V4OverV6BgpSessionState.ENABLED)
                    .withV6OverV4BgpSession(V6OverV4BgpSessionState.ENABLED)
                    .withNativeIpv4PrefixLimit(new NativeIpv4PrefixLimitPatchProperties()
                        .withPrefixLimits(Arrays.asList(new PrefixLimitPatchProperties().withMaximumRoutes(13)
                            .withThreshold(24)
                            .withIdleTimeExpiry(8))))
                    .withNativeIpv6PrefixLimit(new NativeIpv6PrefixLimitPatchProperties()
                        .withPrefixLimits(Arrays.asList(new PrefixLimitPatchProperties().withMaximumRoutes(13)
                            .withThreshold(24)
                            .withIdleTimeExpiry(8)))))
                .withStaticRouteConfiguration(new ExternalNetworkStaticRoutePatchConfiguration()
                    .withBfdConfiguration(
                        new BfdPatchConfiguration().withIntervalInMilliSeconds(300).withMultiplier(10))
                    .withIpv4Routes(Arrays.asList(new StaticRoutePatchProperties().withPrefix("10.0.0.1/14")
                        .withNextHop(Arrays.asList("10.0.0.1"))))
                    .withIpv6Routes(Arrays.asList(new StaticRoutePatchProperties().withPrefix("2fff::/64")
                        .withNextHop(Arrays.asList("3ffe::1"))))))
            .apply();
    }
}
